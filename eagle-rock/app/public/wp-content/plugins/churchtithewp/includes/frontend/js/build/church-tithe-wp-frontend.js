!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdealBankElement=t.IbanElement=t.PaymentRequestButtonElement=t.CardCVCElement=t.CardCvcElement=t.CardExpiryElement=t.CardNumberElement=t.CardElement=t.Elements=t.injectStripe=t.StripeProvider=void 0;var i=c(n(5)),r=c(n(9)),a=c(n(4)),s=c(n(10)),o=c(n(12));function c(e){return e&&e.__esModule?e:{default:e}}var _=(0,s.default)("card",{impliedTokenType:"card",impliedSourceType:"card",impliedPaymentMethodType:"card"}),u=(0,s.default)("cardNumber",{impliedTokenType:"card",impliedSourceType:"card",impliedPaymentMethodType:"card"}),l=(0,s.default)("cardExpiry"),p=(0,s.default)("cardCvc"),h=p,m=(0,s.default)("iban",{impliedTokenType:"bank_account",impliedSourceType:"sepa_debit"}),d=(0,s.default)("idealBank",{impliedSourceType:"ideal"});t.StripeProvider=i.default,t.injectStripe=r.default,t.Elements=a.default,t.CardElement=_,t.CardNumberElement=u,t.CardExpiryElement=l,t.CardCvcElement=p,t.CardCVCElement=h,t.PaymentRequestButtonElement=o.default,t.IbanElement=m,t.IdealBankElement=d},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var church_tithe_wp_vars=church_tithe_wp_js_vars.tithe_form_vars,Church_Tithe_WP_List_View=function(_React$Component){function Church_Tithe_WP_List_View(e){var t;return _classCallCheck(this,Church_Tithe_WP_List_View),(t=_possibleConstructorReturn(this,_getPrototypeOf(Church_Tithe_WP_List_View).call(this,e))).state={current_page:1,items_per_page:10,search_term:""},t.render_rows=t.render_rows.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(Church_Tithe_WP_List_View,_React$Component),_createClass(Church_Tithe_WP_List_View,[{key:"get_total_pages",value:function(){return this.props.total_items?Math.ceil(this.props.total_items/this.state.items_per_page):0}},{key:"handle_page_number_change",value:function(e){this.setState({current_page:e.target.value,rows:null,columns:null},function(){this.props.get_rows_and_columns(this.state.current_page,this.state.items_per_page,this.state.search_term)})}},{key:"handle_items_per_page_change",value:function(e){this.setState({current_page:1,items_per_page:e.target.value},function(){this.props.get_rows_and_columns(this.state.current_page,this.state.items_per_page,this.state.search_term)})}},{key:"handle_search_change",value:function(e){var t=this;this.setState({search_term:e.target.value},function(){t.input_delay&&(clearTimeout(t.input_delay),t.input_delay=null);t.input_delay=setTimeout(function(){clearTimeout(t.input_delay),t.setState({current_page:1,rows:null,columns:null},function(){this.props.get_rows_and_columns(this.state.current_page,this.state.items_per_page,this.state.search_term)})},50)})}},{key:"render_columns",value:function(e){if(!e)return!1;var t=[];for(var n in e)t.push(React.createElement("div",{key:n,scope:"col",className:"church-tithe-wp-list-view-column"},React.createElement("span",null,e[n])));return t}},{key:"render_rows",value:function render_rows(rows,columns){var _this3=this,mapper=[],td_mapper=[],value;if(!rows||0==this.props.total_items){var first=!0;for(var key in columns)td_mapper.push(first?(first=!1,React.createElement("div",{key:key,className:"church-tithe-wp-list-view-cell"},"None Found")):(first=!1,React.createElement("div",{key:key,className:"church-tithe-wp-list-view-cell"},"")));return mapper.push(React.createElement("div",{key:"none_found",className:"church-tithe-wp-list-view-row"},td_mapper)),mapper}for(var row in rows){for(var key in columns)td_mapper.push(function(){if(rows[row][key].show_in_list_view)return value=rows[row][key].value_format_function?eval(rows[row][key].value_format_function)(rows[row][key]):rows[row][key].value,React.createElement("div",{key:key,className:"church-tithe-wp-list-view-cell"},React.createElement("button",{className:"church-tithe-wp-text-button",onClick:_this3.props.on_row_click.bind(_this3,rows[row])},value))}());mapper.push(React.createElement("div",{key:row,className:"church-tithe-wp-list-view-row"},td_mapper)),td_mapper=[]}return mapper}},{key:"render_search",value:function(){return React.createElement("div",{className:"church-tithe-wp-list-view-search"},React.createElement("span",null,this.props.main_component.state.unique_settings.strings.uppercase_search),React.createElement("input",{type:"text",value:this.state.search_term,onChange:this.handle_search_change.bind(this)}))}},{key:"render_pagination",value:function(){return React.createElement("div",{className:"church-tithe-wp-list-view-pagination-controls"},React.createElement("div",{className:"church-tithe-wp-list-view-items-per-page"},React.createElement("span",null,this.props.main_component.state.unique_settings.strings.uppercase_items+" "+this.props.main_component.state.unique_settings.strings.lowercase_per+" "+this.props.main_component.state.unique_settings.strings.lowercase_page),React.createElement("input",{type:"number",min:1,onChange:this.handle_items_per_page_change.bind(this),value:this.state.items_per_page})),React.createElement("div",{className:"church-tithe-wp-list-view-pagination"},React.createElement("span",null,this.props.main_component.state.unique_settings.strings.uppercase_page),React.createElement("input",{type:"number",min:1,max:this.get_total_pages(),onChange:this.handle_page_number_change.bind(this),value:this.state.current_page}),React.createElement("span",null," "+this.props.main_component.state.unique_settings.strings.lowercase_of+" "+this.get_total_pages())))}},{key:"render_list_table",value:function(){var e=this;return React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-list-view-table"},React.createElement("div",{className:"church-tithe-wp-list-view-table-header"},React.createElement("div",{className:"church-tithe-wp-list-view-header-row"},this.render_columns(this.props.columns))),React.createElement("div",{className:"church-tithe-wp-list-view-body"},this.render_rows(this.props.rows,this.props.columns))),void e.props.current_visual_state)}},{key:"render_list_view",value:function(){return React.createElement("div",{className:"church-tithe-wp-list-view"},React.createElement("div",{className:"church-tithe-wp-list-view-before-controls"},this.render_search()),this.render_list_table(),React.createElement("div",{className:"church-tithe-wp-list-view-after-controls"},this.render_pagination()))}},{key:"render",value:function(){return React.createElement("div",{className:"church-tithe-wp-list-view"},React.createElement("div",{className:"church-tithe-wp-list-view-content-area"},this.render_list_view()))}}]),Church_Tithe_WP_List_View}(React.Component);__webpack_exports__.a=Church_Tithe_WP_List_View},function(e,t,n){e.exports=n(7)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementContextTypes=t.injectContextTypes=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=o(n(0)),a=o(n(3)),s=n(5);function o(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=t.injectContextTypes={getRegisteredElements:a.default.func.isRequired},u=t.elementContextTypes={addElementsLoadListener:a.default.func.isRequired,registerElement:a.default.func.isRequired,unregisterElement:a.default.func.isRequired},l=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return a.handleRegisterElement=function(e,t,n,r){a.setState(function(a){return{registeredElements:[].concat(c(a.registeredElements),[i({element:e},t?{impliedTokenType:t}:{},n?{impliedSourceType:n}:{},r?{impliedPaymentMethodType:r}:{})])}})},a.handleUnregisterElement=function(e){a.setState(function(t){return{registeredElements:t.registeredElements.filter(function(t){return t.element!==e})}})},a.state={registeredElements:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){var e=this;return{addElementsLoadListener:function(t){if(e._elements)t(e._elements);else{var n=e.props,i=(n.children,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["children"]));"sync"===e.context.tag?(e._elements=e.context.stripe.elements(i),t(e._elements)):e.context.addStripeLoadListener(function(n){e._elements?t(e._elements):(e._elements=n.elements(i),t(e._elements))})}},registerElement:this.handleRegisterElement,unregisterElement:this.handleUnregisterElement,getRegisteredElements:function(){return e.state.registeredElements}}},t.prototype.render=function(){return r.default.Children.only(this.props.children)},t}(r.default.Component);l.childContextTypes=i({},_,u),l.contextTypes=s.providerContextTypes,l.defaultProps={children:null},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providerContextTypes=void 0;var i=a(n(0)),r=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.providerContextTypes={tag:r.default.string.isRequired,stripe:r.default.object,addStripeLoadListener:r.default.func},o=function(e,t){window.Stripe.__cachedInstances=window.Stripe.__cachedInstances||{};var n="key="+e+" options="+JSON.stringify(t),i=window.Stripe.__cachedInstances[n]||window.Stripe(e,t);return window.Stripe.__cachedInstances[n]=i,i},c=function(e){if(e&&e.elements&&e.createSource&&e.createToken&&e.createPaymentMethod&&e.handleCardPayment)return e;throw new Error("Please pass a valid Stripe object to StripeProvider. You can obtain a Stripe object by calling 'Stripe(...)' with your publishable key.")},_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));if(i.props.apiKey&&i.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider, not both.");if(i.props.apiKey){if(!window.Stripe)throw new Error("Please load Stripe.js (https://js.stripe.com/v3/) on this page to use react-stripe-elements. If Stripe.js isn't available yet (it's loading asynchronously, or you're using server-side rendering), see https://github.com/stripe/react-stripe-elements#advanced-integrations");var r=i.props,a=r.apiKey,s=(r.children,r.stripe,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(r,["apiKey","children","stripe"]));i._meta={tag:"sync",stripe:o(a,s)}}else if(i.props.stripe)i._meta={tag:"sync",stripe:c(i.props.stripe)};else{if(null!==i.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider. If you're using 'stripe' but don't have a Stripe instance yet, pass 'null' explicitly.");i._meta={tag:"async",stripe:null}}return i._didWarn=!1,i._didWakeUpListeners=!1,i._listeners=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){var e=this;return"sync"===this._meta.tag?{tag:"sync",stripe:this._meta.stripe}:{tag:"async",addStripeLoadListener:function(t){e._meta.stripe?t(e._meta.stripe):e._listeners.push(t)}}},t.prototype.componentWillReceiveProps=function(e){var t=this.props.apiKey&&e.apiKey&&this.props.apiKey!==e.apiKey,n=this.props.stripe&&e.stripe&&this.props.stripe!==e.stripe;if(!this._didWarn&&(t||n)&&window.console&&window.console.error)return this._didWarn=!0,void console.error("StripeProvider does not support changing the apiKey parameter.");if(!this._didWakeUpListeners&&e.stripe){this._didWakeUpListeners=!0;var i=c(e.stripe);this._meta.stripe=i,this._listeners.forEach(function(e){e(i)})}},t.prototype.render=function(){return i.default.Children.only(this.props.children)},t}(i.default.Component);_.propTypes={apiKey:r.default.string,stripe:r.default.object,children:r.default.node},_.childContextTypes=s,_.defaultProps={apiKey:void 0,stripe:void 0,children:null},t.default=_},function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.church_tithe_wp_format_date=function(e,t){var n=new Date(e.replace(/\s/,"T")+"Z");return"Invalid Date"==n?e:n.toLocaleDateString()},window.church_tithe_wp_format_time=function(e){var t=new Date(e.replace(/\s/,"T")+"Z");return"Invalid Date"==t?e:t.toLocaleTimeString()+NaN+t.toLocaleTimeString(navigator.language,{timeZoneName:"short"}).split(" ")[2]+")"},window.church_tithe_wp_format_date_and_time=function(e){var t=new Date(e.replace(/\s/,"T")+"Z");return"Invalid Date"==t?e:t.toLocaleString()+" ("+t.toLocaleTimeString(navigator.language,{timeZoneName:"short"}).split(" ")[2]+")"},window.church_tithe_wp_list_view_format_date=function(e){return church_tithe_wp_format_date(e.value)},window.church_tithe_wp_format_money=function(e,t,n,i,r){if(i=navigator&&navigator.language?navigator.language:i.replace("_","-"),n)var a=Number(e);else a=Number(e)/100;return(a=new Intl.NumberFormat(i,{style:"currency",currency:t}).format(a))+r},window.church_tithe_wp_list_view_format_money=function(e){return church_tithe_wp_format_money(e.cents,e.currency,e.is_zero_decimal_currency,e.locale,e.string_after)},window.church_tithe_wp_get_current_view_class=function(e,t){for(var n=!1,i=0;i<t.length;i++)if(e.state.current_visual_state==t[i])n=!0;return n?" church-tithe-wp-current-view":" church-tithe-wp-hidden-view"},window.church_tithe_wp_string_to_bool=function(e){return"true"==e},window.church_tithe_wp_validate_email=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},window.church_tithe_wp_get_decimal_character_for_locale=function(e){var t=new Intl.NumberFormat(e,{style:"currency",currency:"USD"}).format(0);return t.includes(",")&&(decimal_character=","),t.includes(".")&&(decimal_character="."),decimal_character},window.church_tithe_wp_set_visual_state_of_component=function(e){return new Promise(function(t,r){if(!e.component)throw new Error('The function "church_tithe_wp_set_visual_state_of_component" is missing required variables');if(!e.component.props.main_component.state.all_current_visual_states)throw new Error("A visual states object is required.");if(!e.component.state.map_of_visual_states)throw new Error('The component must have a map of the view states stored in the state with the key "map_of_visual_states"');var a=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var s in t){if(void 0!==t[s]&&"object"===i(t[s])&&0!==Object.keys(t[s]).length){if(a){var o={};o[s]={},r[a]=e(t[s],n,o,s)}else r[s]={},r=e(t[s],n,r,s);return r}return"variable"===s||0===Object.keys(t[s]).length?(r[a][n]={},r):(r[a][s]={},r)}}(e.component.state.map_of_visual_states,e.default_visual_state);for(var s in e.component.props.main_component.state.all_current_visual_states){if(!a[s]){parent_component_is_in_view=!1;break}parent_component_is_in_view=!0}if(parent_component_is_in_view)o=function e(t,n,r,a){for(var s in n)r=t[s]?void 0!==n[s]&&"object"===i(n[s])&&0!==Object.keys(n[s]).length?e(t[s],n[s],r,a):s:"variable"===s&&Object.keys(t)[0]?Object.keys(t)[0]:a;return r}(e.component.props.main_component.state.all_current_visual_states,e.component.state.map_of_visual_states,!1,e.default_visual_states.parent_in_view);else var o=e.default_visual_states.parent_not_in_view;e.component.state[e.name_of_visual_state_variable]!=o?o?e.component.setState(n({},e.name_of_visual_state_variable,o),function(){t(o)}):e.component.setState(n({},e.name_of_visual_state_variable,e.default_visual_states.parent_not_in_view),function(){t(e.default_visual_states.parent_not_in_view)}):t(o)})}},function(e,t,n){"use strict";var i=n(8);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,s){if(s!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(0),o=(i=s)&&i.__esModule?i:{default:i},c=n(4),_=n(5);t.default=function(e){var t,n,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).withRef,s=void 0!==i&&i;return n=t=function(t){function n(e,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),!i||!i.getRegisteredElements)throw new Error("It looks like you are trying to inject Stripe context outside of an Elements context.\nPlease be sure the component that calls createSource or createToken is within an <Elements> component.");var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e,i));return r.parseElementOrData=function(e){return e&&"object"===(void 0===e?"undefined":a(e))&&e._frame&&"object"===a(e._frame)&&e._frame.id&&"string"==typeof e._frame.id&&"string"==typeof e._componentName?{type:"element",element:e}:{type:"data",data:e}},r.findElement=function(e,t){var n=r.context.getRegisteredElements().filter(function(t){return t[e]}),i="auto"===t?n:n.filter(function(n){return n[e]===t});if(1===i.length)return i[0].element;if(i.length>1)throw new Error("You did not specify the type of Source, Token, or PaymentMethod to create.\n        We could not infer which Element you want to use for this operation.");return null},r.requireElement=function(e,t){var n=r.findElement(e,t);if(n)return n;throw new Error("You did not specify the type of Source, Token, or PaymentMethod to create.\n        We could not infer which Element you want to use for this operation.")},r.wrappedCreateToken=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&"object"===(void 0===t?"undefined":a(t))){var i=t,s=i.type,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["type"]),c="string"==typeof s?s:"auto",_=r.requireElement("impliedTokenType",c);return e.createToken(_,o)}if("string"==typeof t){var u=t;return e.createToken(u,n)}throw new Error("Invalid options passed to createToken. Expected an object, got "+(void 0===t?"undefined":a(t))+".")}},r.wrappedCreateSource=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"object"===(void 0===t?"undefined":a(t))){if("string"!=typeof t.type)throw new Error("Invalid Source type passed to createSource. Expected string, got "+a(t.type)+".");var n=r.findElement("impliedSourceType",t.type);return n?e.createSource(n,t):e.createSource(t)}throw new Error("Invalid options passed to createSource. Expected an object, got "+(void 0===t?"undefined":a(t))+".")}},r.wrappedCreatePaymentMethod=function(e){return function(t,n,i){if(!t||"string"!=typeof t)throw new Error("Invalid PaymentMethod type passed to createPaymentMethod. Expected a string, got "+(void 0===t?"undefined":a(t))+".");if(!["card"].includes(t))throw new Error("Invalid PaymentMethod type passed to createPaymentMethod. "+t+" is not yet supported.");var s=r.parseElementOrData(n);if("element"===s.type){var o=s.element;return i?e.createPaymentMethod(t,o,i):e.createPaymentMethod(t,o)}var c=s.data,_=r.findElement("impliedPaymentMethodType",t);if(_)return c?e.createPaymentMethod(t,_,c):e.createPaymentMethod(t,_);if(c&&"object"===(void 0===c?"undefined":a(c)))return e.createPaymentMethod(t,c);throw c?new Error("Invalid data passed to createPaymentMethod. Expected an object, got "+(void 0===c?"undefined":a(c))+"."):new Error("Could not find an Element that can be used to create a PaymentMethod of type: "+t+".")}},r.wrappedHandleCardX=function(e,t){return function(n,i,s){if(!n||"string"!=typeof n)throw new Error("Invalid PaymentIntent client secret passed to handleCardPayment. Expected string, got "+(void 0===n?"undefined":a(n))+".");var o=r.parseElementOrData(i);if("element"===o.type){var c=o.element;return s?e[t](n,c,s):e[t](n,c)}var _=o.data,u=r.findElement("impliedPaymentMethodType","card");if(u)return _?e[t](n,u,_):e[t](n,u);if(!_)throw new Error("Could not find a CardElement or CardNumberElement which which to perform handleCardPayment.");if("object"!==(void 0===_?"undefined":a(_)))throw new Error("Invalid data passed to handleCardPayment. Expected an object, got "+(void 0===_?"undefined":a(_))+".");return e[t](n,_)}},"sync"===r.context.tag?r.state={stripe:r.stripeProps(r.context.stripe)}:r.state={stripe:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){var e=this;"async"===this.context.tag&&this.context.addStripeLoadListener(function(t){e.setState({stripe:e.stripeProps(t)})})},n.prototype.getWrappedInstance=function(){if(!s)throw new Error("To access the wrapped instance, the `{withRef: true}` option must be set when calling `injectStripe()`");return this.wrappedInstance},n.prototype.stripeProps=function(e){return r({},e,{createToken:this.wrappedCreateToken(e),createSource:this.wrappedCreateSource(e),createPaymentMethod:this.wrappedCreatePaymentMethod(e),handleCardPayment:this.wrappedHandleCardX(e,"handleCardPayment"),handleCardSetup:this.wrappedHandleCardX(e,"handleCardSetup")})},n.prototype.render=function(){var t=this;return o.default.createElement(e,r({},this.props,{stripe:this.state.stripe,ref:s?function(e){t.wrappedInstance=e}:null}))},n}(o.default.Component),t.contextTypes=r({},_.providerContextTypes,c.injectContextTypes),t.displayName="InjectStripe("+(e.displayName||e.name||"Component")+")",n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),r=o(n(3)),a=o(n(11)),s=n(4);function o(e){return e&&e.__esModule?e:{default:e}}var c=function(){},_=function(e){e.id,e.className,e.onChange,e.onFocus,e.onBlur,e.onReady;return function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["id","className","onChange","onFocus","onBlur","onReady"])};t.default=function(e){var t,n,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t=function(t){function n(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e,i));r.handleRef=function(e){r._ref=e},r._element=null;var a=_(r.props);return r._options=a,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){var t=this;this.context.addElementsLoadListener(function(n){var i=n.create(e,t._options);t._element=i,t._setupEventListeners(i),i.mount(t._ref),(u.impliedTokenType||u.impliedSourceType||u.impliedPaymentMethodType)&&t.context.registerElement(i,u.impliedTokenType,u.impliedSourceType,u.impliedPaymentMethodType)})},n.prototype.componentWillReceiveProps=function(e){var t=_(e);0===Object.keys(t).length||(0,a.default)(t,this._options)||(this._options=t,this._element&&this._element.update(t))},n.prototype.componentWillUnmount=function(){if(this._element){var e=this._element;e.destroy(),this.context.unregisterElement(e)}},n.prototype._setupEventListeners=function(e){var t=this;e.on("ready",function(){t.props.onReady(t._element)}),e.on("change",function(e){t.props.onChange(e)}),e.on("blur",function(){var e;return(e=t.props).onBlur.apply(e,arguments)}),e.on("focus",function(){var e;return(e=t.props).onFocus.apply(e,arguments)})},n.prototype.render=function(){return i.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},n}(i.default.Component),t.propTypes={id:r.default.string,className:r.default.string,onChange:r.default.func,onBlur:r.default.func,onFocus:r.default.func,onReady:r.default.func},t.defaultProps={id:void 0,className:void 0,onChange:c,onBlur:c,onFocus:c,onReady:c},t.contextTypes=s.elementContextTypes,t.displayName=(o=e).charAt(0).toUpperCase()+o.slice(1)+"Element",n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if("object"!==(void 0===t?"undefined":i(t))||"object"!==(void 0===n?"undefined":i(n)))return t===n;if(null===t||null===n)return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a="[object Object]"===Object.prototype.toString.call(t);if(a!==("[object Object]"===Object.prototype.toString.call(n)))return!1;if(!a&&!r)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(var c={},_=0;_<s.length;_+=1)c[s[_]]=!0;for(var u=0;u<o.length;u+=1)c[o[u]]=!0;var l=Object.keys(c);if(l.length!==s.length)return!1;var p=t,h=n;return l.every(function(t){return e(p[t],h[t])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=c(n(0)),a=c(n(3)),s=c(n(13)),o=n(4);function c(e){return e&&e.__esModule?e:{default:e}}var _=function(){},u=function(e){e.id,e.className,e.onBlur,e.onClick,e.onFocus,e.onReady,e.paymentRequest;return function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["id","className","onBlur","onClick","onFocus","onReady","paymentRequest"])},l=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));r.handleRef=function(e){r._ref=e};var a=u(n);return r._options=a,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.context.addElementsLoadListener(function(t){e._element=t.create("paymentRequestButton",i({paymentRequest:e.props.paymentRequest},e._options)),e._element.on("ready",function(){e.props.onReady(e._element)}),e._element.on("focus",function(){var t;return(t=e.props).onFocus.apply(t,arguments)}),e._element.on("click",function(){var t;return(t=e.props).onClick.apply(t,arguments)}),e._element.on("blur",function(){var t;return(t=e.props).onBlur.apply(t,arguments)}),e._element.mount(e._ref)})},t.prototype.componentWillReceiveProps=function(e){this.props.paymentRequest!==e.paymentRequest&&console.warn("Unsupported prop change: paymentRequest is not a customizable property.");var t=u(e);0===Object.keys(t).length||(0,s.default)(t,this._options)||(this._options=t,this._element.update(t))},t.prototype.componentWillUnmount=function(){this._element.destroy()},t.prototype.render=function(){return r.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},t}(r.default.Component);l.propTypes={id:a.default.string,className:a.default.string,onBlur:a.default.func,onClick:a.default.func,onFocus:a.default.func,onReady:a.default.func,paymentRequest:a.default.shape({canMakePayment:a.default.func.isRequired,on:a.default.func.isRequired,show:a.default.func.isRequired}).isRequired},l.defaultProps={id:void 0,className:void 0,onBlur:_,onClick:_,onFocus:_,onReady:_},l.contextTypes=o.elementContextTypes,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(function(n){return t.hasOwnProperty(n)&&t[n]===e[n]})}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=function(e){function t(e){var i,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(i=!(o=r(t).call(this,e))||"object"!==n(o)&&"function"!=typeof o?s(a):o).state={all_initial_visual_states:{payment:{}},all_current_visual_states:i.props.all_current_visual_states,modal_visual_state:i.props.unique_settings.modal_visual_state,single_page_app_base_url:i.props.unique_settings.wordpress_permalink_only,dom_node:null,user_id:null,frontend_nonces:i.props.frontend_nonces},i.get_current_view_class=i.get_current_view_class.bind(s(s(i))),i.set_all_current_visual_states=i.set_all_current_visual_states.bind(s(s(i))),i.handle_visual_state_change_click_event=i.handle_visual_state_change_click_event.bind(s(s(i))),i}var o,c,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,React.Component),o=t,(c=[{key:"componentDidMount",value:function(){var e=this;this.setState({unique_settings:this.props.unique_settings,frontend_nonces:this.props.frontend_nonces,all_initial_visual_states:this.props.all_current_visual_states,all_current_visual_states:this.props.all_current_visual_states,modal_visual_state:this.props.unique_settings.modal_visual_state,initial_modal_visual_state:this.props.unique_settings.modal_visual_state},function(){}),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.addEventListener("popstate",function(t){e.on_web_history_change(t,e)})}},{key:"componentDidUpdate",value:function(){var e=this;this.maybe_refresh_parent_dom_node(),this.props.unique_settings!==this.state.unique_settings&&this.setState({unique_settings:this.props.unique_settings,all_current_visual_states:this.props.all_current_visual_states,modal_visual_state:this.props.unique_settings.modal_visual_state},function(){e.set_all_current_visual_states(e.state.all_current_visual_states,e.state.modal_visual_state)})}},{key:"maybe_refresh_parent_dom_node",value:function(){this.state.dom_node!==ReactDOM.findDOMNode(this).parentNode&&this.setState({dom_node:ReactDOM.findDOMNode(this).parentNode})}},{key:"on_web_history_change",value:function(e,t){var n=e.state;null==n?t.setState({all_current_visual_states:t.state.all_initial_visual_states,modal_visual_state:t.state.initial_modal_visual_state}):t.setState({all_current_visual_states:n.church_tithe_wp_visual_state,modal_visual_state:n.ctwpmodal_visual_state})}},{key:"get_current_view_class",value:function(e){return Object.keys(this.state.all_current_visual_states)[0]==e?" church-tithe-wp-current-view":" church-tithe-wp-hidden-view"}},{key:"get_featured_image_class",value:function(){return this.state.unique_settings.has_featured_image?" church-tithe-wp-has-featured-image":""}},{key:"render_featured_image",value:function(){if(this.state.unique_settings.has_featured_image)return React.createElement("div",{className:"church-tithe-wp-logo"},React.createElement("div",{className:"church-tithe-wp-header-logo-container"},React.createElement("div",{className:"church-tithe-wp-header-logo-inner-bevel"}),React.createElement("div",{className:"church-tithe-wp-header-logo-img",style:{backgroundImage:"url("+this.state.unique_settings.featured_image_url+")"}})))}},{key:"build_new_url_path",value:function(e,t,n){var i=1==(n+=1)?"ctwp":"&ctwp";for(var r in e)t=this.build_new_url_path(e[r],t+i+n+"="+r,n);return t}},{key:"handle_visual_state_change_click_event",value:function(e,t,n){this.set_all_current_visual_states(e,t)}},{key:"set_all_current_visual_states",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;return new Promise(function(r,a){0===Object.entries(t).length&&t.constructor===Object&&(t=e.state.all_initial_visual_states,i=!0),t||(t=e.state.all_current_visual_states),n||(n=e.state.modal_visual_state),e.setState({all_current_visual_states:t,modal_visual_state:n},function(){if(700>screen.width&&e.state.dom_node.scrollIntoView(!0,{behavior:"smooth"}),e.state.unique_settings.wordpress_permalink_only.includes("?"))var n=e.state.unique_settings.wordpress_permalink_only+"&";else n=e.state.unique_settings.wordpress_permalink_only+"?";var a=n+e.build_new_url_path(e.state.all_current_visual_states,"",0);Object.keys(e.state.modal_visual_state)[0]&&(a=a+"&ctwpmodal="+Object.keys(e.state.modal_visual_state)[0]),i?history.pushState({church_tithe_wp_visual_state:e.state.all_current_visual_states,ctwpmodal_visual_state:e.state.modal_visual_state},t,e.state.unique_settings.wordpress_permalink_only):history.pushState({church_tithe_wp_visual_state:e.state.all_current_visual_states,ctwpmodal_visual_state:e.state.modal_visual_state},t,a),r(t)})})}},{key:"render",value:function(){if("https:"!=window.location.protocol)return React.createElement("div",{className:"church-tithe-wp-container"},"You must have an SSL certificate in order to accept payments on your website. Contact your webhost to have them install an SSL certificate on your website.");if(this.state.all_current_visual_states&&this.state.unique_settings){if(this.state.unique_settings.stripe_api_key&&this.state.unique_settings.currency_code){var e,t=!1,n=!1;return n="in_modal"===this.state.unique_settings.open_style&&{ctwp:{}},"text_link"===this.state.unique_settings.mode&&(t=React.createElement("a",{className:"church-tithe-wp-a-tag",onClick:this.handle_visual_state_change_click_event.bind(null,{payment:{form:{}}},n)},this.state.unique_settings.strings.link_text)),"button"===this.state.unique_settings.mode&&(t=React.createElement("button",{className:"button church-tithe-wp-button",onClick:this.handle_visual_state_change_click_event.bind(null,{payment:{form:{}}},n)},this.state.unique_settings.strings.link_text)),e=React.createElement("div",{className:"church-tithe-wp-container church-tithe-wp-current-view-is-"+Object.keys(this.state.all_current_visual_states)[0]},React.createElement("div",{className:"church-tithe-wp-fancy-container church-tithe-wp-payment-view"+this.get_current_view_class("payment")+this.get_featured_image_class()},this.render_featured_image(),React.createElement(Church_Tithe_WP_Payment_Box,{main_component:this,show_close_button:"button"===Object.keys(this.state.all_initial_visual_states)[0]||"text_link"===Object.keys(this.state.all_initial_visual_states)[0]||"in_modal"===this.state.unique_settings.open_style})),React.createElement("div",{className:"church-tithe-wp-fancy-container church-tithe-wp-manage-payments-view"+this.get_current_view_class("manage_payments")+this.get_featured_image_class()},this.render_featured_image(),React.createElement(Church_Tithe_WP_Manage_Payments,{main_component:this,show_close_button:"button"===Object.keys(this.state.all_initial_visual_states)[0]||"text_link"===Object.keys(this.state.all_initial_visual_states)[0]||"in_modal"===this.state.unique_settings.open_style}))),"in_modal"===this.state.unique_settings.open_style?React.createElement(React.Fragment,null,React.createElement(Church_Tithe_WP_Modal,{main_component:this,slug:"ctwp",modal_contents:e})):"in_place"===this.state.unique_settings.open_style&&("button"===Object.keys(this.state.all_current_visual_states)[0]||"text_link"===Object.keys(this.state.all_current_visual_states)[0])?t:e}return React.createElement("div",{className:"church-tithe-wp-container"},React.createElement("div",{className:"church-tithe-wp-fancy-container church-tithe-wp-payment-view"},React.createElement("div",{className:"church-tithe-wp-component-box"},React.createElement("header",{className:"church-tithe-wp-header",role:"banner"},React.createElement("h1",{className:"church-tithe-wp-header-title"},"Complete Set Up"),React.createElement("h2",{className:"church-tithe-wp-header-subtitle"},"You are almost ready to start accepting donations right here, using Church Tithe WP and Stripe. Click the link below to complete the set-up.")),React.createElement("div",{className:"church-tithe-wp-payment-form-container"},React.createElement("div",{className:"church-tithe-wp-payment-box-view"},React.createElement("a",{href:this.state.unique_settings.setup_link.replace(/&amp;/g,"&")},"Complete Church Tithe WP Setup"))))))}return React.createElement(Church_Tithe_WP_Spinner,null)}}])&&i(o.prototype,c),_&&i(o,_),t}();window.church_tithe_wp_refresh_all_titheping_elements=function(){if(document.querySelector(".church-tithe-wp-element")){var e=document.querySelectorAll(".church-tithe-wp-element"),t=0;e.forEach(function(e){var n=e.getAttribute("church-tithe-wp-form-number"),i=JSON.parse(document.getElementById("church-tithe-wp-element-json-"+n).innerHTML);t+=1;var r,a,s,c={};"inherit"!==i.all_default_visual_states?c=i.all_default_visual_states:"form"==i.mode?c={payment:{}}:(r={},a=i.mode,s={},a in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,c=r),ReactDOM.render(React.createElement(o,{key:"church_tithe_wp_button_element_"+t,id:"church_tithe_wp_button_element_"+t,all_current_visual_states:c,frontend_nonces:church_tithe_wp_js_vars.frontend_nonces,unique_settings:i}),e)})}},church_tithe_wp_refresh_all_titheping_elements(),window.church_tithe_wp_set_modal_to_open=function(e){console.log(e);var t=document.getElementById("church-tithe-wp-element-json-"+e),n=JSON.parse(t.innerHTML);n.all_default_visual_states={payment:{form:{}}},n.modal_visual_state={ctwp:{}},t.innerHTML=JSON.stringify(n),church_tithe_wp_refresh_all_titheping_elements()}},function(e,t,n){"use strict";n.r(t);React.createContext(),n(6);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_Email_Field=function(e){function t(e){var n,r,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(s=a(t).call(this,e))||"object"!==i(s)&&"function"!=typeof s?o(r):s).state={input_value:""},n.get_input_field_class=n.get_input_field_class.bind(o(o(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(o(o(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(o(o(n))),n}var n,c,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,React.Component),n=t,(c=[{key:"componentDidMount",value:function(){var e=this;this.props.initial_value&&this.setState({initial_input_value:this.props.initial_value,input_value:this.props.initial_value},function(){if(church_tithe_wp_validate_email(e.state.input_value))t=!0;else var t=!1;e.props.set_validation_and_value_of_field(e.props.state_validation_variable_name,t,e.props.state_value_variable_name,e.state.input_value)})}},{key:"componentDidUpdate",value:function(){var e=this;this.props.initial_value&&this.props.initial_value!==this.state.initial_input_value&&this.setState({initial_input_value:this.props.initial_value,input_value:this.props.initial_value},function(){if(church_tithe_wp_validate_email(e.state.input_value))t=!0;else var t=!1;e.props.set_validation_and_value_of_field(e.props.state_validation_variable_name,t,e.props.state_value_variable_name,e.state.input_value)})}},{key:"get_current_instruction_key",value:function(){return this.props.form_validation_attempted?this.state.input_value?church_tithe_wp_validate_email(this.state.input_value)?"success":"not_an_email_address":"blank":this.state.input_value&&church_tithe_wp_validate_email(this.state.input_value)?"success":"initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e]){if("success"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-success";if("error"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-error";if("initial"==this.props.instruction_codes[e].instruction_type)return""}return""}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e])return this.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(church_tithe_wp_validate_email(e.target.value))t=!0;else var t=!1;if(this.props.set_validation_and_value_of_field(this.props.state_validation_variable_name,t,this.props.state_value_variable_name,e.target.value),this.props.form_validation_attempted){var n=this;setTimeout(function(){n.props.validate_form(!0)},10)}this.setState({input_value:e.target.value})}},{key:"render",value:function(){var e={};return this.props.type&&(e.type=this.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.name&&(e.name=this.props.name),e.onChange=this.handle_input_change.bind(this),e.onBlur=this.handle_input_change.bind(this),this.props.placeholder&&(e.placeholder=this.props.placeholder),e.value=this.state.input_value,this.props.step&&(e.step=this.props.step),this.props.disabled&&(e.disabled=this.props.disabled),React.createElement("div",null,React.createElement("label",null,React.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("input",e)))}}])&&r(n.prototype,c),_&&r(n,_),t}();Church_Tithe_WP_Email_Field;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_Input_Field=function(e){function t(e){var n;return _(this,t),(n=p(this,h(t).call(this,e))).state={input_value:""},n.get_input_field_class=n.get_input_field_class.bind(f(f(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(f(f(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(f(f(n))),n}return m(t,React.Component),l(t,[{key:"componentDidMount",value:function(){var e=this;this.props.initial_value&&this.setState({initial_input_value:this.props.initial_value,input_value:this.props.initial_value},function(){if(e.state.input_value)t=!0;else var t=!1;e.props.set_validation_and_value_of_field(e.props.state_validation_variable_name,t,e.props.state_value_variable_name,e.state.input_value)})}},{key:"componentDidUpdate",value:function(){var e=this;this.props.initial_value&&this.props.initial_value!==this.state.initial_input_value&&this.setState({initial_input_value:this.props.initial_value,input_value:this.props.initial_value},function(){if(e.state.input_value)t=!0;else var t=!1;e.props.set_validation_and_value_of_field(e.props.state_validation_variable_name,t,e.props.state_value_variable_name,e.state.input_value)})}},{key:"get_current_instruction_key",value:function(){if(this.props.form_validation_attempted){if(!this.state.input_value)return"empty";if(this.state.input_value)return"success"}else{if(!this.state.input_value)return"initial";if(this.state.input_value)return"success"}}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e]){if("success"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-success";if("error"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-error";if("initial"==this.props.instruction_codes[e].instruction_type)return""}return""}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e])return this.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(e.target.value)t=!0;else var t=!1;if(this.props.set_validation_and_value_of_field(this.props.state_validation_variable_name,t,this.props.state_value_variable_name,e.target.value),this.props.form_validation_attempted){var n=this;setTimeout(function(){n.props.validate_form(!0)},10)}this.setState({input_value:e.target.value})}},{key:"render",value:function(){var e={};return this.props.type&&(e.type=this.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.name&&(e.name=this.props.name),e.onChange=this.handle_input_change.bind(this),this.props.placeholder&&(e.placeholder=this.props.placeholder),e.value=this.state.input_value,this.props.step&&(e.step=this.props.step),this.props.disabled&&(e.disabled=this.props.disabled),React.createElement("div",null,React.createElement("label",null,React.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),this.props.output_before_field,React.createElement("input",e),this.props.after_before_field))}}]),t}(),window.Church_Tithe_WP_Input_Field_Instruction=function(e){function t(e){var n;return _(this,t),(n=p(this,h(t).call(this,e))).get_input_field_class=n.get_input_field_class.bind(f(f(n))),n.set_current_input_field_instruction=n.set_current_input_field_instruction.bind(f(f(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(f(f(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(f(f(n))),n}return m(t,React.Component),l(t,[{key:"set_current_input_field_instruction",value:function(e,t){this.state.input_fields[e].current_instruction=value,this.setState({input_fields:this.state.input_fields})}},{key:"get_input_instruction_class",value:function(){var e=this.props.current_instruction;return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.props.current_instruction;return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-input-error":""}},{key:"get_input_instruction_message",value:function(){var e=this.props.current_instruction;if(this.props.instruction_codes[e])return this.props.instruction_codes[e].instruction_message}},{key:"render",value:function(){return React.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message())}}]),t}();Church_Tithe_WP_Input_Field;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_Radio_Field=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=b(t).call(this,e))||"object"!==y(r)&&"function"!=typeof r?E(i):r).state={input_value:""},n.get_input_field_class=n.get_input_field_class.bind(E(E(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(E(E(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(E(E(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){for(var e in this.props.radio_buttons)this.props.radio_buttons[e].selected&&this.setState({input_value:e},function(){this.props.set_validation_and_value_of_field(this.props.state_validation_variable_name,!0,this.props.state_value_variable_name,this.state.input_value)})}},{key:"get_current_instruction_key",value:function(){if(this.props.form_validation_attempted){if(!this.state.input_value)return"empty";if(this.state.input_value)return"success"}else{if(!this.state.input_value)return"initial";if(this.state.input_value)return"success"}}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e]){if("success"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-success";if("error"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-error";if("initial"==this.props.instruction_codes[e].instruction_type)return""}return""}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e])return this.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(e.target.value)t=!0;else var t=!1;if(this.props.set_validation_and_value_of_field(this.props.state_validation_variable_name,t,this.props.state_value_variable_name,e.target.value),this.props.form_validation_attempted){var n=this;setTimeout(function(){n.props.validate_form(!0)},10)}this.setState({input_value:e.target.value})}},{key:"render",value:function(){var e={};this.props.type&&(e.type=this.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.name&&(e.name=this.props.name),e.onChange=this.handle_input_change.bind(this),e.value=this.state.input_value,this.props.disabled&&(e.disabled=this.props.disabled);var t=[];for(var n in this.props.radio_buttons)t.push(React.createElement("div",{key:n,className:"church-tithe-wp-radio-button-container"+(n==this.state.input_value?" church-tithe-wp-radio-current":"")},React.createElement("label",null,React.createElement("div",{className:"church-tithe-wp-radio-button-outer"},React.createElement("div",{className:"church-tithe-wp-radio-button-inner"},React.createElement("input",v({},e,{value:n,checked:n==this.state.input_value})),React.createElement("div",{className:"church-tithe-wp-radio-button-after"},this.props.radio_buttons[n].after_output))))));return React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("div",{className:"church-tithe-wp-radio-buttons-container"},t.map(function(e,t){return e})))}}])&&g(n.prototype,i),r&&g(n,r),t}();Church_Tithe_WP_Radio_Field;var k=n(0),S=n.n(k),R=n(1);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_Stripe_All_In_One_Field=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=j(t).call(this,e))||"object"!==C(r)&&"function"!=typeof r?T(i):r).state={stripe_card_error_code:null},n.get_input_field_class=n.get_input_field_class.bind(T(T(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(T(T(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(T(T(n))),n.handle_cc_validation=n.handle_cc_validation.bind(T(T(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,S.a.Component),n=t,(i=[{key:"componentDidUpdate",value:function(){this.props.stripe_card_error_code!==this.state.stripe_card_error_code&&this.setState({stripe_card_error_code:this.props.stripe_card_error_code})}},{key:"get_current_instruction_key",value:function(){if(this.props.form_validation_attempted){if(!this.state.stripe_card_error_code||"none"==this.state.stripe_card_error_code)return"success";if(this.state.stripe_card_error_code)return this.state.stripe_card_error_code}else{if(!this.state.stripe_card_error_code||"none"==this.state.stripe_card_error_code)return"success";if(this.state.stripe_card_error_code)return"initial"}}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e]){if("success"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-success";if("error"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-error";if("initial"==this.props.instruction_codes[e].instruction_type)return""}return""}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]?this.props.instruction_codes[e].instruction_message:"Please check the credit card fields"}},{key:"handle_cc_validation",value:function(){var e=this;this.props.card_form.setState({postal_code:this.state.card_zip_code,stripe_elements_fields_complete:!!this.state.stripe_element&&this.state.stripe_element.complete},function(){e.props.form_validation_attempted&&e.props.create_stripe_source().then(function(){e.setState({stripe_card_error_code:"success"})}).catch(function(t){e.setState({stripe_card_error_code:t})})})}},{key:"handle_postal_code_change",value:function(e){var t=this;this.setState({card_zip_code:e.target.value},function(){t.handle_cc_validation()})}},{key:"handle_input_change",value:function(e,t){var n=this;this.setState({stripe_element:e},function(){t?n.setState({card_zip_code:e.value.postalCode},function(){n.handle_cc_validation()}):n.handle_cc_validation()})}},{key:"maybe_render_all_in_one_field",value:function(){var e=this;return this.props.disabled?"":S.a.createElement(R.CardElement,O({},{style:{base:{fontSize:this.props.fontSize,color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, Menlo, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},{onChange:function(t){return e.handle_input_change(t,!0)}}))}},{key:"maybe_render_all_in_one_field_mobile",value:function(){var e=this;return this.props.disabled?"":S.a.createElement(R.CardElement,{style:{base:{fontSize:"19px"}},onChange:function(t){return e.handle_input_change(t,!0)}})}},{key:"maybe_render_multi_field_cc_form",value:function(){var e=this;return this.props.disabled?"":S.a.createElement("div",{className:"church-tithe-wp-cc-multi-field"},S.a.createElement("div",null,S.a.createElement("div",{className:"church-tithe-wp-cc-multi-field-input-area"},S.a.createElement("label",null,S.a.createElement("div",{className:"church-tithe-wp-cc-form-icon church-tithe-wp-credit-card-icon"},S.a.createElement("svg",{role:"img",className:"Icon",fill:"#2b2b2b",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},S.a.createElement("title",null,"Credit Card"),S.a.createElement("path",{fillRule:"evenodd",transform:"translate(8, 10)",d:"M2.00585866,0 C0.898053512,0 0,0.900176167 0,1.99201702 L0,9.00798298 C0,10.1081436 0.897060126,11 2.00585866,11 L11.9941413,11 C13.1019465,11 14,10.0998238 14,9.00798298 L14,1.99201702 C14,0.891856397 13.1029399,0 11.9941413,0 L2.00585866,0 Z M2.00247329,1 C1.44882258,1 1,1.4463114 1,1.99754465 L1,9.00245535 C1,9.55338405 1.45576096,10 2.00247329,10 L11.9975267,10 C12.5511774,10 13,9.5536886 13,9.00245535 L13,1.99754465 C13,1.44661595 12.544239,1 11.9975267,1 L2.00247329,1 Z M1,3 L1,5 L13,5 L13,3 L1,3 Z M11,8 L11,9 L12,9 L12,8 L11,8 Z M9,8 L9,9 L10,9 L10,8 L9,8 Z M9,8"}))),S.a.createElement(R.CardNumberElement,{style:{base:{fontSize:"19px"}},onChange:function(t){return e.handle_input_change(t,!1)}}))),S.a.createElement("div",{className:"church-tithe-wp-cc-multi-field-input-area"},S.a.createElement("label",null,S.a.createElement("div",{className:"church-tithe-wp-cc-form-icon church-tithe-wp-calendar-icon"},S.a.createElement("svg",{role:"img",className:"Icon",fill:"#2b2b2b",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},S.a.createElement("title",null,"Calendar"),S.a.createElement("path",{fillRule:"evenodd",transform:"translate(8, 9)",d:"M2.0085302,1 C0.899249601,1 0,1.90017617 0,2.99201702 L0,10.007983 C0,11.1081436 0.901950359,12 2.0085302,12 L9.9914698,12 C11.1007504,12 12,11.0998238 12,10.007983 L12,2.99201702 C12,1.8918564 11.0980496,1 9.9914698,1 L2.0085302,1 Z M1.99539757,4 C1.44565467,4 1,4.43788135 1,5.00292933 L1,9.99707067 C1,10.5509732 1.4556644,11 1.99539757,11 L10.0046024,11 C10.5543453,11 11,10.5621186 11,9.99707067 L11,5.00292933 C11,4.44902676 10.5443356,4 10.0046024,4 L1.99539757,4 Z M3,1 L3,2 L4,2 L4,1 L3,1 Z M8,1 L8,2 L9,2 L9,1 L8,1 Z M3,0 L3,1 L4,1 L4,0 L3,0 Z M8,0 L8,1 L9,1 L9,0 L8,0 Z M8,0"}))),S.a.createElement(R.CardExpiryElement,{style:{base:{fontSize:"19px"}},onChange:function(t){return e.handle_input_change(t,!1)}}))),S.a.createElement("div",{className:"church-tithe-wp-cc-multi-field-input-area"},S.a.createElement("label",null,S.a.createElement("div",{className:"church-tithe-wp-cc-form-icon church-tithe-wp-lock-icon"},S.a.createElement("svg",{role:"img",className:"Icon",fill:"#2b2b2b",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},S.a.createElement("title",null,"Lock"),S.a.createElement("path",{fillRule:"evenodd",transform:"translate(9, 9)",d:"M8.8,4 C8.8,1.79086089 7.76640339,4.18628304e-07 5.5,0 C3.23359661,-4.1480896e-07 2.2,1.79086089 2.2,4 L3.2,4 C3.2,2.34314567 3.81102123,0.999999681 5.5,1 C7.18897877,1.00000032 7.80000001,2.34314567 7.80000001,4 L8.8,4 Z M1.99201702,4 C0.891856397,4 0,4.88670635 0,5.99810135 L0,10.0018986 C0,11.1054196 0.900176167,12 1.99201702,12 L9.00798298,12 C10.1081436,12 11,11.1132936 11,10.0018986 L11,5.99810135 C11,4.89458045 10.0998238,4 9.00798298,4 L1.99201702,4 Z M1.99754465,5 C1.44661595,5 1,5.45097518 1,5.99077797 L1,10.009222 C1,10.5564136 1.4463114,11 1.99754465,11 L9.00245535,11 C9.55338405,11 10,10.5490248 10,10.009222 L10,5.99077797 C10,5.44358641 9.5536886,5 9.00245535,5 L1.99754465,5 Z M1.99754465,5"}))),S.a.createElement(R.CardCvcElement,{style:{base:{fontSize:"19px"}},onChange:function(t){return e.handle_input_change(t,!1)}}))),S.a.createElement("div",{className:"church-tithe-wp-cc-multi-field-input-area"},S.a.createElement("label",null,S.a.createElement("div",{className:"church-tithe-wp-cc-form-icon church-tithe-wp-zipcode-icon"},S.a.createElement("svg",{role:"img",className:"Icon",fill:"#2b2b2b",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},S.a.createElement("title",null,"Push-pin"),S.a.createElement("path",{fillRule:"evenodd",transform:"translate(8, 7)",d:"M6.96835335,14.4141594 C7.14378184,14.2130951 7.33880908,13.9850182 7.54859821,13.7339676 C8.14789969,13.0167952 8.74728299,12.2571079 9.30845088,11.4862878 C10.9985122,9.16482011 12,7.25762947 12,5.80510753 C12,2.58994421 9.3050091,0 6,0 C2.6949909,0 0,2.58994421 0,5.80510753 C0,7.25762947 1.00148783,9.16482011 2.69154912,11.4862878 C3.25271701,12.2571079 3.85210031,13.0167952 4.45140179,13.7339676 C4.66119092,13.9850182 4.85621816,14.2130951 5.03164665,14.4141594 C5.13795558,14.5360035 5.2148819,14.6226158 5.25757295,14.6699269 L6,15.4927001 L6.74242705,14.6699269 C6.7851181,14.6226158 6.86204442,14.5360035 6.96835335,14.4141594 Z M5.25757295,13.3300731 C5.27604949,13.309597 5.30380421,13.278504 5.34014057,13.2373842 C3.98193439,11.6258984 1,7.854524 1,5.80510753 C1,3.15131979 3.23857611,1 6,1 C8.76142389,1 11,3.15131979 11,5.80510753 C11,7.854524 8.01806561,11.6258984 6.65985943,13.2373842 C6.69619579,13.278504 6.72395051,13.309597 6.74242705,13.3300731 L6.58151981,13.3300731 C6.22583758,13.7497221 6,14 6,14 C6,14 5.77416242,13.7497221 5.41848019,13.3300731 L5.25757295,13.3300731 Z M6,8 C7.10456955,8 8,7.10456955 8,6 C8,4.89543045 7.10456955,4 6,4 C4.89543045,4 4,4.89543045 4,6 C4,7.10456955 4.89543045,8 6,8 Z M6,7 C6.55228478,7 7,6.55228478 7,6 C7,5.44771522 6.55228478,5 6,5 C5.44771522,5 5,5.44771522 5,6 C5,6.55228478 5.44771522,7 6,7 Z M6,7"}))),S.a.createElement("input",{className:this.get_postal_code_success_class(),type:"text",onChange:this.handle_postal_code_change.bind(this),placeholder:this.props.zip_code_placeholder})))))}},{key:"get_postal_code_success_class",value:function(){return this.state.card_zip_code?" church-tithe-wp-input-success":this.props.form_validation_attempted?" church-tithe-wp-input-error":""}},{key:"render",value:function(){return this.props.mobile_mode?S.a.createElement("div",{className:"church-tithe-wp-cc-form church-tithe-wp-mobile"},S.a.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),this.maybe_render_multi_field_cc_form()):S.a.createElement("div",{className:"church-tithe-wp-cc-form church-tithe-wp-non-mobile"},S.a.createElement("label",null,S.a.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),this.maybe_render_all_in_one_field()))}}])&&P(n.prototype,i),r&&P(n,r),t}();Church_Tithe_WP_Stripe_All_In_One_Field;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_Terms_Field=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=M(t).call(this,e))||"object"!==q(r)&&"function"!=typeof r?F(i):r).state={terms_checked:null,terms_are_visible:!1},n.get_input_field_class=n.get_input_field_class.bind(F(F(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(F(F(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(F(F(n))),n.get_terms_visibility=n.get_terms_visibility.bind(F(F(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.props.is_validated&&this.props.form_validation_attempted&&this.setState({terms_checked:!0})}},{key:"dangerously_set_terms_body",value:function(){return{__html:this.props.terms_body}}},{key:"get_current_instruction_key",value:function(){return this.props.form_validation_attempted?this.props.is_validated?"checked":"unchecked":null==this.state.terms_checked?"initial":this.state.terms_checked?"checked":this.state.terms_checked&&this.props.is_validated?void 0:"unchecked"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e]){if("success"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-success";if("error"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-error";if("initial"==this.props.instruction_codes[e].instruction_type)return""}return""}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e])return this.props.instruction_codes[e].instruction_message}},{key:"get_terms_visibility",value:function(){return this.state.terms_are_visible?"":"hidden"}},{key:"toggle_full_terms",value:function(){this.state.terms_are_visible?this.setState({terms_are_visible:!1}):this.setState({terms_are_visible:!0})}},{key:"handle_terms_change",value:function(e){var t;if(t=!this.state.terms_checked,this.props.set_validation_and_value_of_field(this.props.state_validation_variable_name,t),this.props.form_validation_attempted){var n=this;setTimeout(function(){n.props.validate_form(!0)},10)}this.setState({terms_checked:t})}},{key:"render",value:function(){var e={};return null==this.state.terms_checked&&this.props.is_validated&&this.props.form_validation_attempted&&(e.defaultChecked="checked"),e.onChange=this.handle_terms_change.bind(this),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.name&&(e.name=this.props.name),this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.defaultValue&&(e.defaultValue=this.props.defaultValue),this.props.disabled&&(e.disabled=this.props.disabled),React.createElement("div",null,React.createElement("div",{hidden:this.get_terms_visibility(),className:"church-tithe-wp-expandable-terms"},React.createElement("div",{className:"church-tithe-wp-terms-title"},this.props.terms_title),React.createElement("div",{className:"church-tithe-wp-terms-body",dangerouslySetInnerHTML:this.dangerously_set_terms_body()})),React.createElement("label",null,React.createElement("span",{className:"church-tithe-wp-input-instruction "+this.get_input_instruction_class()},React.createElement("input",x({type:"checkbox"},e)),this.get_input_instruction_message()+" ")),React.createElement("a",{className:"church-tithe-wp-view-terms-button",onClick:this.toggle_full_terms.bind(this)},"("+this.props.terms_show_text+")"))}}])&&L(n.prototype,i),r&&L(n,r),t}();Church_Tithe_WP_Terms_Field;function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_TextArea_Field=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=B(t).call(this,e))||"object"!==I(r)&&"function"!=typeof r?U(i):r).state={input_value:""},n.get_input_field_class=n.get_input_field_class.bind(U(U(n))),n.get_input_instruction_class=n.get_input_instruction_class.bind(U(U(n))),n.get_input_instruction_message=n.get_input_instruction_message.bind(U(U(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.setState({input_value:this.props.value})}},{key:"get_current_instruction_key",value:function(){return!this.state.input_value&&this.props.is_validated?"initial":this.props.value!=this.state.input_value||this.props.is_validated?this.state.input_value&&"typing"==this.props.is_validated?"initial":this.state.input_value&&"saving"==this.props.is_validated?"saving":this.state.input_value&&this.props.is_validated?"success":this.state.input_value&&!this.props.is_validated?"error":"initial":"initial"}},{key:"get_input_instruction_class",value:function(){var e=this.get_current_instruction_key();return this.props.instruction_codes[e]&&"error"==this.props.instruction_codes[e].instruction_type?" church-tithe-wp-instruction-error":""}},{key:"get_input_field_class",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e]){if("success"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-success";if("error"==this.props.instruction_codes[e].instruction_type)return" church-tithe-wp-input-error";if("initial"==this.props.instruction_codes[e].instruction_type)return""}return""}},{key:"get_input_instruction_message",value:function(){var e=this.get_current_instruction_key();if(this.props.instruction_codes[e])return this.props.instruction_codes[e].instruction_message}},{key:"handle_input_change",value:function(e){if(e.target.value)t=!0;else var t=!1;if(this.props.set_validation_and_value_of_field(this.props.state_validation_variable_name,t,this.props.state_value_variable_name,e.target.value),this.props.form_validation_attempted){var n=this;setTimeout(function(){n.props.validate_form(!0)},10)}this.setState({input_value:e.target.value})}},{key:"render",value:function(){var e={};return this.props.type&&(e.type=this.props.type),this.props.class_name?e.className=this.props.class_name+this.get_input_field_class():e.className=this.get_input_field_class(),this.props.name&&(e.name=this.props.name),e.onChange=this.handle_input_change.bind(this),this.props.placeholder&&(e.placeholder=this.props.placeholder),e.value=this.state.input_value,this.props.step&&(e.step=this.props.step),this.props.disabled&&(e.disabled=this.props.disabled),React.createElement("div",null,React.createElement("label",null,React.createElement("div",{className:"church-tithe-wp-input-instruction"+this.get_input_instruction_class()},this.get_input_instruction_message()),React.createElement("textarea",e)))}}])&&D(n.prototype,i),r&&D(n,r),t}();Church_Tithe_WP_TextArea_Field;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Payment_Confirmation=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=V(t).call(this,e))||"object"!==A(r)&&"function"!=typeof r?Y(i):r).state={note_with_tithe_value:null,note_with_tithe_validated:!1,form_validation_attempted:!1,time_since_last_keypress:0,after_payment_actions_completed:!1,print_html:null,sending_email_receipt:!1,email_receipt_success:null},n.note_with_tithe_keypress_delay,n.render_refunded_output=n.render_refunded_output.bind(Y(Y(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.props.main_component.state.dom_node&&this.setState({print_html:this.props.main_component.state.dom_node.outerHTML})}},{key:"componentDidUpdate",value:function(){this.props.main_component.state.dom_node&&this.state.print_html!=this.props.main_component.state.dom_node.outerHTML&&this.setState({print_html:this.props.main_component.state.dom_node.outerHTML})}},{key:"get_transaction_visual_amount",value:function(){var e=this.props.main_component.state.current_transaction_info.transaction_charged_amount,t=this.props.main_component.state.current_transaction_info.transaction_charged_currency,n=this.props.main_component.state.current_transaction_info.transaction_currency_is_zero_decimal,i=this.props.main_component.state.unique_settings.locale,r=" ("+t.toUpperCase()+")";return church_tithe_wp_format_money(e,t,n,i,r)}},{key:"get_arrangement_visual_amount",value:function(){var e=this.props.main_component.state.current_transaction_info.arrangement_info.amount,t=this.props.main_component.state.current_transaction_info.arrangement_info.currency,n=this.props.main_component.state.current_transaction_info.arrangement_info.is_zero_decimal_currency,i=this.props.main_component.state.unique_settings.locale,r=this.props.main_component.state.current_transaction_info.arrangement_info.string_after+" ("+t.toUpperCase()+")";return church_tithe_wp_format_money(e,t,n,i,r)}},{key:"maybe_render_the_period_this_transaction_covers",value:function(){var e,t=this.props.main_component.state.current_transaction_info.transaction_period_start_date,n=this.props.main_component.state.current_transaction_info.transaction_period_end_date;return t&&n?"0000-00-00 00:00:00"==t||"0000-00-00 00:00:00"==n?"":(e=church_tithe_wp_format_date(t)+" - "+church_tithe_wp_format_date(n),React.createElement("div",null,React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title"},this.props.main_component.state.unique_settings.strings.transaction_period+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value"},e))):""}},{key:"validate_form",value:function(e){var t=!0;return this.state.note_with_tithe_validated||(t=!1),t}},{key:"email_transaction_receipt",value:function(){this.setState({sending_email_receipt:!0,email_receipt_success:null});var e=JSON.stringify({action:"church_tithe_wp_email_transaction_receipt",church_tithe_wp_transaction_id:this.props.main_component.state.current_transaction_info.transaction_id,church_tithe_wp_email_transaction_receipt_nonce:this.props.main_component.state.frontend_nonces.church_tithe_wp_email_transaction_receipt_nonce});(e=new FormData).append("action","church_tithe_wp_email_transaction_receipt"),e.append("church_tithe_wp_transaction_id",this.props.main_component.state.current_transaction_info.transaction_id),e.append("church_tithe_wp_session_id",this.props.main_component.state.session_id),e.append("church_tithe_wp_user_id",this.props.main_component.state.user_id),e.append("church_tithe_wp_email_transaction_receipt_nonce",this.props.main_component.state.frontend_nonces.church_tithe_wp_email_transaction_receipt_nonce);var t=this;fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_email_transaction_receipt",{method:"POST",mode:"same-origin",credentials:"same-origin",body:e}).then(function(e){if(200!==e.status)return t.setState({sending_email_receipt:!1,email_receipt_success:!1}),void console.log("Looks like there was a problem. Status Code: "+e.status);e.json().then(function(e){e.success?t.setState({sending_email_receipt:!1,email_receipt_success:!0}):(console.log(e),t.setState({sending_email_receipt:!1,email_receipt_success:!1}))}).catch(function(){t.setState({sending_email_receipt:!1,email_receipt_success:!1}),console.log(e)})}).catch(function(e){t.setState({sending_email_receipt:!1,email_receipt_success:!1}),console.log("Fetch Error :-S",e)})}},{key:"set_validation_and_value_of_field",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("note_with_tithe_value"!=n){var r;if(null==n)this.setState(Z({},e,t));else this.setState((Z(r={},e,t),Z(r,n,i),r))}else{var a=this.state.note_with_tithe,s=this;if(this.setState({note_with_tithe_validated:"typing",note_with_tithe_value:i}),i==a)return!1;this.note_with_tithe_keypress_delay&&(clearTimeout(this.note_with_tithe_keypress_delay),this.note_with_tithe_keypress_delay=null),this.note_with_tithe_keypress_delay=setTimeout(function(){clearTimeout(this.note_with_tithe_keypress_delay),s.save_note_with_tithe(i)},500)}}},{key:"save_note_with_tithe",value:function(e){this.setState({note_with_tithe_validated:"saving"});var t=new FormData;t.append("action","church_tithe_wp_save_note_with_tithe"),t.append("church_tithe_wp_transaction_id",this.props.main_component.state.current_transaction_info.transaction_id),t.append("church_tithe_wp_note_with_tithe",this.state.note_with_tithe_value),t.append("church_tithe_wp_session_id",this.props.main_component.state.session_id),t.append("church_tithe_wp_user_id",this.props.main_component.state.user_id),t.append("church_tithe_wp_note_with_tithe_nonce",this.props.main_component.state.frontend_nonces.note_with_tithe_nonce);var n=this;fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_save_note_with_tithe",{method:"POST",mode:"same-origin",credentials:"same-origin",body:t}).then(function(e){200===e.status?e.json().then(function(e){e.success?n.setState({note_with_tithe_validated:!0}):(console.log(e),n.setState({note_with_tithe_validated:!1}))}):console.log("Looks like there was a problem. Status Code: "+e.status)}).catch(function(e){console.log("Fetch Error :-S",e)})}},{key:"render_email_button",value:function(){var e="";return this.state.email_receipt_success&&(e=React.createElement("div",{className:"church-tithe-wp-email-receipt-message"},this.props.main_component.state.unique_settings.strings.email_receipt_success)),null===this.state.email_receipt_success||this.state.email_receipt_success||(e=React.createElement("div",{className:"church-tithe-wp-email-receipt-message"},this.props.main_component.state.unique_settings.strings.email_receipt_failed)),this.state.sending_email_receipt?React.createElement("div",{className:"church-tithe-wp-email-receipt"},this.props.main_component.state.unique_settings.strings.email_receipt_sending,React.createElement("button",{className:"church-tithe-wp-pay-button"},this.props.main_component.state.unique_settings.strings.email_receipt_sending)):this.state.sending_email_receipt?void 0:React.createElement("div",{className:"church-tithe-wp-email-receipt"},e,React.createElement("button",{className:"church-tithe-wp-pay-button",onClick:this.email_transaction_receipt.bind(this)},this.props.main_component.state.unique_settings.strings.email_receipt))}},{key:"render_print_button",value:function(){if(this.state.print_html&&"function"==typeof window.print)return React.createElement("div",{className:"church-tithe-wp-print-receipt"},React.createElement("button",{className:"church-tithe-wp-pay-button",onClick:J.bind(null,this.state.print_html,this.props.main_component.state.unique_settings.strings.receipt_title,"church_tithe_wp_default_skin-css")},this.props.main_component.state.unique_settings.strings.print_receipt))}},{key:"render_manage_payments_button",value:function(){return this.props.show_manage_payments?React.createElement("button",{type:"button",className:"church-tithe-wp-manage-payments-button church-tithe-wp-input-instruction church-tithe-wp-text-button",onClick:this.props.main_component.set_all_current_visual_states.bind(null,{manage_payments:{}},!1)},this.props.main_component.state.unique_settings.strings.manage_payments_button_text):""}},{key:"render_refunded_output",value:function(){return"refund"==this.props.main_component.state.current_transaction_info.transaction_type?"This is a refund for transaction "+this.props.main_component.state.current_transaction_info.refund_id:!this.props.main_component.state.current_transaction_info.refund_id||"initial"!=this.props.main_component.state.current_transaction_info.transaction_type&&"renewal"!=this.props.main_component.state.current_transaction_info.transaction_type?"":"This transaction has been refunded. See transaction "+this.props.main_component.state.current_transaction_info.refund_id}},{key:"render_things_before_receipt",value:function(){return"refund"==this.props.main_component.state.current_transaction_info.transaction_type?"":React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-confirmation-message"},this.props.main_component.state.unique_settings.strings.thank_you_message),React.createElement("div",{className:"church-tithe-wp-confirmation-note"},React.createElement(Church_Tithe_WP_TextArea_Field,{state_validation_variable_name:"note_with_tithe_validated",state_value_variable_name:"note_with_tithe_value",set_validation_and_value_of_field:this.set_validation_and_value_of_field.bind(this),form_validation_attempted:this.state.form_validation_attempted,is_validated:this.state.note_with_tithe_validated,validate_form:this.validate_form.bind(this),instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.note_with_tithe,value:this.props.main_component.state.current_transaction_info?this.props.main_component.state.current_transaction_info.transaction_note_with_tithe:"",type:"text",class_name:"church-tithe-wp-note-with-tithe",placeholder:this.props.main_component.state.unique_settings.strings.input_field_instructions.note_with_tithe.placeholder_text,name:"tithe-amount"})))}},{key:"maybe_render_plan_details",value:function(){if("off"!==this.props.main_component.state.current_transaction_info.arrangement_info.recurring_status)return React.createElement(React.Fragment,null,React.createElement("div",null,React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title"},this.props.main_component.state.unique_settings.strings.arrangement_id_title+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value"},this.props.main_component.state.current_transaction_info.arrangement_info.id)),React.createElement("div",null,React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title"},this.props.main_component.state.unique_settings.strings.arrangement_amount_title+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value"},this.get_arrangement_visual_amount())),this.maybe_render_the_period_this_transaction_covers())}},{key:"render",value:function(){return this.props.main_component.state.current_transaction_info?React.createElement("div",{className:"church-tithe-wp-payment-confirmation"},this.render_things_before_receipt(),React.createElement("div",{className:"church-tithe-wp-receipt"},React.createElement("div",{className:"church-tithe-wp-receipt-title"},this.props.main_component.state.unique_settings.strings.receipt_title),React.createElement("div",{className:"church-tithe-wp-receipt-field-space-below"},this.props.main_component.state.current_transaction_info.email),React.createElement("div",{className:"church-tithe-wp-receipt-field-space-below"},this.render_refunded_output()),React.createElement("div",{className:"church-tithe-wp-receipt-payee"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-receipt-payee-title"},("refund"==this.props.main_component.state.current_transaction_info.transaction_type?this.props.main_component.state.unique_settings.strings.refund_payer:this.props.main_component.state.unique_settings.strings.receipt_payee)+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-receipt-payee-value"},this.props.main_component.state.current_transaction_info.payee_name)),React.createElement("div",{className:"church-tithe-wp-receipt-transaction-id"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-receipt-transaction-id-title"},this.props.main_component.state.unique_settings.strings.receipt_transaction_id+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-receipt-transaction-id-value"},this.props.main_component.state.current_transaction_info.transaction_id)),React.createElement("div",{className:"church-tithe-wp-receipt-transaction-date"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-receipt-date-title"},this.props.main_component.state.unique_settings.strings.receipt_date+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-receipt-date-value"},church_tithe_wp_format_date_and_time(this.props.main_component.state.current_transaction_info.transaction_date_created))),React.createElement("div",{className:"church-tithe-wp-receipt-amount"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-receipt-transaction-amount-title"},this.props.main_component.state.unique_settings.strings.receipt_transaction_amount+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-receipt-transaction-amount-value"},this.get_transaction_visual_amount())),React.createElement("div",{className:"church-tithe-wp-receipt-statement-descriptor"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-receipt-transaction-amount-title"},this.props.main_component.state.unique_settings.strings.receipt_statement_descriptor+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-receipt-transaction-amount-value"},this.props.main_component.state.current_transaction_info.statement_descriptor)),this.maybe_render_plan_details()),this.render_email_button(),this.render_print_button(),this.render_manage_payments_button()):React.createElement(Church_Tithe_WP_Spinner,null)}}])&&K(n.prototype,i),r&&K(n,r),t}();Church_Tithe_WP_Payment_Confirmation;function J(e,t,n){var i=document.querySelector("head"),r=window.open("",t,"height=6000,width=8000");return r.document.write(i.outerHTML),r.document.write('<body class="church-tithe-wp-print-page">'),r.document.write(e),r.document.write("</body></html>"),setTimeout(function(){r.focus(),r.print()},2e3),!0}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function te(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Payment_Box=function(e){function t(e){var n;return $(this,t),(n=te(this,ie(t).call(this,e))).state={map_of_visual_states:{payment:{variable:{}}},current_visual_state:"form",has_been_in_view:!1,stripe:null,current_title_string:n.props.main_component.state.unique_settings.strings.form_title},n}return re(t,React.Component),ee(t,[{key:"componentDidMount",value:function(){church_tithe_wp_set_visual_state_of_component({component:this,default_visual_states:{parent_in_view:"form",parent_not_in_view:"none"},name_of_visual_state_variable:"current_visual_state"})}},{key:"componentDidUpdate",value:function(){church_tithe_wp_set_visual_state_of_component({component:this,default_visual_states:{parent_in_view:"form",parent_not_in_view:"none"},name_of_visual_state_variable:"current_visual_state"})}},{key:"get_current_title",value:function(){return"loading"==this.state.current_visual_state?React.createElement("h1",{className:"church-tithe-wp-header-title"},this.props.main_component.state.unique_settings.strings.loading):"form"==this.state.current_visual_state?React.createElement("h1",{className:"church-tithe-wp-header-title"},this.props.main_component.state.unique_settings.strings.form_title):"confirmation"==this.state.current_visual_state?React.createElement("h1",{className:"church-tithe-wp-header-title"},this.props.main_component.state.unique_settings.strings.payment_confirmation_title):void 0}},{key:"get_current_subtitle",value:function(){return"loading"==this.state.current_visual_state?"":"form"==this.state.current_visual_state&&this.props.main_component.state.unique_settings.strings.form_subtitle?React.createElement("h2",{className:"church-tithe-wp-header-subtitle"},this.props.main_component.state.unique_settings.strings.form_subtitle):"confirmation"==this.state.current_visual_state?"":void 0}},{key:"maybe_render_close_button",value:function(){return this.props.show_close_button?React.createElement("div",{className:"church-tithe-wp-close-btn","aria-label":"Close",onClick:this.props.main_component.handle_visual_state_change_click_event.bind(this,{},{})},React.createElement("img",{src:this.props.main_component.state.unique_settings.close_button_url})):""}},{key:"render",value:function(){var e=this;return"none"==this.state.current_visual_state?"":React.createElement(R.StripeProvider,{apiKey:this.props.main_component.state.unique_settings.stripe_api_key},React.createElement("div",{className:"church-tithe-wp-component-box"},React.createElement("header",{className:"church-tithe-wp-header",role:"banner"},this.get_current_title(),this.get_current_subtitle(),this.maybe_render_close_button()),function(){if("loading"==e.state.current_visual_state)return React.createElement("div",{className:"church-tithe-wp-payment-box-view church-tithe-wp-payment-loading-view"},React.createElement(Church_Tithe_WP_Spinner,null))}(),function(){if("form"==e.state.current_visual_state)return React.createElement("div",{className:"church-tithe-wp-payment-form-container"},React.createElement("div",{className:"church-tithe-wp-payment-box-view"},React.createElement(R.Elements,null,React.createElement(oe,{main_component:e.props.main_component}))))}(),function(){if("confirmation"==e.state.current_visual_state)return React.createElement("div",{className:"church-tithe-wp-payment-box-view church-tithe-wp-payment-confirmation-view"},React.createElement(Church_Tithe_WP_Payment_Confirmation,{main_component:e.props.main_component,do_after_payment_actions:!0,show_manage_payments:!0}))}()))}}]),t}();Church_Tithe_WP_Payment_Box;var se=function(e){function t(e){var n;return $(this,t),(n=te(this,ie(t).call(this,e))).state={map_of_visual_states:{payment:{form:{variable:{}}}},stripe_is_set:!1,canDoPaymentRequest:!1,paymentRequest:null,default_payment_mode:null,payment_mode:null,payment_method_name:null,payment_request_button_name:null,form_has_any_error:!1,form_validation_attempted:!1,current_payment_state:"initial",currency_search_visible:!1,user_typed_currency:n.props.main_component.state.unique_settings.currency_code,verified_currency:n.props.main_component.state.unique_settings.currency_code,verified_currency_symbol:n.props.main_component.state.unique_settings.currency_symbol,verified_currency_type:n.props.main_component.state.unique_settings.currency_type,stripe_error_message:null,stripe_payment_method:null,tithe_amount:n.props.main_component.state.unique_settings.default_amount,privacy_policy_validated:!1,email_value:null,email_validated:!1,name_value:null,name_validated:!1,recurring_value:null,recurring_validated:!1,input_fields_tithe_amount_current_instruction:"initial",input_fields_stripe_all_in_one_current_instruction:"initial"},n.currency_text_input=React.createRef(),n.check_for_payment_request_availability=n.check_for_payment_request_availability.bind(ne(ne(n))),n.validate_tithe_amount=n.validate_tithe_amount.bind(ne(ne(n))),n.handleCreditCardSubmit=n.handleCreditCardSubmit.bind(ne(ne(n))),n.set_payment_mode=n.set_payment_mode.bind(ne(ne(n))),n.get_currency_flag_class=n.get_currency_flag_class.bind(ne(ne(n))),n.create_stripe_payment_method=n.create_stripe_payment_method.bind(ne(ne(n))),n}return re(t,React.Component),ee(t,[{key:"componentDidMount",value:function(){this.props.main_component.setState({current_transaction_info:null,current_arrangement_info:null})}},{key:"componentDidUpdate",value:function(){church_tithe_wp_set_visual_state_of_component({component:this,default_visual_states:{parent_in_view:this.state.default_payment_mode,parent_not_in_view:"none"},name_of_visual_state_variable:"payment_mode"}).then(function(){}),this.check_for_payment_request_availability()}},{key:"country_supports_payment_request_button",value:function(){var e=this.props.main_component.state.unique_settings.stripe_account_country_code;return!!["AT","AU","BE","BR","CA","CH","DE","DK","EE","ES","FI","FR","GB","GR","HK","IE","IN","IT","JP","LT","LU","LV","MX","MY","NL","NO","NX","PH","PL","PT","RO","SE","SG","SK","US"].indexOf(e)}},{key:"check_for_payment_request_availability",value:function(){var e=this;if(this.props.stripe&&!this.state.stripe_is_set){var t=this.props.stripe.paymentRequest({country:this.props.main_component.state.unique_settings.stripe_account_country_code,currency:this.state.verified_currency.toLowerCase(),total:{label:this.props.main_component.state.unique_settings.strings.payment_request_label,amount:this.state.tithe_amount},requestPayerEmail:!0});this.setState({stripe_is_set:!0}),t.canMakePayment().then(function(n){n&&e.country_supports_payment_request_button()?(e.setState({canDoPaymentRequest:!!n,paymentRequest:t,default_payment_mode:"payment_request"},function(){e.state.payment_mode?"payment_request"!==e.state.payment_mode&&"credit_card"!==e.state.payment_mode?e.set_payment_mode("payment_request"):"credit_card"===e.state.payment_mode&&e.set_payment_mode("credit_card"):e.setState({payment_mode:"payment_request"})}),t.on("paymentmethod",function(t){t.source,t.error;var n=t.complete;t.error&&t.error.message,e.setState({stripe_payment_method:t.paymentMethod,email_validated:!0,email_value:t.payerEmail,payment_method_name:"apple-pay"!=t.methodName?"payment-request":t.methodName,payment_request_button_name:"apple-pay"!=t.methodName?"payment-request":t.methodName}),e.do_ajax_stripe_transaction(),n("success")})):e.setState({canDoPaymentRequest:!!n,default_payment_mode:"credit_card",payment_method_name:"basic-card"},function(){e.state.payment_mode?e.set_payment_mode("credit_card"):e.setState({payment_mode:"credit_card"})})})}}},{key:"get_visual_amount_for_input_field",value:function(){if(!this.state.tithe_amount)return"";if("zero_decimal"!==this.state.verified_currency_type)var e=this.state.tithe_amount/100;else e=this.state.tithe_amount;return e}},{key:"get_visual_amount",value:function(){if(!this.state.tithe_amount)return"";if("zero_decimal"!==this.state.verified_currency_type)var e=this.state.tithe_amount/100;else e=this.state.tithe_amount;var t=this.props.main_component.state.unique_settings.locale.replace("_","-");return e=e.toLocaleString(t),this.state.verified_currency_symbol+e}},{key:"get_amount_field_step_format",value:function(){if("zero_decimal"!==this.state.verified_currency_type)var e="0.01";else e="1";return e}},{key:"get_view_class",value:function(e){return-1!=e.indexOf(this.state.payment_mode)?" church-tithe-wp-current-view":" church-tithe-wp-hidden-view"}},{key:"get_disabled_status",value:function(e){return-1!=e.indexOf(this.state.payment_mode)?"":"disabled"}},{key:"validate_tithe_amount",value:function(e,t){return this.state.tithe_amount?t&&this.setState({input_fields_tithe_amount_current_instruction:"initial"}):(e=!1,t&&this.setState({input_fields_tithe_amount_current_instruction:"empty"})),e}},{key:"validate_currency",value:function(e,t){return this.state.verified_currency?t&&this.setState({input_fields_tithe_amount_current_instruction:"initial"}):(e=!1,t&&this.setState({input_fields_tithe_amount_current_instruction:"invalid_currency"})),e}},{key:"create_stripe_payment_method",value:function(){var e=this;return new Promise(function(t,n){var i=e,r={billing_details:{address:{postal_code:e.state.postal_code},email:e.state.email_value,name:e.props.name_value}};e.state.stripe_elements_fields_complete&&!r.billing_details.address.postal_code?e.setState({stripe_card_error_code:"incomplete_zip"},function(){n("incomplete_zip")}):e.props.stripe.createPaymentMethod("card",r).then(function(e){e.error?i.setState({stripe_payment_method:null,stripe_card_error_code:e.error.code},function(){return n(e.error.code),e.error}):i.setState({stripe_payment_method:e.paymentMethod,stripe_card_error_code:"success"},function(){return t(e.paymentMethod),e.paymentMethod})})})}},{key:"validate_form",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!0;return"credit_card"==this.state.payment_mode&&(this.state.name_validated||(t=!1),this.state.email_validated||(t=!1),this.state.stripe_payment_method||(t=!1)),t=this.validate_tithe_amount(t,e),t=this.validate_currency(t,e),this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy.terms_body&&(this.state.privacy_policy_validated||(t=!1)),e&&(this.setState({form_validation_attempted:!0}),t?this.setState({form_has_any_error:!1,current_payment_state:"initial"}):this.setState({form_has_any_error:!0,current_payment_state:"payment_attempt_failed"})),t}},{key:"handleCreditCardSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({current_payment_state:"attempting_payment"}),this.create_stripe_payment_method().then(function(){t.validate_form(!0)?t.do_ajax_stripe_transaction():t.setState({current_payment_state:"payment_attempt_failed"},function(){return!1})}).catch(function(e){t.setState({stripe_card_error_code:e,current_payment_state:"payment_attempt_failed"},function(){console.log(e)});t.validate_form(!0);return!1})}},{key:"do_ajax_stripe_transaction",value:function(){this.setState({current_payment_state:"attempting_payment"});var e=this,t=new FormData;t.append("action","church_tithe_wp_get_payment_intent"),t.append("church_tithe_wp_stripe_payment_method_id",e.state.stripe_payment_method.id),t.append("church_tithe_wp_amount",e.state.tithe_amount),t.append("church_tithe_wp_email",e.state.email_value),t.append("church_tithe_wp_currency",e.state.verified_currency.toLowerCase()),t.append("church_tithe_wp_method",e.state.payment_method_name),t.append("church_tithe_wp_page_url",e.props.main_component.state.single_page_app_base_url),t.append("church_tithe_wp_recurring_value",e.state.recurring_value),t.append("church_tithe_wp_payment_intent_nonce",e.props.main_component.state.frontend_nonces.payment_intent_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_get_payment_intent",{method:"POST",mode:"same-origin",credentials:"same-origin",body:t}).then(function(t){if(200!==t.status)return e.setState({current_payment_state:"payment_attempt_failed",stripe_error_message:"Looks like there was a problem. Status Code: "+t.status}),void console.log("Looks like there was a problem. Status Code: "+t.status);t.json().then(function(t){t.success?e.props.stripe.confirmPaymentIntent(t.client_secret,{save_payment_method:!0}).then(function(n){n.error?e.setState({current_payment_state:"payment_attempt_failed",stripe_error_message:n.error.message}):"succeeded"===n.paymentIntent.status?(e.setState({current_payment_state:"success"}),e.props.main_component.setState({session_id:t.session_id,user_id:t.user_id,current_transaction_info:t.transaction_info}),setTimeout(function(){e.props.main_component.set_all_current_visual_states({payment:{confirmation:{}}})},1e3)):e.props.stripe.handleCardPayment(t.client_secret,{}).then(function(n){n.error?(console.log(n.error),e.setState({current_payment_state:"payment_attempt_failed",stripe_error_message:n.error.message})):(e.setState({current_payment_state:"success"}),e.props.main_component.setState({session_id:t.session_id,user_id:t.user_id,current_transaction_info:t.transaction_info}),setTimeout(function(){e.props.main_component.set_all_current_visual_states({payment:{confirmation:{}}})},1e3))})}):e.setState({current_payment_state:"payment_attempt_failed",stripe_error_message:t.details})}).catch(function(t){e.setState({current_payment_state:"payment_attempt_failed",stripe_error_message:"Unable to make payment at this time. Please try again."}),console.log("Fetch Error: ",t)})}).catch(function(t){e.setState({current_payment_state:"payment_attempt_failed",stripe_error_message:e.strings.general_server_error}),console.log("Fetch Error: ",t)})}},{key:"handleAmountChange",value:function(e){var t=e.target.value;if("zero_decimal"!==this.state.verified_currency_type)var n=100*Number(t);else n=Number(t);1<=(n=Number(n.toFixed(0)))?(this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.state.verified_currency.toLowerCase(),total:{label:this.props.main_component.state.unique_settings.strings.payment_request_label,amount:n}}),this.setState({tithe_amount:n,paymentRequest:this.state.paymentRequest})):(n="",this.setState({tithe_amount:null})),this.state.form_has_any_error&&this.validate_form(!0)}},{key:"handlePaymentRequestValidateButton",value:function(e){this.validate_form(!0)}},{key:"set_payment_mode",value:function(e){var t=this;if("toggle"==e)"payment_request"==this.state.payment_mode?this.setState({payment_mode:"credit_card",payment_method_name:"basic-card",stripe_error_message:null,form_has_any_error:!1,form_validation_attempted:!1},function(){t.props.main_component.set_all_current_visual_states({payment:{form:G({},t.state.payment_mode,{})}})}):"credit_card"==this.state.payment_mode&&this.setState({payment_mode:"payment_request",payment_method_name:this.state.payment_request_button_name,stripe_error_message:null,form_has_any_error:!1,form_validation_attempted:!1},function(){t.props.main_component.set_all_current_visual_states({payment:{form:G({},t.state.payment_mode,{})}})});else{var n="credit_card"===e?"basic-card":this.state.payment_request_button_name;this.setState({payment_mode:e,payment_method_name:n,stripe_error_message:null,form_has_any_error:!1,form_validation_attempted:!1},function(){t.props.main_component.set_all_current_visual_states({payment:{form:G({},t.state.payment_mode,{})}})})}}},{key:"set_validation_and_value_of_field",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(a,s){var o;null==i?n.setState(G({},e,t),function(){a(n.state)}):n.setState((G(o={},e,t),G(o,i,r),o),function(){a(n.state)})})}},{key:"render_payment_field",value:function(e,t){if("function"==typeof this["render_"+e+"_field"])return this["render_"+e+"_field"]()?React.createElement("div",{className:"church-tithe-wp-payment-field-container church-tithe-wp-payment-field-"+e},React.createElement("div",{className:"church-tithe-wp-payment-field "+this.get_view_class(t)},this["render_"+e+"_field"]())):"";console.log("Not found: "+e)}},{key:"get_currency_flag_class",value:function(){return this.state.verified_currency?" flag flag-"+this.state.verified_currency.substring(0,2).toLowerCase():" flag"}},{key:"toggle_currency_search",value:function(){var e=this;this.state.currency_search_visible?this.setState({currency_search_visible:!1}):this.setState({currency_search_visible:!0,user_typed_currency:"",currency_typing_frozen:!1},function(){e.currency_text_input.focus()})}},{key:"confirm_currency_exists",value:function(e){var t=this,n=new FormData;n.append("action","church_tithe_wp_confirm_currency"),n.append("church_tithe_wp_currency_to_confirm",e),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_confirm_currency",{method:"POST",mode:"same-origin",credentials:"same-origin",body:n}).then(function(e){if(200!==e.status)return t.setState({verified_currency:!1,verified_currency_symbol:t.unique_settings.currency_symbol,verified_currency_type:t.unique_settings.currency_type}),void console.log("Looks like there was a problem. Status Code: "+e.status);e.json().then(function(e){e.success?(e.success_type,e.success_type,"one_currency_matched"==e.success_type&&(t.setState({user_typed_currency:e.validated_currency,verified_currency:e.validated_currency,verified_currency_symbol:e.validated_currency_symbol,verified_currency_type:e.validated_currency_type,currency_search_visible:!1,currency_typing_frozen:!0},function(){1<=t.state.tithe_amount&&(t.state.paymentRequest&&t.state.paymentRequest.update({currency:t.state.verified_currency.toLowerCase(),total:{label:"Tithe",amount:t.state.tithe_amount}}),t.setState({paymentRequest:t.state.paymentRequest},function(){t.validate_currency(!0,!0)}))}),setTimeout(function(){t.setState({currency_typing_frozen:!1})},3e3))):t.setState({verified_currency:!1,verified_currency_symbol:t.unique_settings.currency_symbol,verified_currency_type:t.unique_settings.currency_type},function(){t.validate_currency(!0,!0)})}).catch(function(e){t.setState({verified_currency:!1,verified_currency_symbol:t.unique_settings.currency_symbol,verified_currency_type:t.unique_settings.currency_type}),console.log("Fetch Error: ",e)})}).catch(function(e){t.setState({verified_currency:!1,verified_currency_symbol:t.unique_settings.currency_symbol,verified_currency_type:t.unique_settings.currency_type}),console.log("Fetch Error: ",e)})}},{key:"handle_currency_typing",value:function(e){var t=this;if(this.state.currency_typing_frozen){if(e.target.value.length>this.state.user_typed_currency.length)return;this.setState({currency_typing_frozen:!1})}e.target.value||this.setState({user_typed_currency:e.target.value.toUpperCase(),verified_currency:this.props.main_component.state.unique_settings.currency_code,verified_currency_symbol:this.props.main_component.state.unique_settings.currency_symbol}),this.setState({user_typed_currency:e.target.value.toUpperCase()},function(){t.confirm_currency_exists(t.state.user_typed_currency)})}},{key:"handle_currency_enter",value:function(e){this.setState({user_typed_currency:""})}},{key:"handle_currency_leave",value:function(e){var t=this;e.target.value||this.setState({user_typed_currency:this.props.main_component.state.unique_settings.currency_code,verified_currency:this.props.main_component.state.unique_settings.currency_code,verified_currency_symbol:this.props.main_component.state.unique_settings.currency_symbol,currency_search_visible:!1},function(){t.validate_form()})}},{key:"render_currency_switcher",value:function(){var e=this;return this.state.currency_search_visible?React.createElement("div",{className:"church-tithe-wp-tithe-currency-code"},React.createElement("span",{className:"church-tithe-wp-tithe-currency-flag-container"},e.state.verified_currency?React.createElement("img",{src:e.props.main_component.state.unique_settings.blank_flag_url,style:{backgroundImage:"url("+e.props.main_component.state.unique_settings.flag_sprite_url+")"},className:"church-tithe-wp-tithe-currency-flag"+e.get_currency_flag_class()}):React.createElement(Church_Tithe_WP_Spinner,{color_mode:"church-tithe-wp-spinner-dark"})),React.createElement("span",{className:"church-tithe-wp-tithe-currency-text-container"},React.createElement("input",{ref:function(t){return e.currency_text_input=t},type:"text",value:this.state.user_typed_currency,onChange:this.handle_currency_typing.bind(this),onFocus:this.handle_currency_enter.bind(this),onBlur:this.handle_currency_leave.bind(this),placeholder:this.props.main_component.state.unique_settings.strings.currency_search_text,autoComplete:"off"}))):React.createElement("button",{className:"church-tithe-wp-tithe-currency-code-toggle-btn",onClick:this.toggle_currency_search.bind(this)},React.createElement("div",{className:"church-tithe-wp-tithe-currency-code"},React.createElement("span",{className:"church-tithe-wp-tithe-currency-flag-container"},React.createElement("img",{src:this.props.main_component.state.unique_settings.blank_flag_url,style:{backgroundImage:"url("+this.props.main_component.state.unique_settings.flag_sprite_url+")"},className:"church-tithe-wp-tithe-currency-flag"+this.get_currency_flag_class()})),React.createElement("span",{className:"church-tithe-wp-tithe-currency-text-container"},this.state.verified_currency)))}},{key:"render_amount_field",value:function(){var e=this;return React.createElement("div",null,React.createElement(Church_Tithe_WP_Input_Field_Instruction,{current_instruction:this.state.input_fields_tithe_amount_current_instruction,instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.tithe_amount}),React.createElement("div",{className:"church-tithe-wp-amount-container"+(e.state.currency_search_visible?" currency-search-visible":"")},React.createElement("div",{className:"church-tithe-wp-tithe-currency-symbol"},this.state.verified_currency_symbol),React.createElement("div",{className:"church-tithe-wp-tithe-amount-input-container"},React.createElement("label",null,React.createElement("input",{disabled:this.get_disabled_status(["credit_card","payment_request"]),type:"number",min:1,step:this.get_amount_field_step_format(),className:"church-tithe-wp-tithe-amount-input",placeholder:this.props.main_component.state.unique_settings.strings.input_field_instructions.tithe_amount.placeholder_text,name:"tithe-amount",onChange:this.handleAmountChange.bind(this),value:this.get_visual_amount_for_input_field(),lang:this.props.main_component.state.unique_settings.locale.replace("_","-")}))),React.createElement("div",{className:"church-tithe-wp-currency-switcher"},this.render_currency_switcher())))}},{key:"render_recurring_field",value:function(){return React.createElement(Church_Tithe_WP_Radio_Field,{state_validation_variable_name:"recurring_validated",state_value_variable_name:"recurring_value",set_validation_and_value_of_field:this.set_validation_and_value_of_field.bind(this),form_validation_attempted:this.state.form_validation_attempted,is_validated:this.state.recurring_validated,validate_form:this.validate_form.bind(this),instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.recurring,type:"radio",radio_buttons:this.props.main_component.state.unique_settings.recurring_options,class_name:"church-tithe-wp-recurring",placeholder:this.props.main_component.state.unique_settings.strings.input_field_instructions.recurring.placeholder_text,name:"recurring"})}},{key:"render_privacy_policy_field",value:function(){if(this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy.terms_body)return React.createElement(Church_Tithe_WP_Terms_Field,{state_validation_variable_name:"privacy_policy_validated",set_validation_and_value_of_field:this.set_validation_and_value_of_field.bind(this),form_validation_attempted:this.state.form_validation_attempted,is_validated:this.state.privacy_policy_validated,validate_form:this.validate_form.bind(this),instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy,terms_title:this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy.terms_title,terms_body:this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy.terms_body,terms_show_text:this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy.terms_show_text,terms_hide_text:this.props.main_component.state.unique_settings.strings.input_field_instructions.privacy_policy.terms_hide_text,disabled:this.get_disabled_status(["credit_card","payment_request"])})}},{key:"render_email_field",value:function(){return React.createElement(Church_Tithe_WP_Email_Field,{state_validation_variable_name:"email_validated",state_value_variable_name:"email_value",set_validation_and_value_of_field:this.set_validation_and_value_of_field.bind(this),form_validation_attempted:this.state.form_validation_attempted,is_validated:this.state.email_validated,validate_form:this.validate_form.bind(this),instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.email,initial_value:this.props.main_component.state.unique_settings.strings.current_user_email,type:"email",class_name:"church-tithe-wp-email",placeholder:this.props.main_component.state.unique_settings.strings.input_field_instructions.email.placeholder_text,name:"email",disabled:this.get_disabled_status(["credit_card"])})}},{key:"render_name_field",value:function(){return React.createElement(Church_Tithe_WP_Input_Field,{state_validation_variable_name:"name_validated",state_value_variable_name:"name_value",set_validation_and_value_of_field:this.set_validation_and_value_of_field.bind(this),form_validation_attempted:this.state.form_validation_attempted,is_validated:this.state.name_validated,validate_form:this.validate_form.bind(this),instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.name,initial_value:this.props.main_component.state.unique_settings.strings.current_user_name,type:"text",class_name:"church-tithe-wp-name",placeholder:this.props.main_component.state.unique_settings.strings.input_field_instructions.name.placeholder_text,name:"tithe-amount",disabled:this.get_disabled_status(["credit_card"])})}},{key:"render_all_in_one_credit_card_field",value:function(){return React.createElement(Church_Tithe_WP_Stripe_All_In_One_Field,{card_form:this,form_validation_attempted:this.state.form_validation_attempted,validate_form:this.validate_form.bind(this),stripe_card_error_code:this.state.stripe_card_error_code,instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.stripe_all_in_one,stripe:this.props.stripe,disabled:this.get_disabled_status(["credit_card"]),mobile_mode:!(window.innerWidth>600),zip_code_placeholder:this.props.main_component.state.unique_settings.strings.zip_code_placeholder,create_stripe_source:this.create_stripe_payment_method})}},{key:"render_payment_error_field",value:function(){return this.state.form_has_any_error?React.createElement("div",{className:"church-tithe-wp-payment-error-message"},this.props.main_component.state.unique_settings.strings.form_has_an_error):"payment_attempt_failed"==this.state.current_payment_state&&this.state.stripe_error_message?React.createElement("div",{className:"church-tithe-wp-payment-error-message"},this.state.stripe_error_message):""}},{key:"render_recurring_text_on_payment_button",value:function(){return this.state.recurring_value&&"never"!=this.state.recurring_value?" "+this.props.main_component.state.unique_settings.recurring_options[this.state.recurring_value].after_output.toLowerCase():""}},{key:"render_payment_request_button_field",value:function(){if("initial"==this.state.current_payment_state||"payment_attempt_failed"==this.state.current_payment_state){if(this.validate_form(!1))return React.createElement("div",null,React.createElement(R.PaymentRequestButtonElement,{paymentRequest:this.state.paymentRequest,className:"PaymentRequestButton",style:{paymentRequestButton:{theme:"dark",height:"50px"}}}));var e=this.state.verified_currency?" ("+this.state.verified_currency+")":"",t=this.props.main_component.state.unique_settings.strings.payment_verb+" "+this.get_visual_amount()+this.render_recurring_text_on_payment_button()+e;return React.createElement("button",{className:"church-tithe-wp-pay-button",type:"button",onClick:this.handlePaymentRequestValidateButton.bind(this),disabled:this.get_disabled_status(["payment_request"])},t)}if("attempting_payment"==this.state.current_payment_state||"success"==this.state.current_payment_state)return this.render_complete_payment_button_field()}},{key:"render_complete_payment_button_field",value:function(){var e,t,n=this.state.verified_currency?" ("+this.state.verified_currency+")":"";return"initial"==this.state.current_payment_state&&(e="",t=this.props.main_component.state.unique_settings.strings.payment_verb+" "+this.get_visual_amount()+this.render_recurring_text_on_payment_button()+n),"attempting_payment"==this.state.current_payment_state&&(e=" church-tithe-wp-btn-attempting-payment",t=React.createElement(Church_Tithe_WP_Spinner,null)),"success"==this.state.current_payment_state&&(e=" church-tithe-wp-btn-success",t=React.createElement("span",null,React.createElement(Church_Tithe_WP_Checkmark,null))),"payment_attempt_failed"==this.state.current_payment_state&&(e=" church-tithe-wp-btn-error",t=this.props.main_component.state.unique_settings.strings.complete_payment_button_error_text),React.createElement("div",null,React.createElement("button",{type:"submit",disabled:this.get_disabled_status(["credit_card"]),className:"church-tithe-wp-pay-button"+e},t))}},{key:"render_payment_mode_toggler_field",value:function(){return React.createElement("button",{type:"button",className:"church-tithe-wp-other-payment-option church-tithe-wp-input-instruction church-tithe-wp-text-button",onClick:this.set_payment_mode.bind(null,"toggle")},this.props.main_component.state.unique_settings.strings.other_payment_option)}},{key:"render_manage_payments_button",value:function(){return React.createElement("button",{type:"button",className:"church-tithe-wp-manage-payments-button church-tithe-wp-input-instruction church-tithe-wp-text-button",onClick:this.props.main_component.set_all_current_visual_states.bind(null,{manage_payments:{}},!1)},this.props.main_component.state.unique_settings.strings.manage_payments_button_text)}},{key:"render_card_form",value:function(){return this.state.canDoPaymentRequest?React.createElement("form",{onSubmit:this.handleCreditCardSubmit},this.render_payment_field("amount",["credit_card","payment_request"]),this.render_payment_field("recurring",["credit_card","payment_request"]),this.render_payment_field("email",["credit_card"]),this.render_payment_field("name",["credit_card"]),this.render_payment_field("all_in_one_credit_card",["credit_card"]),this.render_payment_field("privacy_policy",["credit_card","payment_request"]),this.render_payment_field("payment_error",["credit_card","payment_request"]),this.render_payment_field("payment_request_button",["payment_request"]),this.render_payment_field("complete_payment_button",["credit_card"]),React.createElement("div",{className:"church-tithe-wp-payment-field-container top-jar-wp-alternate-actions"},this.render_payment_mode_toggler_field(),React.createElement("span",{className:"top-jar-wp-alternate-actions-separator"},"|"),this.render_manage_payments_button())):React.createElement("form",{onSubmit:this.handleCreditCardSubmit},this.render_payment_field("amount",["credit_card","payment_request"]),this.render_payment_field("recurring",["credit_card","payment_request"]),this.render_payment_field("email",["credit_card"]),this.render_payment_field("name",["credit_card"]),this.render_payment_field("all_in_one_credit_card",["credit_card"]),this.render_payment_field("privacy_policy",["credit_card","payment_request"]),this.render_payment_field("complete_payment_button",["credit_card"]),React.createElement("div",{className:"church-tithe-wp-payment-field-container top-jar-wp-alternate-actions"},this.render_manage_payments_button()))}},{key:"render",value:function(){return this.state.payment_mode?this.render_card_form():React.createElement(Church_Tithe_WP_Spinner,{color_mode:"church-tithe-wp-spinner-dark"})}}]),t}(),oe=Object(R.injectStripe)(se);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Manage_Payments=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=ue(t).call(this,e))||"object"!==ce(r)&&"function"!=typeof r?pe(i):r).state={map_of_visual_states:{manage_payments:{variable:{}}},current_visual_state:"none"},n.check_if_user_is_logged_in=n.check_if_user_is_logged_in.bind(pe(pe(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.check_if_user_is_logged_in(),church_tithe_wp_set_visual_state_of_component({component:this,default_visual_states:{parent_in_view:"arrangements",parent_not_in_view:"none"},name_of_visual_state_variable:"current_visual_state"})}},{key:"componentDidUpdate",value:function(){church_tithe_wp_set_visual_state_of_component({component:this,default_visual_states:{parent_in_view:"arrangements",parent_not_in_view:"none"},name_of_visual_state_variable:"current_visual_state"})}},{key:"check_if_user_is_logged_in",value:function(){var e=this,t=new FormData;t.append("action","church_tithe_wp_check_if_user_logged_in"),t.append("church_tithe_wp_check_if_user_logged_in",!0),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_check_if_user_logged_in",{method:"POST",mode:"same-origin",credentials:"same-origin",body:t}).then(function(t){if(200!==t.status)return e.props.main_component.setState({user_logged_in:null}),void console.log("Looks like there was a problem. Status Code: "+t.status);t.json().then(function(t){t.success?e.props.main_component.setState({user_logged_in:t.user_logged_in,frontend_nonces:t.frontend_nonces?t.frontend_nonces:e.props.main_component.state.frontend_nonces}):e.props.main_component.setState({user_logged_in:null,frontend_nonces:t.frontend_nonces?t.frontend_nonces:e.props.main_component.state.frontend_nonces})}).catch(function(t){e.props.main_component.setState({user_logged_in:null}),console.log("Fetch Error: ",t)})}).catch(function(t){e.props.main_component.setState({user_logged_in:null}),console.log("Fetch Error :-S",t)})}},{key:"get_current_title_string",value:function(){return this.props.main_component.state.user_logged_in?"transactions"==this.state.current_visual_state?this.props.main_component.state.unique_settings.strings.transactions_title:"transaction"==this.state.current_visual_state?this.props.main_component.state.unique_settings.strings.transaction_title:"arrangements"==this.state.current_visual_state?this.props.main_component.state.unique_settings.strings.arrangements_title:"arrangement"==this.state.current_visual_state?this.props.main_component.state.unique_settings.strings.arrangement_title:void 0:this.props.main_component.state.unique_settings.strings.login}},{key:"maybe_render_close_button",value:function(){return this.props.show_close_button?React.createElement("div",{className:"church-tithe-wp-close-btn","aria-label":"Close",onClick:this.props.main_component.handle_visual_state_change_click_event.bind(this,{},{})},React.createElement("img",{src:this.props.main_component.state.unique_settings.close_button_url})):""}},{key:"render",value:function(){var e=this;return this.props.main_component.state.user_logged_in?React.createElement("div",{className:"church-tithe-wp-manage-payments"},React.createElement("div",{className:"church-tithe-wp-component-box"},React.createElement("header",{className:"church-tithe-wp-header",role:"banner"},React.createElement("h1",{className:"church-tithe-wp-header-title"},this.get_current_title_string()),this.maybe_render_close_button()),React.createElement("div",{className:"church-tithe-wp-payment-box-view church-tithe-wp-manage-payments-view"},"none"==e.state.current_visual_state?"":React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-manage-payments-view "+church_tithe_wp_get_current_view_class(e,["transactions","arrangements"])},React.createElement(Church_Tithe_WP_Manage_Payments_Nav,{main_component:e.props.main_component,current_visual_state:e.state.current_visual_state})),React.createElement("div",{className:"church-tithe-wp-manage-payments-view "+church_tithe_wp_get_current_view_class(e,["transactions"])},React.createElement(Church_Tithe_WP_Transactions,{main_component:e.props.main_component,check_if_user_is_logged_in:e.check_if_user_is_logged_in.bind(e)})),React.createElement("div",{className:"church-tithe-wp-manage-payments-view "+church_tithe_wp_get_current_view_class(e,["transaction"])},function(){if("transaction"==e.state.current_visual_state)return React.createElement(Church_Tithe_WP_Payment_Confirmation,{main_component:e.props.main_component})}()),React.createElement("div",{className:"church-tithe-wp-manage-payments-view "+church_tithe_wp_get_current_view_class(e,["arrangements"])},React.createElement(Church_Tithe_WP_Arrangements,{main_component:e.props.main_component,check_if_user_is_logged_in:e.check_if_user_is_logged_in.bind(e)})),React.createElement("div",{className:"church-tithe-wp-manage-payments-view "+church_tithe_wp_get_current_view_class(e,["arrangement"])},React.createElement(Church_Tithe_WP_Arrangement,{main_component:e.props.main_component,check_if_user_is_logged_in:e.check_if_user_is_logged_in.bind(e)})))))):React.createElement("div",{className:"church-tithe-wp-manage-payments"},React.createElement("div",{className:"church-tithe-wp-component-box"},React.createElement("header",{className:"church-tithe-wp-header",role:"banner"},React.createElement("h1",{className:"church-tithe-wp-header-title"},this.get_current_title_string()),this.maybe_render_close_button()),React.createElement("div",{className:"church-tithe-wp-payment-box-view church-tithe-wp-manage-payments-view"},React.createElement("div",{className:"church-tithe-wp-login-view"},React.createElement(Church_Tithe_WP_Login,{main_component:this.props.main_component,check_if_user_is_logged_in:this.props.check_if_user_is_logged_in})))))}}])&&_e(n.prototype,i),r&&_e(n,r),t}();Church_Tithe_WP_Manage_Payments;function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function de(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Manage_Payments_Nav=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=de(this,fe(t).call(this,e))).state={},n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,React.Component),n=t,(i=[{key:"set_view_to_transactions",value:function(){this.props.main_component.set_all_current_visual_states({manage_payments:{transactions:{}}})}},{key:"set_view_to_arrangements",value:function(){this.props.main_component.set_all_current_visual_states({manage_payments:{arrangements:{}}})}},{key:"get_current_button_class",value:function(e){return this.props.current_visual_state==e?" church-tithe-wp-manage-nav-current-btn":""}},{key:"render",value:function(){return this.props.main_component.state.user_logged_in?React.createElement("div",{className:"church-tithe-wp-manage-payments-nav-container-full"},React.createElement("div",{className:"church-tithe-wp-manage-payments-nav-container-center"},React.createElement("div",{className:"church-tithe-wp-manage-payments-nav"},React.createElement("div",{className:"church-tithe-wp-arrangements-btn"+this.get_current_button_class("arrangements")},React.createElement("button",{className:"church-tithe-wp-text-button",onClick:this.set_view_to_arrangements.bind(this)},this.props.main_component.state.unique_settings.strings.arrangements_title)),React.createElement("div",{className:"church-tithe-wp-transactions-btn"+this.get_current_button_class("transactions")},React.createElement("button",{className:"church-tithe-wp-text-button",onClick:this.set_view_to_transactions.bind(this)},this.props.main_component.state.unique_settings.strings.transactions_title))))):""}}])&&me(n.prototype,i),r&&me(n,r),t}();Church_Tithe_WP_Manage_Payments_Nav;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Login=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=we(t).call(this,e))||"object"!==ve(r)&&"function"!=typeof r?ke(i):r).state={current_visual_state:"login_form",login_error_message:null,email_value:null,email_validated:!1,login_code_digit_1:"",login_code_digit_2:"",login_code_digit_3:"",login_code_digit_4:"",login_code_digit_5:"",login_code_digit_6:""},n.handle_login_form_submit=n.handle_login_form_submit.bind(ke(ke(n))),n.login_code_digit_1=React.createRef(),n.login_code_digit_2=React.createRef(),n.login_code_digit_3=React.createRef(),n.login_code_digit_4=React.createRef(),n.login_code_digit_5=React.createRef(),n.login_code_digit_6=React.createRef(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.setState({prior_all_current_visual_states:this.props.main_component.state.all_current_visual_states})}},{key:"request_login_email",value:function(){this.setState({current_visual_state:"loading",login_error_message:null});var e=this,t=new FormData;t.append("action","church_tithe_wp_email_login"),t.append("church_tithe_wp_email",e.state.email_value),t.append("church_tithe_wp_email_login_nonce",this.props.main_component.state.frontend_nonces.email_login_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_email_login",{method:"POST",mode:"same-origin",credentials:"same-origin",body:t}).then(function(t){if(200!==t.status)return e.setState({current_visual_state:"login_form",login_error_message:"Looks like there was a problem. Status Code: "+t.status}),void console.log("Looks like there was a problem. Status Code: "+t.status);t.json().then(function(t){t.success?e.setState({current_visual_state:"login_code_input",login_error_message:null}):e.setState({current_visual_state:"login_form",login_error_message:t.details},function(){e.login_code_digit_1.focus()})}).catch(function(t){e.setState({current_visual_state:"login_form",login_error_message:e.props.main_component.strings.general_server_error}),console.log("Fetch Error: ",t)})}).catch(function(t){e.setState({current_visual_state:"login_form",login_error_message:e.props.main_component.strings.general_server_error}),console.log("Fetch Error :-S",t)})}},{key:"attempt_to_login",value:function(){this.setState({current_visual_state:"loading",login_error_message:null});var e=this,t=new FormData;t.append("action","church_tithe_wp_attempt_user_login"),t.append("church_tithe_wp_email",e.state.email_value),t.append("church_tithe_wp_login_code",e.state.login_code),t.append("church_tithe_wp_login_nonce",this.props.main_component.state.frontend_nonces.login_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_attempt_user_login",{method:"POST",mode:"same-origin",credentials:"same-origin",body:t}).then(function(t){if(200!==t.status)return e.setState({current_visual_state:"login_code_input",login_error_message:"Looks like there was a problem. Status Code: "+t.status}),void console.log("Looks like there was a problem. Status Code: "+t.status);t.json().then(function(t){t.success?(e.setState({current_visual_state:"login_attempt_succeeded",login_error_message:null}),setTimeout(function(){location.reload()},300)):e.setState({current_visual_state:"login_code_input",login_error_message:t.details},function(){e.login_code_digit_6.focus()})}).catch(function(t){e.setState({current_visual_state:"login_code_input",login_error_message:e.props.main_component.strings.general_server_error}),console.log("Fetch Error: ",t)})}).catch(function(t){e.setState({current_visual_state:"login_code_input",login_error_message:e.props.main_component.strings.general_server_error}),console.log("Fetch Error :-S",t)})}},{key:"set_validation_and_value_of_field",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null==i?this.setState(ge({},e,t)):this.setState((ge(n={},e,t),ge(n,i,r),n))}},{key:"validate_form",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!0;return this.state.email_validated||(t=!1),e&&(this.setState({form_validation_attempted:!0}),t?this.setState({form_has_any_error:!1}):this.setState({form_has_any_error:!0})),t}},{key:"handle_login_form_submit",value:function(e){if(e.preventDefault(),!this.validate_form(!0))return!1;this.request_login_email()}},{key:"render_login_field",value:function(e){if("function"==typeof this["render_"+e+"_field"])return this["render_"+e+"_field"]()?React.createElement("div",{className:"church-tithe-wp-payment-field-container church-tithe-wp-payment-field-"+e},React.createElement("div",{className:"church-tithe-wp-payment-field"},this["render_"+e+"_field"]())):"";console.log("Not found: "+e)}},{key:"render_login_code_field",value:function(e){var t=this;return React.createElement("input",{type:"text",value:this.state["login_code_digit_"+e],ref:function(n){t["login_code_digit_"+e]=n},onChange:this.handle_login_form_digit_change.bind(this,e),onKeyUp:this.handle_login_form_digit_backspace.bind(this,e),onFocus:this.handle_login_form_digit_focus.bind(this,e)})}},{key:"render_login_code_fields",value:function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-input-instruction"},this.props.main_component.state.unique_settings.strings.input_field_instructions.login_code.initial.instruction_message),React.createElement("div",{className:"church-tithe-wp-login-code-fields"},this.render_login_code_field(1),this.render_login_code_field(2),this.render_login_code_field(3),React.createElement("div",null," - "),this.render_login_code_field(4),this.render_login_code_field(5),this.render_login_code_field(6)))}},{key:"handle_login_form_digit_change",value:function(e,t){var n,i,r=this;!Number.isInteger(parseInt(t.target.value))&&t.target.value||(t.target.value.length>1?(i=t.target.value,console.log(i),n=i.split(""),this.setState({login_code_digit_1:n[0]?n[0]:"",login_code_digit_2:n[1]?n[1]:"",login_code_digit_3:n[2]?n[2]:"",login_code_digit_4:n[3]?n[3]:"",login_code_digit_5:n[4]?n[4]:"",login_code_digit_6:n[5]?n[5]:""},function(){r.after_login_code_digit_set(e,!0)})):this.setState(ge({},"login_code_digit_"+e,t.target.value),function(){r.after_login_code_digit_set(e,!1)}))}},{key:"after_login_code_digit_set",value:function(e,t){var n,i=this,r=e+1;!t&&this.state["login_code_digit_"+e]&&this["login_code_digit_"+r]?this["login_code_digit_"+r].focus():(n=this.state.login_code_digit_1+this.state.login_code_digit_2+this.state.login_code_digit_3+this.state.login_code_digit_4+this.state.login_code_digit_5+this.state.login_code_digit_6,this.setState({login_code:n},function(){6===n.length&&i.attempt_to_login()}))}},{key:"handle_login_form_digit_backspace",value:function(e,t){if(8===t.keyCode&&!this.state["login_code_digit_"+e]){var n=e-1;this["login_code_digit_"+n]&&this["login_code_digit_"+n].focus()}}},{key:"handle_login_form_digit_focus",value:function(e,t){this.state.login_error_message&&document.activeElement===this.login_code_digit_6||(this.setState({login_error_message:null}),this.setState(ge({},"login_code_digit_"+e,"")))}},{key:"render_email_field",value:function(){return React.createElement(Church_Tithe_WP_Email_Field,{state_validation_variable_name:"email_validated",state_value_variable_name:"email_value",set_validation_and_value_of_field:this.set_validation_and_value_of_field.bind(this),form_validation_attempted:this.state.form_validation_attempted,is_validated:this.state.email_validated,validate_form:this.validate_form.bind(this),instruction_codes:this.props.main_component.state.unique_settings.strings.input_field_instructions.email_for_login_code,initial_value:this.props.main_component.state.current_transaction_info?this.props.main_component.state.current_transaction_info.email:"",type:"email",class_name:"church-tithe-wp-email",placeholder:this.props.main_component.state.unique_settings.strings.input_field_instructions.email_for_login_code.placeholder_text,name:"email"})}},{key:"render_login_error_field",value:function(){return this.state.form_has_any_error?React.createElement("div",{className:"church-tithe-wp-payment-error-message"},this.props.main_component.state.unique_settings.strings.login_form_has_an_error):this.state.login_error_message?React.createElement("div",{className:"church-tithe-wp-payment-error-message"},this.state.login_error_message):""}},{key:"render_login_submit_button_field",value:function(){var e,t;return"login_form"==this.state.current_visual_state&&(e="",t=this.props.main_component.state.unique_settings.strings.login_button_text),"loading"==this.state.current_visual_state&&(e=" church-tithe-wp-btn-attempting-payment",t=React.createElement(Church_Tithe_WP_Spinner,null)),"login_attempt_succeeded"==this.state.current_visual_state&&(e=" church-tithe-wp-btn-success",t=React.createElement("span",null,React.createElement(Church_Tithe_WP_Checkmark,null))),React.createElement("div",null,React.createElement("button",{type:"submit",className:"church-tithe-wp-pay-button"+e},t))}},{key:"get_current_view_class",value:function(e){var t=this.state.current_visual_state;return-1!=e.indexOf(t)?" church-tithe-wp-current-view":" church-tithe-wp-hidden-view"}},{key:"render",value:function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-login-form-loading"+this.get_current_view_class(["loading"])},React.createElement(Church_Tithe_WP_Spinner,{color_mode:"church-tithe-wp-spinner-dark"})),React.createElement("div",{className:"church-tithe-wp-login-form"+this.get_current_view_class(["login_form"])},React.createElement("form",{onSubmit:this.handle_login_form_submit},this.render_login_field("email"),this.render_login_field("login_error"),this.render_login_field("login_submit_button"))),React.createElement("div",{className:"church-tithe-wp-login-code-input"+this.get_current_view_class(["login_code_input"])},this.render_login_code_fields(),this.render_login_field("login_error")),React.createElement("div",{className:"church-tithe-wp-login-success"+this.get_current_view_class(["login_attempt_succeeded"])},React.createElement(Church_Tithe_WP_Checkmark,null)))}}])&&be(n.prototype,i),r&&be(n,r),t}();Church_Tithe_WP_Manage_Payments;var Se=n(2);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pe(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Transactions=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pe(this,je(t).call(this,e))).state={current_visual_state:"none",total_items:0,current_transaction_info:null},n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidUpdate",value:function(){if(this.props.main_component.state.user_logged_in?("transactions"!=this.state.current_visual_state&&"fetching_data"!=this.state.current_visual_state&&this.setState({current_visual_state:"transactions"}),"transactions"!=this.state.current_visual_state||this.state.rows||this.get_transactions(1,10,"")):"login"!=this.state.current_visual_state&&this.setState({current_visual_state:"login"}),Object.keys(this.props.main_component.state.all_current_visual_states)[0]&&this.props.main_component.state.all_current_visual_states.manage_payments&&Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments)[0]){var e=Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments)[0];if("transaction"==e&&Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments[e])[0]){var t=Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments[e])[0];this.props.main_component.state.current_transaction_info||this.get_transaction(t),this.props.main_component.state.current_transaction_info&&t!==this.props.main_component.state.current_transaction_info.transaction_id&&this.get_transaction(t)}}}},{key:"get_transactions",value:function(e,t,n){var i=this;this.setState({current_visual_state:"fetching_data"});var r=new FormData;r.append("action","church_tithe_wp_get_transactions"),r.append("church_tithe_wp_current_page",e),r.append("church_tithe_wp_items_per_page",t),r.append("church_tithe_wp_search_term",n),r.append("church_tithe_wp_get_transactions_nonce",this.props.main_component.state.frontend_nonces.get_transactions_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_get_transactions",{method:"POST",mode:"same-origin",credentials:"same-origin",body:r}).then(function(e){if(200!==e.status)return i.setState({columns:null,rows:null,total_items:0}),void console.log("Looks like there was a problem. Status Code: "+e.status);e.json().then(function(e){e.success?i.props.main_component.setState({user_logged_in:e.user_logged_in,frontend_nonces:e.frontend_nonces?e.frontend_nonces:i.props.main_component.state.frontend_nonces},function(){i.setState({current_visual_state:"transactions",columns:e.columns,rows:e.rows,total_items:e.total_items})}):(i.setState({columns:null,rows:null,total_items:0}),i.props.main_component.setState({user_logged_in:null,frontend_nonces:e.frontend_nonces?e.frontend_nonces:i.props.main_component.state.frontend_nonces}))}).catch(function(e){console.log("Fetch Error: ",e)})}).catch(function(e){console.log("Fetch Error :-S",e)})}},{key:"get_transaction",value:function(e){var t=this;return new Promise(function(n,i){var r=t,a=new FormData;a.append("action","church_tithe_wp_get_transaction"),a.append("church_tithe_wp_transaction_id",e),a.append("church_tithe_wp_get_transaction_nonce",t.props.main_component.state.frontend_nonces.get_transaction_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_get_transaction",{method:"POST",mode:"same-origin",credentials:"same-origin",body:a}).then(function(e){if(200!==e.status)return r.props.main_component.setState({user_logged_in:null,current_transaction_info:null}),console.log("Looks like there was a problem. Status Code: "+e.status),void i();e.json().then(function(e){e.success?r.props.main_component.setState({user_logged_in:e.user_logged_in,current_transaction_info:e.transaction_info,frontend_nonces:e.frontend_nonces?e.frontend_nonces:r.props.main_component.state.frontend_nonces},function(){n()}):r.props.main_component.setState({user_logged_in:null,current_transaction_info:null,frontend_nonces:e.frontend_nonces?e.frontend_nonces:r.props.main_component.state.frontend_nonces},function(){i()})}).catch(function(e){console.log("Fetch Error: ",e),i()})}).catch(function(e){console.log("Fetch Error :-S",e),i()})})}},{key:"on_row_click",value:function(e,t){var n=this;this.get_transaction(e.id.value).then(function(){n.props.main_component.set_all_current_visual_states({manage_payments:{transaction:Ce({},e.id.value,{})}})})}},{key:"render",value:function(){return"none"==this.state.current_visual_state?"":React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-login-view "+church_tithe_wp_get_current_view_class(this,["login"])},React.createElement(Church_Tithe_WP_Login,{main_component:this.props.main_component,check_if_user_is_logged_in:this.props.check_if_user_is_logged_in})),React.createElement("div",{className:"church-tithe-wp-manage-transactions-view "+church_tithe_wp_get_current_view_class(this,["transactions","fetching_data"])},React.createElement(Se.a,(Ce(e={main_component:this.props.main_component,current_visual_state:this.state.current_visual_state,rows:this.state.rows,columns:this.state.columns,total_items:this.state.total_items,get_rows_and_columns:this.get_transactions.bind(this)},"current_visual_state",this.state.current_visual_state),Ce(e,"on_row_click",this.on_row_click.bind(this)),e))));var e}}])&&Oe(n.prototype,i),r&&Oe(n,r),t}();Church_Tithe_WP_Transactions;function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Le(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Arrangements=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Le(this,Me(t).call(this,e))).state={current_visual_state:"none",total_items:0,current_arrangement_info:null},n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.props.check_if_user_is_logged_in()}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.main_component.state.user_logged_in?("arrangements"!==this.state.current_visual_state&&"fetching_data"!=this.state.current_visual_state&&this.setState({current_visual_state:"arrangements"}),"arrangements"!=this.state.current_visual_state||this.state.rows||this.get_arrangements(1,10,"")):"login"!=this.state.current_visual_state&&this.setState({current_visual_state:"login"}),this.props.main_component.state.reload_arrangements&&this.props.main_component.setState({reload_arrangements:!1},function(){e.get_arrangements(1,10,"")}),Object.keys(this.props.main_component.state.all_current_visual_states)[0]&&this.props.main_component.state.all_current_visual_states.manage_payments&&Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments)[0]){var t=Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments)[0];if("arrangement"==t&&Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments[t])[0]){var n=Object.keys(this.props.main_component.state.all_current_visual_states.manage_payments[t])[0];this.props.main_component.state.current_arrangement_info||this.get_arrangement(n),this.props.main_component.state.current_arrangement_info&&n!==this.props.main_component.state.current_arrangement_info.id&&this.get_arrangement(n)}}}},{key:"get_arrangements",value:function(e,t,n){var i=this;this.setState({current_visual_state:"fetching_data"});var r=new FormData;r.append("action","church_tithe_wp_get_arrangements"),r.append("church_tithe_wp_current_page",e),r.append("church_tithe_wp_items_per_page",t),r.append("church_tithe_wp_search_term",n),r.append("church_tithe_wp_get_arrangements_nonce",this.props.main_component.state.frontend_nonces.get_arrangements_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_get_arrangements",{method:"POST",mode:"same-origin",credentials:"same-origin",body:r}).then(function(e){if(200!==e.status)return i.setState({columns:null,rows:null,total_items:0}),void console.log("Looks like there was a problem. Status Code: "+e.status);e.json().then(function(e){e.success?i.props.main_component.setState({user_logged_in:e.user_logged_in,frontend_nonces:e.frontend_nonces?e.frontend_nonces:i.props.main_component.state.frontend_nonces},function(){i.setState({current_visual_state:"arrangements",columns:e.columns,rows:e.rows,total_items:e.total_items})}):(i.setState({columns:null,rows:null,total_items:0}),i.props.main_component.setState({user_logged_in:null,frontend_nonces:e.frontend_nonces?e.frontend_nonces:i.props.main_component.state.frontend_nonces}))}).catch(function(e){console.log("Fetch Error: ",e)})}).catch(function(e){console.log("Fetch Error :-S",e)})}},{key:"get_arrangement",value:function(e){var t=this;return new Promise(function(n,i){var r=t,a=new FormData;a.append("action","church_tithe_wp_get_arrangement"),a.append("church_tithe_wp_arrangement_id",e),a.append("church_tithe_wp_get_arrangement_nonce",t.props.main_component.state.frontend_nonces.get_arrangement_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_get_arrangement",{method:"POST",mode:"same-origin",credentials:"same-origin",body:a}).then(function(e){if(200!==e.status)return r.props.main_component.setState({current_arrangement_info:null}),console.log("Looks like there was a problem. Status Code: "+e.status),void i();e.json().then(function(e){e.success?r.props.main_component.setState({user_logged_in:e.user_logged_in,current_arrangement_info:e.arrangement_info,frontend_nonces:e.frontend_nonces?e.frontend_nonces:r.props.main_component.state.frontend_nonces},function(){n()}):r.props.main_component.setState({user_logged_in:null,current_arrangement_info:null,frontend_nonces:e.frontend_nonces?e.frontend_nonces:r.props.main_component.state.frontend_nonces},function(){i()})}).catch(function(e){console.log("Fetch Error: ",e),i()})}).catch(function(e){console.log("Fetch Error :-S",e),i()})})}},{key:"on_row_click",value:function(e,t){var n=this;this.get_arrangement(e.id.value).then(function(){n.props.main_component.set_all_current_visual_states({manage_payments:{arrangement:qe({},e.id.value,{})}})})}},{key:"render",value:function(){return"none"==this.state.current_visual_state?"":React.createElement(React.Fragment,null,React.createElement("div",{className:"church-tithe-wp-login-view "+church_tithe_wp_get_current_view_class(this,["login"])},React.createElement(Church_Tithe_WP_Login,{main_component:this.props.main_component,check_if_user_is_logged_in:this.props.check_if_user_is_logged_in})),React.createElement("div",{className:"church-tithe-wp-manage-arrangements-view "+church_tithe_wp_get_current_view_class(this,["arrangements","fetching_data"])},React.createElement(Se.a,(qe(e={main_component:this.props.main_component,current_visual_state:this.state.current_visual_state,rows:this.state.rows,columns:this.state.columns,total_items:this.state.total_items,get_rows_and_columns:this.get_arrangements.bind(this)},"current_visual_state",this.state.current_visual_state),qe(e,"on_row_click",this.on_row_click.bind(this)),e))));var e}}])&&xe(n.prototype,i),r&&xe(n,r),t}();Church_Tithe_WP_Arrangements;function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function De(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}church_tithe_wp_js_vars.tithe_form_vars;window.Church_Tithe_WP_Arrangement=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=De(this,Be(t).call(this,e))).state={arrangement_cancel_intention_count:0},n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,React.Component),n=t,(i=[{key:"cancel_arrangement",value:function(){if(0!=this.state.arrangement_cancel_intention_count){var e=this.props.main_component.state.current_arrangement_info;e.recurring_status="cancelling",this.props.main_component.setState({current_arrangement_info:e});var t=this,n=new FormData;n.append("action","church_tithe_wp_cancel_arrangement"),n.append("church_tithe_wp_arrangement_id",this.props.main_component.state.current_arrangement_info.id),n.append("church_tithe_wp_cancel_arrangement_nonce",this.props.main_component.state.frontend_nonces.cancel_arrangement_nonce),fetch(church_tithe_wp_js_vars.ajaxurl+"?church_tithe_wp_cancel_arrangement",{method:"POST",mode:"same-origin",credentials:"same-origin",body:n}).then(function(n){if(200!==n.status)return(e=t.props.main_component.state.current_arrangement_info).recurring_status="failed_to_cancel",t.props.main_component.setState({current_arrangement_info:data.current_arrangement_info}),void console.log("Looks like there was a problem. Status Code: "+n.status);n.json().then(function(n){n.success?t.props.main_component.setState({user_logged_in:n.user_logged_in,frontend_nonces:n.frontend_nonces?n.frontend_nonces:t.props.main_component.state.frontend_nonces},function(){t.props.main_component.setState({current_arrangement_info:n.arrangement_info,arrangement_cancel_intention_count:0}),t.props.main_component.setState({reload_arrangements:!0})}):((e=t.props.main_component.state.current_arrangement_info).recurring_status="failed_to_cancel",t.props.main_component.setState({current_arrangement_info:e}),"not_logged_in"==n.error_code&&t.props.main_component.setState({user_logged_in:null,frontend_nonces:n.frontend_nonces?n.frontend_nonces:t.props.main_component.state.frontend_nonces}))}).catch(function(n){(e=t.props.main_component.state.current_arrangement_info).recurring_status="failed_to_cancel",t.props.main_component.setState({current_arrangement_info:e}),console.log("Fetch Error: ",n)})}).catch(function(n){(e=t.props.main_component.state.current_arrangement_info).recurring_status="failed_to_cancel",t.props.main_component.setState({current_arrangement_info:e}),console.log("Fetch Error :-S",n)})}else this.setState({arrangement_cancel_intention_count:1})}},{key:"render_cancel_button",value:function(){var e;return this.props.main_component.state.current_arrangement_info.webhook_succeeded?(0==this.state.arrangement_cancel_intention_count&&(e=this.props.main_component.state.unique_settings.strings.arrangement_action_cancel),1==this.state.arrangement_cancel_intention_count&&(e=this.props.main_component.state.unique_settings.strings.arrangement_action_cancel_double),this.props.main_component.state.current_arrangement_info.recurring_status&&"on"!=this.props.main_component.state.current_arrangement_info.recurring_status?"failed_to_cancel"==this.props.main_component.state.current_arrangement_info.recurring_status?React.createElement("button",{className:"church-tithe-wp-receipt-line-item-action church-tithe-wp-arrangement-action-cancel"},this.props.main_component.state.unique_settings.strings.arrangement_failed_to_cancel):"cancelling"==this.props.main_component.state.current_arrangement_info.recurring_status?React.createElement("button",{className:"church-tithe-wp-receipt-line-item-action church-tithe-wp-arrangement-action-cancel"},this.props.main_component.state.unique_settings.strings.arrangement_cancelling):"cancelled"==this.props.main_component.state.current_arrangement_info.recurring_status?React.createElement("button",{className:"church-tithe-wp-receipt-line-item-action church-tithe-wp-arrangement-action-cancel"},this.props.main_component.state.unique_settings.strings.arrangement_cancelled):void 0:React.createElement("button",{className:"church-tithe-wp-receipt-line-item-action church-tithe-wp-arrangement-action-cancel",onClick:this.cancel_arrangement.bind(this)},e)):React.createElement("button",{className:"church-tithe-wp-receipt-line-item-action church-tithe-wp-arrangement-action-cancel"},this.props.main_component.state.unique_settings.strings.arrangement_action_cant_cancel)}},{key:"render_renewal_date",value:function(){return"cancelled"==this.props.main_component.state.current_arrangement_info.recurring_status?"":React.createElement("div",{className:"church-tithe-wp-arrangement-renewal-date"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-arrangement-renewal-date-title"},this.props.main_component.state.unique_settings.strings.arrangement_renewal_title+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-arrangement-renewal-date-value"},church_tithe_wp_format_date(this.props.main_component.state.current_arrangement_info.renewal_date)))}},{key:"format_amount",value:function(){var e=this.props.main_component.state.current_arrangement_info.amount,t=this.props.main_component.state.current_arrangement_info.currency,n=this.props.main_component.state.current_arrangement_info.is_zero_decimal_currency,i=this.props.main_component.state.unique_settings.locale,r=this.props.main_component.state.current_arrangement_info.string_after+" ("+t.toUpperCase()+")";return church_tithe_wp_format_money(e,t,n,i,r)}},{key:"render",value:function(){return this.props.main_component.state.current_arrangement_info?React.createElement("div",{className:"church-tithe-wp-arrangement"},React.createElement("div",{className:"church-tithe-wp-receipt-title"},this.props.main_component.state.unique_settings.strings.arrangement_details),React.createElement("div",{className:"church-tithe-wp-arrangement-id"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-arrangement-id-title"},this.props.main_component.state.unique_settings.strings.arrangement_id_title+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-arrangement-id-value"},this.props.main_component.state.current_arrangement_info.id)),React.createElement("div",{className:"church-tithe-wp-arrangement-interval"},React.createElement("span",{className:"church-tithe-wp-receipt-line-item-title church-tithe-wp-arrangement-plan-title"},this.props.main_component.state.unique_settings.strings.arrangement_amount_title+": "),React.createElement("span",{className:"church-tithe-wp-receipt-line-item-value church-tithe-wp-arrangement-plan-value"},this.format_amount())),this.render_renewal_date(),React.createElement("div",{className:"church-tithe-wp-arrangement-actions"},this.render_cancel_button())):React.createElement(Church_Tithe_WP_Spinner,null)}}])&&Ie(n.prototype,i),r&&Ie(n,r),t}();Church_Tithe_WP_Arrangement;function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ze(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.Church_Tithe_WP_Spinner=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ze(this,Ke(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,React.Component),n=t,(i=[{key:"get_color_mode_class",value:function(){return this.props.color_mode?" "+this.props.color_mode:""}},{key:"render",value:function(){return React.createElement("div",{className:"church-tithe-wp-spinner-container"},React.createElement("div",{className:"church-tithe-wp-spinner"+this.get_color_mode_class()},React.createElement("div",{className:"church-tithe-wp-double-bounce1"}),React.createElement("div",{className:"church-tithe-wp-double-bounce2"})))}}])&&Ae(n.prototype,i),r&&Ae(n,r),t}();Church_Tithe_WP_Spinner;function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Je(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.Church_Tithe_WP_Checkmark=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,Xe(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,React.Component),n=t,(i=[{key:"render",value:function(){return React.createElement("svg",{className:"church-tithe-wp-checkmark-svg",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 200 200"},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("circle",{className:"church-tithe-wp-checkmark--circle",cx:"100",cy:"100",r:"84.615",fill:"#4BB543"}),React.createElement("polyline",{className:"church-tithe-wp-checkmark--check",stroke:"#FFF",points:"76.923 130.769 123.077 130.769 123.077 38.462",transform:"rotate(42 100 84.615)"})))}}])&&Ye(n.prototype,i),r&&Ye(n,r),t}();Church_Tithe_WP_Checkmark;function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.Church_Tithe_WP_Modal=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=et(t).call(this,e))||"object"!==$e(r)&&"function"!=typeof r?nt(i):r).state={has_mounted:!1,modal_open:!1},n.handle_key_press=n.handle_key_press.bind(nt(nt(n))),n.toggle_modal=n.toggle_modal.bind(nt(nt(n))),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,React.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.handle_open_status_based_on_url()}},{key:"componentDidUpdate",value:function(){this.state.modal_open?(this.state.has_mounted||this.setState({has_mounted:!0}),document.addEventListener("keydown",this.handle_key_press,!1)):document.removeEventListener("keydown",this.handle_key_press,!1),this.handle_open_status_based_on_url()}},{key:"handle_open_status_based_on_url",value:function(){this.props.main_component&&this.props.main_component.state.modal_visual_state&&(this.props.slug==Object.keys(this.props.main_component.state.modal_visual_state)[0]?this.state.modal_open||this.setState({modal_open:!0}):this.state.modal_open&&this.setState({modal_open:!1}))}},{key:"get_modal_visible_class",value:function(){return this.state.modal_open?" church-tithe-wp-modal-open":" church-tithe-wp-modal-closed"}},{key:"handle_key_press",value:function(e){27===e.keyCode&&this.toggle_modal(this.state)}},{key:"toggle_modal",value:function(e){var t,n,i;e.modal_open?this.props.main_component.set_all_current_visual_states(!1,{}):this.props.main_component.set_all_current_visual_states(!1,(t={},n=this.props.slug,i={},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))}},{key:"render",value:function(){return React.createElement("div",{className:"church-tithe-wp-modal-background church-tithe-wp-modal"+this.get_modal_visible_class()},React.createElement("div",{className:"church-tithe-wp-modal-outside-click-to-close",onClick:this.toggle_modal.bind(null,this.state)}),React.createElement("div",{className:"church-tithe-wp-modal-relative"},React.createElement("div",{className:"church-tithe-wp-modal-absolute"},React.createElement("div",{className:"church-tithe-wp-modal-inner"},this.props.modal_contents))))}}])&&Qe(n.prototype,i),r&&Qe(n,r),t}();Church_Tithe_WP_Modal,n(14)}]);
//# sourceMappingURL=church-tithe-wp-frontend.js.map