{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/libraries/mpwpadmin/js/src/index.js","webpack:///./assets/libraries/mpwpadmin/js/src/welcome-view.js","webpack:///./assets/libraries/mpwpadmin/js/src/health-check-view.js","webpack:///./assets/libraries/mpwpadmin/js/src/checkbox-field.js","webpack:///./assets/libraries/mpwpadmin/js/src/file-upload-field.js","webpack:///./assets/libraries/mpwpadmin/js/src/input-field.js","webpack:///./assets/libraries/mpwpadmin/js/src/list-view.js","webpack:///./assets/libraries/mpwpadmin/js/src/select-field.js","webpack:///./assets/libraries/mpwpadmin/js/src/settings-view.js","webpack:///./assets/libraries/mpwpadmin/js/src/textarea-field.js","webpack:///./assets/libraries/mpwpadmin/js/src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","window","MP_WP_Admin_Welcome_View","_React$Component","props","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","_inherits","_createClass","render_sections","sections","mapper","section_key","DynamicReactComponent","eval","push","React","createElement","className","main_component","section_info","map","view","index","breadcrumbs","the_breadcrumbs","view_slug","breadcrumb","current_view_class","render_breadcrumbs","view_info","Component","MP_WP_Admin_Instruction","_React$Component2","instruction","MP_WP_Admin_Health_Check_View","_this","state","lightbox_open","title","body","_this2","setState","total_unhealthy_checks","health_check_key","event","_this3","Promise","resolve","reject","set_all_current_visual_states","_defineProperty","then","suffix","_this4","set_lightbox_for_health_check","render_lightbox","health_checks","wizard_steps","wizard_step_vars","next_wizard_step","get_next_wizard_step_key","dynamic_react_component","data","slug_suffix","this_lightbox_slug","next_lightbox_slug","fixing_it_again","MP_WP_Admin_Lightbox","slug","custom_react_component","current_wizard_step_key","current_key_match_found","wizard_step_key","unhealthy_icon","_this5","onClick","reset_lightbox_for_health_check","render_unhealthy_icon","render_health_checks","health_check_vars","render_wizard_steps","MP_WP_Admin_Checkbox_Field","props_loaded","input_value","saved_status","in_initial_state","validated","client_validation_callback_function","default_value","error_code","input_delay","get_input_field_class","_assertThisInitialized","get_input_instruction_class","get_input_instruction_message","set_state","saved_value","state_key","state_value","postData","FormData","append","relation_id","id","server_validation_callback_function","nonce","this_component","fetch","server_api_endpoint_url","method","credentials","headers","response","status","json","success","update_context","result","console","log","catch","err","current_instruction","get_current_instruction_key","instruction_codes","instruction_type","instruction_message","target","checked","is_validated","old_input_value","new_input_value","clearTimeout","setTimeout","save_value_to_server","replace_input_field_with","inputProps","class_name","handle_input_change","placeholder","step","min","max","disabled","selected_text","unselected_text","render_help_button","help_text","Fragment","toggle_help_lightbox","render","react_component","component_data","help_lightbox_output","render_field","MP_WP_Admin_File_Upload_Field","file_preview","use_wp_media_dialog","fileInput","createRef","unique_instruction_message","details","file_to_upload","current","files","URL","createObjectURL","wp_media_dialog_class","style","backgroundImage","mp_core_file_frame","wp","media","button","text","multithele","on","attachment","toJSON","url","split","pop","open","wp_open_media_dialog","upload_file_text","remove_file","remove_file_text","render_file_upload_control_buttons","MP_WP_Admin_Input_Field","type","MP_WP_Admin_List_View","current_view","map_of_visual_states","rows","columns","current_page","total_items","items_per_page","search_term","current_single_item","get_single_item_from_server","variable","get_rows_from_server","mpwpadmin_set_visual_state_of_component","component","default_visual_states","parent_in_view","parent_not_in_view","name_of_visual_state_variable","keys","all_current_visual_states","second_slug","third_slug","item_to_fetch","server_api_endpoint_url_single_item","single_item","single_data_view","list_view","Math","ceil","scope","render_rows","td_mapper","first","row","handle_single_row_click","strings","uppercase_search","onChange","handle_search_change","uppercase_items","lowercase_per","lowercase_page","handle_items_per_page_change","uppercase_page","get_total_pages","handle_page_number_change","lowercase_of","render_columns","MP_WP_Admin_Spinner","render_single_data_view","react_component_single_item_view","hidden","handle_list_view_button_click","back_to_list_view","_this6","render_search","render_pagination","render_list_table","render_list_view","MP_WP_Admin_Select_Field","matching_values","initially_available_values","options_hidden","find_matching_available_values","available_values","fetching_status","JSON","stringify","action","fetch_options_function","mpwpadmin_search_term","mpwpadmin_fetch_options_nonce","ajaxurl","Content-Type","arguments","length","undefined","option_key","options","toggle_options","render_each_option","no_matching_values_text","handle_option_click","option","handle_keypress","_extends","render_options","MP_WP_Admin_Settings_View","render_settings","settings","doing_sub_setting","context_id","refresh_sections","MP_WP_Admin_TextArea_Field","mpwpadmin_visual_state_should_become","visual_state_should_become","default_visual_state","level","_typeof","mpwpadmin_get_default_map_of_visual_states","new_map_of_visual_states","previous_level","temp","mp_wp_admin_admin_lightbox_vars","description","MP_WP_Admin","all_initial_visual_states","general_config","lightbox_initial_visual_state","lightbox_visual_state","single_page_app_base_url","base_url","dom_node","get_current_view_class","addEventListener","e","on_web_history_change","maybe_refresh_parent_dom_node","mpwpadmin_refresh_nonce","server_endpoint_url_refresh_mpwpadmin","ReactDOM","findDOMNode","parentNode","obj","new_url_path","depth","component_visual_state","build_new_url_path","new_state","new_lightbox_state","_history$pushState","screen","width","scrollIntoView","behavior","new_url","history","pushState","app_slug","history_state","initial_lightbox_visual_state","view_in_question","views","MP_WP_Admin_View_Button","is_top_level","render_actual_views","doing_sub_tabs","current_visual_state","sub_tabs","render_left_side_navigation_buttons","sub_menus","get_current_button_class","handle_button_click","visual_name","render_submenu","_React$Component3","has_mounted","handle_key_press","toggle_lightbox","handle_open_status_based_on_url","document","removeEventListener","keyCode","aria-label","handle_close_button_click","default_icon","src","render_icon","render_title","render_component","render_body","get_lightbox_visible_class","render_close_button","render_based_on_mode","_React$Component4","apply","Error","parent_component_is_in_view"],"mappings":"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","file":"./assets/libraries/mpwpadmin/js/build/mpwpadmin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import './welcome-view.js';\nimport './health-check-view.js';\nimport './checkbox-field.js';\nimport './file-upload-field.js';\nimport './input-field.js';\nimport './list-view.js';\nimport './select-field.js';\nimport './settings-view.js';\nimport './textarea-field.js';\nimport './main.js';\n","/*\n* Church Tithe WP Admin\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: April 18, 2018\n*/\n\n// This component outputs the settings view and its contents\nwindow.MP_WP_Admin_Welcome_View = class MP_WP_Admin_Welcome_View extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\t}\n\n\trender_sections( sections ) {\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var section_key in sections) {\n\n\t\t\tif ( sections[section_key] ) {\n\t\t\t\tvar DynamicReactComponent = eval( sections[section_key]['react_component'] );\n\n\t\t\t\tmapper.push(\n\t\t\t\t\t<div key={ section_key } className={ 'mpwpadmin-welcome-section-container ' + 'mpwpadmin-welcome-section-' + section_key + '-container' }>\n\t\t\t\t\t\t<h4>{ sections[section_key]['visual_name'] }</h4>\n\t\t\t\t\t\t<p>{ sections[section_key]['description'] }</p>\n\t\t\t\t\t\t<DynamicReactComponent\n\t\t\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\t\t\tsection_info={ sections[section_key] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\n\t\t}\n\n\t\t// This lets us output the health checks one by one\n\t\treturn mapper.map((view, index) => {\n\t\t\treturn view;\n\t\t})\n\n\t}\n\n\trender_breadcrumbs() {\n\n\t\tvar breadcrumbs = this.props.the_breadcrumbs;\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in breadcrumbs) {\n\n\t\t\tif ( key == this.props.view_slug ) {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] }</span>  )\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] } > </span>  )\n\t\t\t}\n\n\t\t}\n\n\t\t// This lets us output the breadcrumbs one by one\n\t\treturn mapper.map((breadcrumb, index) => {\n\t\t\treturn breadcrumb;\n\t\t})\n\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className={ 'mpwpadmin-settings-view' + this.props.current_view_class }>\n\t\t\t\t<div className=\"mpwpadmin-breadcrumb\">\n\t\t\t\t\t<h2>{ this.render_breadcrumbs() }</h2>\n\t\t\t\t</div>\n\t\t\t\t{ this.render_sections( this.props.view_info.sections ) }\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\n\n// This component outputs the settings view and its contents\nwindow.MP_WP_Admin_Instruction = class MP_WP_Admin_Instruction extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className={ 'mpwpadmin-instruction' }>\n\t\t\t\t{ this.props.section_info.instruction }\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n","/*\n* Church Tithe WP Admin\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: April 18, 2018\n*/\n\n// This component outputs the settings view and its contents\nwindow.MP_WP_Admin_Health_Check_View = class MP_WP_Admin_Health_Check_View extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlightbox_open: false,\n\t\t\ttitle: null,\n\t\t\tbody: null\n\t\t};\n\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.setState( {\n\t\t\ttotal_unhealthy_checks: this.props.section_info.total_unhealthy_checks\n\t\t}, () => {\n\n\t\t\tif ( this.state.total_unhealthy_checks !== this.props.main_component.state.total_unhealthy_checks ) {\n\t\t\t\t// Set the number of unhealthy checks\n\t\t\t\tthis.props.main_component.setState( {\n\t\t\t\t\ttotal_unhealthy_checks: this.state.total_unhealthy_checks\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\tif ( this.state.total_unhealthy_checks !== this.props.main_component.state.total_unhealthy_checks ) {\n\t\t\t// Set the number of unhealthy checks\n\t\t\tthis.props.main_component.setState( {\n\t\t\t\ttotal_unhealthy_checks: this.state.total_unhealthy_checks\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tset_lightbox_for_health_check( health_check_key, event ) {\n\n\t\treturn new Promise( (resolve, reject) => {\n\n\t\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t\t[health_check_key]: {}\n\t\t\t} ).then( () => {\n\t\t\t\tresolve();\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\treset_lightbox_for_health_check( health_check_key, suffix, event ) {\n\n\t\t// Force the \"is_healthy\" paramater to be false before we load the lightbox for this health check\n\t\tthis.setState({\n\t\t\t[health_check_key + '_fixing_it_again']: true\n\t\t}, () => {\n\n\t\t\tthis.setState({\n\t\t\t\t[health_check_key + '_fixing_it_again']: false\n\t\t\t}, () => {\n\t\t\t\tthis.set_lightbox_for_health_check( health_check_key + suffix, event );\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\trender_lightbox( health_checks, health_check_key, suffix ) {\n\n\t\tvar wizard_steps = this.props.section_info.wizard_step_vars;\n\n\t\tvar next_wizard_step = this.get_next_wizard_step_key( wizard_steps, health_check_key );\n\n\t\tif ( health_checks[health_check_key]['react_component'] ) {\n\t\t\tvar DynamicReactComponent = eval( health_checks[health_check_key]['react_component'] );\n\t\t\tvar dynamic_react_component = <DynamicReactComponent\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tdata={ health_checks }\n\t\t\t\thealth_check_key={ health_check_key }\n\t\t\t\tslug_suffix={ suffix }\n\t\t\t\tthis_lightbox_slug={ health_check_key + suffix }\n\t\t\t\tnext_lightbox_slug={ next_wizard_step ? next_wizard_step + '_wizard_step' : null }\n\t\t\t\tfixing_it_again={ this.state[health_check_key + '_fixing_it_again'] }\n\t\t\t/>\n\t\t} else {\n\t\t\tvar dynamic_react_component = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<MP_WP_Admin_Lightbox\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tslug={ health_check_key + suffix }\n\t\t\t\tmode={ 'custom_react_component' }\n\t\t\t\tcustom_react_component={ dynamic_react_component }\n\t\t\t/>\n\t\t);\n\n\t}\n\n\tget_next_wizard_step_key( wizard_steps, current_wizard_step_key ) {\n\t\tvar current_key_match_found = false;\n\n\t\tfor (var wizard_step_key in wizard_steps) {\n\n\t\t\tif ( current_key_match_found ) {\n\t\t\t\treturn wizard_step_key;\n\t\t\t}\n\n\t\t\tif ( current_wizard_step_key == wizard_step_key ) {\n\t\t\t\tcurrent_key_match_found = true;\n\t\t\t}\n\t\t}\n\t}\n\n\t// The Wizard steps are not shown on the health check page, but we need to render their lightboxes out\n\trender_wizard_steps( wizard_steps ) {\n\n\t\tvar mapper = [];\n\n\t\tvar total_unhealthy_checks = 0;\n\n\t\t// This lets us loop through the object\n\t\tfor (var wizard_step_key in wizard_steps) {\n\n\t\t\t// If this check is a wizard step\n\t\t\tif ( wizard_steps[wizard_step_key]['is_wizard_step'] ) {\n\t\t\t\tmapper.push(\n\t\t\t\t\t<div key={ wizard_step_key } className={ 'mpwpadmin-wizard-step-container ' + 'mpwpadmin-wizard-step-' + wizard_step_key + '-container' }>\n\t\t\t\t\t\t{ this.render_lightbox( wizard_steps, wizard_step_key, '_wizard_step' ) }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\t// This lets us output the health checks one by one\n\t\treturn mapper.map((view, index) => {\n\t\t\treturn view;\n\t\t})\n\n\t}\n\n\trender_unhealthy_icon( health_checks, health_check_key ) {\n\n\t\tvar unhealthy_icon = 'dashicons-no-alt';\n\n\t\tif ( health_checks[health_check_key]['unhealthy']['health_check_icon'] ) {\n\t\t\tunhealthy_icon = health_checks[health_check_key]['unhealthy']['health_check_icon'];\n\t\t}\n\n\t\treturn( <span className={ 'dashicons ' + unhealthy_icon }></span> );\n\t}\n\n\trender_health_checks( health_checks ) {\n\n\t\tvar mapper = [];\n\n\t\tvar total_unhealthy_checks = 0;\n\n\t\t// This lets us loop through the object\n\t\tfor (var health_check_key in health_checks) {\n\n\t\t\t// If this check is healthy\n\t\t\tif ( health_checks[health_check_key]['is_healthy'] && health_checks[health_check_key]['is_health_check'] ) {\n\n\t\t\t\tmapper.push(\n\t\t\t\t\t<div key={ health_check_key } className={ 'mpwpadmin-health-check-container ' + 'mpwpadmin-health-check-' + health_check_key + '-container' }>\n\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-icon-container' }>\n\t\t\t\t\t\t\t<span className={ 'dashicons dashicons-yes' }></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-description-container' }>\n\t\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-description-text-container' }>\n\t\t\t\t\t\t\t\t{ health_checks[health_check_key]['healthy']['instruction'] }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ ( () => {\n\t\t\t\t\t\t\t\tif ( health_checks[health_check_key]['healthy']['fix_it_again_button_text'] ) {\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-description-action-container' }>\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={ this.reset_lightbox_for_health_check.bind( this, health_check_key, '_health_check' ) } className=\"button\">{ health_checks[health_check_key]['healthy']['fix_it_again_button_text'] }</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} )() }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ this.render_lightbox( health_checks, health_check_key, '_health_check' ) }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t}\n\t\t\t// If this check is unhealthy\n\t\t\telse {\n\n\t\t\t\tif ( health_checks[health_check_key]['is_health_check'] ) {\n\t\t\t\t\tmapper.push(\n\t\t\t\t\t\t<div key={ health_check_key } className={ 'mpwpadmin-health-check-container ' + 'mpwpadmin-health-check-' + health_check_key + '-container' }>\n\t\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-icon-container' }>\n\t\t\t\t\t\t\t\t{ this.render_unhealthy_icon( health_checks, health_check_key ) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-description-container' }>\n\t\t\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-description-text-container' }>\n\t\t\t\t\t\t\t\t\t{ health_checks[health_check_key]['unhealthy']['instruction'] }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={ 'mpwpadmin-health-check-description-action-container' }>\n\t\t\t\t\t\t\t\t\t<button onClick={ this.set_lightbox_for_health_check.bind( this, health_check_key + '_health_check' ) } className=\"button\">{ health_checks[health_check_key]['unhealthy']['fix_it_button_text'] }</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ this.render_lightbox( health_checks, health_check_key, '_health_check' ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\t// This lets us output the health checks one by one\n\t\treturn mapper.map((view, index) => {\n\t\t\treturn view;\n\t\t})\n\n\t}\n\n\trender_breadcrumbs() {\n\n\t\tvar breadcrumbs = this.props.the_breadcrumbs;\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in breadcrumbs) {\n\n\t\t\tif ( key == this.props.view_slug ) {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] }</span>  )\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] } > </span>  )\n\t\t\t}\n\n\t\t}\n\n\t\t// This lets us output the breadcrumbs one by one\n\t\treturn mapper.map((breadcrumb, index) => {\n\t\t\treturn breadcrumb;\n\t\t})\n\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className={ 'mpwpadmin-settings-view' }>\n\t\t\t\t<div className=\"mpwpadmin-breadcrumb\">\n\t\t\t\t\t<h2>{ this.render_breadcrumbs() }</h2>\n\t\t\t\t</div>\n\t\t\t\t{ this.render_health_checks( this.props.section_info.health_check_vars ) }\n\t\t\t\t{ this.render_wizard_steps( this.props.section_info.wizard_step_vars ) }\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n","window.MP_WP_Admin_Checkbox_Field = class MP_WP_Admin_Checkbox_Field extends React.Component {\n\n\tconstructor( props ) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprops_loaded: false,\n\t\t\tinput_value: '',\n\t\t\tsaved_status: 'saved',\n\t\t\tin_initial_state: true,\n\t\t\tvalidated: window[this.props.props.client_validation_callback_function]( this.props.props.default_value ),\n\t\t\tlightbox_open: false,\n\t\t\terror_code: null\n\t\t};\n\n\t\tthis.input_delay = null;\n\n\t\tthis.get_input_field_class = this.get_input_field_class.bind( this );\n\t\tthis.get_input_instruction_class = this.get_input_instruction_class.bind( this );\n\t\tthis.get_input_instruction_message = this.get_input_instruction_message.bind( this );\n\t\tthis.set_state = this.set_state.bind( this );\n\t};\n\n\tcomponentDidMount() {\n\n\t\t//Server side checkboxes = strings. Client side checkboxes = boolean. This allows for a checked initial state.\n\t\tif ( 'true' == this.props.props.saved_value || 'false' == this.props.props.saved_value ) {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: 'true' == this.props.props.saved_value ? true : false\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: 'true' == this.props.props.default_value ? true : false\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tset_state( state_key, state_value ) {\n\n\t\tthis.setState( {\n\t\t\t[state_key]: state_value\n\t\t} );\n\t}\n\n\tsave_value_to_server( value ) {\n\n\t\tthis.setState( {\n\t\t\tsaved_status: 'saving',\n\t\t} );\n\n\t\t// Format the data that we'll send to the server\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_relation_id', this.props.relation_id );\n\t\tpostData.append('mpwpadmin_setting_id', this.props.id);\n\t\tpostData.append('mpwpadmin_setting_value', value);\n\t\tpostData.append('mpwpadmin_validation_callback', this.props.props.server_validation_callback_function);\n\t\tpostData.append('mpwpadmin_nonce', this.props.props.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.props.server_api_endpoint_url, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\t// The value was successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'saved',\n\t\t\t\t\t\t\t\tvalidated: true,\n\t\t\t\t\t\t\t\terror_code: null,\n\t\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t\t\t// Pass the response up the chain to the parent component, where it will handle the data as it needs it.\n\t\t\t\t\t\t\tif ( this_component.props.update_context ) {\n\t\t\t\t\t\t\t\tthis_component.props.update_context( data ).then( function( result ) {\n\t\t\t\t\t\t\t\t\tconsole.log( result );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log( data );\n\n\t\t\t\t\t\t\t// The value was note successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\t\t\tvalidated: false,\n\t\t\t\t\t\t\t\terror_code: data.error_code,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\t}\n\n\tget_current_instruction_key() {\n\n\t\t// If the field is empty and we are in an untouched, initial state\n\t\tif ( ! this.state.input_value && this.state.in_initial_state ) {\n\t\t\treturn 'empty_initial';\n\t\t}\n\n\t\tif ( ! this.state.input_value && ! this.state.in_initial_state ) {\n\t\t\treturn 'empty_not_initial';\n\t\t}\n\n\t\t// If the field is not empty, and its been validated\n\t\tif ( this.state.input_value && this.state.validated ) {\n\t\t\treturn 'success';\n\t\t}\n\n\t\t// If the field is not empty, but it isn't valid\n\t\tif ( this.state.input_value && ! this.state.validated && this.state.error_code ) {\n\t\t\treturn this.state.error_code;\n\t\t}\n\n\t\treturn 'success';\n\t}\n\n\tget_input_instruction_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\n\t};\n\n\tget_input_field_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'success' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-success';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-error';\n\t\t\t}\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-initial';\n\t\t\t}\n\t\t}\n\n\t\treturn ' mpwpadmin-input-initial';\n\n\t};\n\n\tget_input_instruction_message() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\treturn this.props.props.instruction_codes[current_instruction].instruction_message;\n\t\t}\n\t};\n\n\thandle_input_change( event ) {\n\n\t\t// Set the validation of this field\n\t\tif ( ! window[this.props.props.client_validation_callback_function]( event.target.checked ) ) {\n\t\t\tvar is_validated = false;\n\t\t} else {\n\t\t\tvar is_validated = true;\n\t\t}\n\n\t\tvar old_input_value = this.state.input_value;\n\t\tvar new_input_value = event.target.checked;\n\n\t\tthis.setState( {\n\t\t\tin_initial_state: false,\n\t\t\tinput_value: event.target.checked,\n\t\t\tsaved_status: 'typing',\n\t\t\tvalidated: is_validated\n\t\t} );\n\n\t\t// If nothing has changed since the state was last set\n\t\tif ( old_input_value == new_input_value ) {\n\n\t\t\t// Do nothing\n\t\t\treturn false;\n\n\t\t} else {\n\n\t\t\t// Set up a delay which waits to save the tithe until .5 seconds after they stop typing.\n\t\t\tif( this.input_delay ) {\n\t\t\t\t// Clear the keypress delay if the user just typed\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis.input_delay = null;\n\t\t\t}\n\n\t\t\tvar this_component = this;\n\n\t\t\t// (Re)-Set up the save to fire in 500ms\n\t\t\tthis.input_delay = setTimeout( function() {\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis_component.save_value_to_server( new_input_value );\n\t\t\t}, 500);\n\n\t\t}\n\n\t};\n\n\trender_field() {\n\n\t\tif ( ! this.state.props_loaded ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( this.props.props.replace_input_field_with ) {\n\t\t\treturn this.props.props.replace_input_field_with;\n\t\t} else {\n\n\t\t\tvar inputProps = {};\n\n\t\t\tinputProps['type'] = 'checkbox';\n\n\t\t\tif ( this.props.class_name ) {\n\t\t\t\tinputProps['className'] = this.props.class_name + this.get_input_field_class();\n\t\t\t} else {\n\t\t\t\tinputProps['className'] = this.get_input_field_class();\n\t\t\t}\n\n\t\t\tif ( this.props.props.name ) {\n\t\t\t\tinputProps['name'] = this.props.props.name;\n\t\t\t}\n\n\t\t\tinputProps['onChange'] = this.handle_input_change.bind( this );\n\n\t\t\tinputProps['checked'] = this.state.input_value;\n\n\t\t\tif ( this.props.props.placeholder ) {\n\t\t\t\tinputProps['placeholder'] = this.props.props.placeholder;\n\t\t\t}\n\n\t\t\tif ( this.props.props.step ) {\n\t\t\t\tinputProps['step'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.min ) {\n\t\t\t\tinputProps['min'] = this.props.props.min;\n\t\t\t}\n\n\t\t\tif ( this.props.props.max ) {\n\t\t\t\tinputProps['max'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.disabled ) {\n\t\t\t\tinputProps['disabled'] = this.props.props.disabled;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className=\"mpwpwadmin-checkbox-container\">\n\t\t\t\t<label>\n\t\t\t\t\t<input { ...inputProps } /><span>{ (() => {\n\t\t\t\t\t\t\tif ( this.props.props.selected_text && this.props.props.unselected_text ) {\n\t\t\t\t\t\t\t\tif ( this.state.input_value ) {\n\t\t\t\t\t\t\t\t\treturn this.props.props.selected_text;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn this.props.props.unselected_text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})()\n\t\t\t\t\t}</span>\n\t\t\t\t</label>\n\t\t\t\t<div className={ 'mpwpadmin-input-instruction' + this.get_input_instruction_class() }>{ this.get_input_instruction_message() }</div>\n\t\t\t\t<span className={ 'mpwpadmin-input-top-right-area' }>\n\t\t\t\t{ this.render_help_button() }\n\t\t\t\t<span className={ 'mpwpadmin-input-saved-status ' + this.state.saved_status }>{ this.state.saved_status }</span>\n\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\trender_help_button() {\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t\t<span className={ 'mpwpadmin-input-help-link' } onClick={ this.toggle_help_lightbox.bind( this ) }>help!</span>\n\t\t\t\t<span className={ 'mpwpadmin-input-separator' }> | </span>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t}\n\n\ttoggle_help_lightbox() {\n\n\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t[this.props.slug]: {}\n\t\t} );\n\n\t}\n\n\trender(){\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\tvar help_lightbox_output = null;\n\t\t} else if ( this.props.props.help_text.react_component ) {\n\n\t\t\tvar DynamicReactComponent = eval( this.props.props.help_text.react_component );\n\t\t\tvar dynamic_react_component = <DynamicReactComponent\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tdata={ this.props.props.help_text.component_data }\n\t\t\t/>\n\n\t\t\tvar help_lightbox_output = <MP_WP_Admin_Lightbox\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tslug={ this.props.slug }\n\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\tmode={ dynamic_react_component ? 'custom_react_component' : 'default' }\n\t\t\t\tcustom_react_component={ dynamic_react_component }\n\t\t\t/>\n\n\t\t} else {\n\t\t\tvar help_lightbox_output = \t<MP_WP_Admin_Lightbox\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tslug={ this.props.slug }\n\t\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\t/>;\n\t\t}\n\n\t\treturn(\n\t\t\t<div className={ 'mpwpadmin-input-component-container' }>\n\t\t\t{ this.render_field() }\n\n\t\t\t{ help_lightbox_output }\n\n\t\t\t</div>\n\t\t)\n\t}\n\n};\n","window.MP_WP_Admin_File_Upload_Field = class MP_WP_Admin_File_Upload_Field extends React.Component {\n\n\tconstructor( props ) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprops_loaded: false,\n\t\t\tinput_value: '',\n\t\t\tsaved_status: 'saved',\n\t\t\tin_initial_state: true,\n\t\t\tvalidated: window[this.props.props.client_validation_callback_function]( this.props.props.default_value ),\n\t\t\tlightbox_open: false,\n\t\t\terror_code: null,\n\t\t\tfile_preview: false,\n\t\t\tuse_wp_media_dialog: true\n\t\t};\n\n\t\tthis.input_delay = null;\n\n\t\tthis.get_input_field_class = this.get_input_field_class.bind( this );\n\t\tthis.get_input_instruction_class = this.get_input_instruction_class.bind( this );\n\t\tthis.get_input_instruction_message = this.get_input_instruction_message.bind( this );\n\t\tthis.set_state = this.set_state.bind( this );\n\n\t\tthis.fileInput = React.createRef();\n\t};\n\n\tcomponentDidMount() {\n\n\t\tif ( this.props.props.saved_value ) {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tfile_preview: this.props.props.saved_value,\n\t\t\t\tinput_value: this.props.props.saved_value,\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tset_state( state_key, state_value ) {\n\n\t\tthis.setState( {\n\t\t\t[state_key]: state_value\n\t\t} );\n\t}\n\n\tsave_value_to_server( value ) {\n\n\t\tthis.setState( {\n\t\t\tsaved_status: 'saving',\n\t\t} );\n\n\t\t// Format the data that we'll send to the server\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_relation_id', this.props.relation_id );\n\t\tpostData.append('mpwpadmin_setting_id', this.props.id);\n\t\tpostData.append('mpwpadmin_setting_value', value);\n\t\tpostData.append('mpwpadmin_validation_callback', this.props.props.server_validation_callback_function);\n\t\tpostData.append('mpwpadmin_nonce', this.props.props.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.props.server_api_endpoint_url, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\t// The value was successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'saved',\n\t\t\t\t\t\t\t\tvalidated: true,\n\t\t\t\t\t\t\t\terror_code: null,\n\t\t\t\t\t\t\t\tunique_instruction_message: null\n\t\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t\t\t// Pass the response up the chain to the parent component, where it will handle the data as it needs it.\n\t\t\t\t\t\t\tif ( this_component.props.update_context ) {\n\t\t\t\t\t\t\t\tthis_component.props.update_context( data ).then( function( result ) {\n\t\t\t\t\t\t\t\t\t//console.log( result );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log( data );\n\n\t\t\t\t\t\t\tif ( data.unique_instruction_message ) {\n\t\t\t\t\t\t\t\t// The value was not successfully saved.\n\t\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\t\t\t\tvalidated: false,\n\t\t\t\t\t\t\t\t\terror_code: data.error_code,\n\t\t\t\t\t\t\t\t\tunique_instruction_message: data.details\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// The value was not successfully saved.\n\t\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\t\t\t\tvalidated: data.error_code,\n\t\t\t\t\t\t\t\t\terror_code: 'error',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\t}\n\n\tget_current_instruction_key() {\n\n\t\t// If the field is empty and we are in an untouched, initial state\n\t\tif ( ! this.state.input_value && this.state.in_initial_state ) {\n\t\t\treturn 'empty_initial';\n\t\t}\n\n\t\tif ( ! this.state.input_value && ! this.state.in_initial_state ) {\n\t\t\treturn 'empty_not_initial';\n\t\t}\n\n\t\t// If the field is not empty, and its been validated\n\t\tif ( this.state.input_value && this.state.validated ) {\n\t\t\treturn 'success';\n\t\t}\n\n\t\t// If the field is not empty, but it isn't valid\n\t\tif ( this.state.input_value && ! this.state.validated ) {\n\t\t\treturn this.state.error_code;\n\t\t}\n\n\t\treturn 'error';\n\t}\n\n\tget_input_instruction_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\n\t};\n\n\tget_input_field_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'success' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-success';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-error';\n\t\t\t}\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-initial';\n\t\t\t}\n\t\t}\n\n\t\treturn ' mpwpadmin-input-initial';\n\n\t};\n\n\tget_input_instruction_message() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.state.unique_instruction_message ) {\n\t\t\treturn this.state.unique_instruction_message;\n\t\t}\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\treturn this.props.props.instruction_codes[current_instruction].instruction_message;\n\t\t}\n\t};\n\n\tremove_file( event ) {\n\t\tthis.setState( {\n\t\t\tvalidated: true,\n\t\t\tinput_value: '',\n\t\t\terror_code: null,\n\t\t\tfile_preview: false\n\t\t} );\n\n\t\tthis.save_value_to_server( '' );\n\t}\n\n\thandle_input_change( event ) {\n\n\t\tconst file_to_upload = this.fileInput.current.files[0];\n\n\t\t// If they hit \"cancel\" in the file upload dialog\n\t\tif ( ! file_to_upload ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Set the validation of this field\n\t\tif ( ! window[this.props.props.client_validation_callback_function]( file_to_upload ) ) {\n\t\t\tthis.setState( {\n\t\t\t\tvalidated: false,\n\t\t\t\tinput_value: file_to_upload,\n\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\terror_code: 'not_an_image',\n\t\t\t\tfile_preview: false\n\t\t\t} );\n\n\t\t\treturn false;\n\t\t} else {\n\t\t\tvar is_validated = true;\n\t\t}\n\n\t\t// If a file has been selected, try to create a preview of it\n\t\tif ( file_to_upload ) {\n\t\t\tvar file_preview = URL.createObjectURL( file_to_upload );\n\t\t} else {\n\t\t\tvar file_preview = '';\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tin_initial_state: false,\n\t\t\tinput_value: file_to_upload,\n\t\t\tsaved_status: 'typing',\n\t\t\tvalidated: is_validated,\n\t\t\tfile_preview: file_preview\n\t\t} );\n\n\t\t// Set up a delay which waits to save the file until the user is done typing (if they happen to be typing)\n\t\tif( this.input_delay ) {\n\t\t\t// Clear the keypress delay if the user just typed\n\t\t\tclearTimeout( this.input_delay );\n\t\t\tthis.input_delay = null;\n\t\t}\n\n\t\t// (Re)-Set up the save to fire in 500ms\n\t\tthis.input_delay = setTimeout( () => {\n\n\t\t\tclearTimeout( this.input_delay );\n\n\t\t\tthis.save_value_to_server( file_to_upload );\n\n\t\t}, 500);\n\n\t};\n\n\trender_field() {\n\n\t\tif ( ! this.state.props_loaded ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( this.props.props.replace_input_field_with ) {\n\t\t\treturn this.props.props.replace_input_field_with;\n\t\t} else {\n\n\t\t\tvar inputProps = {};\n\n\t\t\tif ( this.state.use_wp_media_dialog ) {\n\t\t\t\tvar wp_media_dialog_class = 'mpwpadmin-wp-media-dialog-input';\n\t\t\t} else {\n\t\t\t\tvar wp_media_dialog_class = '';\n\t\t\t}\n\n\t\t\tif ( this.props.class_name ) {\n\t\t\t\tinputProps['className'] = this.props.class_name + this.get_input_field_class() + ' ' + wp_media_dialog_class;\n\t\t\t} else {\n\t\t\t\tinputProps['className'] = this.get_input_field_class();\n\t\t\t}\n\n\t\t\tif ( this.props.props.name ) {\n\t\t\t\tinputProps['name'] = this.props.props.name;\n\t\t\t}\n\n\t\t\tinputProps['onChange'] = this.handle_input_change.bind( this );\n\n\t\t\tif ( this.state.use_wp_media_dialog ) {\n\t\t\t\tinputProps['type'] = 'text';\n\t\t\t\tinputProps['value'] = this.state.input_value;\n\t\t\t} else {\n\t\t\t\tinputProps['type'] = 'file';\n\t\t\t}\n\n\t\t\tinputProps['ref'] = this.fileInput;\n\n\t\t\tinputProps['title'] = \" \";\n\n\t\t\tif ( this.props.props.placeholder ) {\n\t\t\t\tinputProps['placeholder'] = this.props.props.placeholder;\n\t\t\t}\n\n\t\t\tif ( this.props.props.step ) {\n\t\t\t\tinputProps['step'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.min ) {\n\t\t\t\tinputProps['min'] = this.props.props.min;\n\t\t\t}\n\n\t\t\tif ( this.props.props.max ) {\n\t\t\t\tinputProps['max'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.disabled ) {\n\t\t\t\tinputProps['disabled'] = this.props.props.disabled;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{ (() => {\n\t\t\t\t\t\tif ( this.state.file_preview ) {\n\t\t\t\t\t\t\treturn ( <div className=\"mpwpadmin-file-preview-container\" style={ {\n\t\t\t\t\t\t\t\tbackgroundImage: 'url(' + this.state.file_preview + ')',\n\t\t\t\t\t\t\t} } ></div> );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t})()\n\t\t\t\t\t}\n\t\t\t\t\t<input { ...inputProps } />\n\t\t\t\t\t<div className={ 'mpwpadmin-input-instruction' + this.get_input_instruction_class() }>{ this.get_input_instruction_message() }</div>\n\t\t\t\t\t<span className={ 'mpwpadmin-input-top-right-area' }>\n\t\t\t\t\t\t{ this.render_help_button() }\n\t\t\t\t\t\t<span className={ 'mpwpadmin-input-saved-status ' + this.state.saved_status }>{ this.state.saved_status }</span>\n\t\t\t\t\t</span>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t}\n\n\trender_help_button() {\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t\t<span className={ 'mpwpadmin-input-help-link' } onClick={ this.toggle_help_lightbox.bind( this ) }>help!</span>\n\t\t\t\t<span className={ 'mpwpadmin-input-separator' }> | </span>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t}\n\n\twp_open_media_dialog() {\n\n\t\t// create and open new file frame\n\t\tvar mp_core_file_frame = wp.media({\n\t\t\t//Title of media manager frame\n\t\t\ttitle: 'Select an item',\n\t\t\tbutton: {\n\t\t\t\t//Button text\n\t\t\t\ttext: 'Use Item'\n\t\t\t},\n\t\t\t//Do not allow multithele files, if you want multithele, set true\n\t\t\tmultithele: false,\n\t\t});\n\n\t\tvar this_component = this;\n\n\t\t//callback for selected image\n\t\tmp_core_file_frame.on('select', function() {\n\n\t\t\tvar selection = mp_core_file_frame.state().get('selection');\n\n\t\t\tselection.map(function(attachment) {\n\n\t\t\t\tattachment = attachment.toJSON();\n\n\t\t\t\t//if this is an image, display the thumbnail above the upload button\n\t\t\t\tvar ext = attachment.url.split('.').pop();\n\n\t\t\t\t// Set the validation of this field\n\t\t\t\tif ( ! window[this_component.props.props.client_validation_callback_function]( attachment.url ) ) {\n\n\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\tvalidated: false,\n\t\t\t\t\t\tinput_value: attachment.url,\n\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\terror_code: 'invalid_image',\n\t\t\t\t\t\tfile_preview: false\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\tvalidated: true,\n\t\t\t\t\t\tinput_value: attachment.url,\n\t\t\t\t\t\terror_code: null,\n\t\t\t\t\t\tfile_preview: attachment.url\n\t\t\t\t\t}, () => {\n\n\n\t\t\t\t\t\tthis_component.save_value_to_server( attachment.url );\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t});\n\n\t\t// open file frame\n\t\tmp_core_file_frame.open();\n\t}\n\n\ttoggle_help_lightbox() {\n\n\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t[this.props.slug]: {}\n\t\t} );\n\n\t}\n\n\trender_file_upload_control_buttons() {\n\n\t\treturn (\n\t\t\t<div className=\"mpwpadmin-file-upload-control-button-container\">\n\t\t\t\t{ (() => {\n\t\t\t\t\tif ( this.state.use_wp_media_dialog ) {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<button className=\"mpwpadmin-file-upload-upload-button button\" onClick={ this.wp_open_media_dialog.bind( this ) } >{ this.props.props.upload_file_text }</button>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})() }\n\n\t\t\t\t{ (() => {\n\t\t\t\t\tif ( this.state.file_preview ) {\n\t\t\t\t\t\treturn ( <button className=\"mpwpadmin-file-upload-remove-button button\" onClick={ this.remove_file.bind( this ) }>{ this.props.props.remove_file_text }</button> );\n\t\t\t\t\t}\n\t\t\t\t})() }\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender(){\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\tvar help_lightbox_output = null;\n\t\t} else if ( this.props.props.help_text.react_component ) {\n\n\t\t\tvar DynamicReactComponent = eval( this.props.props.help_text.react_component );\n\t\t\tvar dynamic_react_component = <DynamicReactComponent\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tdata={ this.props.props.help_text.component_data }\n\t\t\t/>\n\n\t\t\tvar help_lightbox_output = <MP_WP_Admin_Lightbox\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tslug={ this.props.slug }\n\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\tmode={ dynamic_react_component ? 'custom_react_component' : 'default' }\n\t\t\t\tcustom_react_component={ dynamic_react_component }\n\t\t\t/>\n\n\t\t} else {\n\t\t\tvar help_lightbox_output = \t<MP_WP_Admin_Lightbox\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tslug={ this.props.slug }\n\t\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\t/>;\n\t\t}\n\n\t\treturn(\n\t\t\t<div className={ 'mpwpadmin-input-component-container mpwpadmin-file-upload-component-container' + (() => {\n\t\t\t\t\tif ( this.state.file_preview ) {\n\t\t\t\t\t\treturn ( ' mpwpadmin-has-file-preview' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t})()\n\t\t\t}>\n\n\t\t\t<div className={ 'mpwpadmin-input-label-container'}>\n\t\t\t<label>\n\t\t\t{ this.render_field() }\n\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t{ this.render_file_upload_control_buttons() }\n\n\t\t\t{ help_lightbox_output }\n\n\t</div>\n\t)\n\t}\n\n};\n","window.MP_WP_Admin_Input_Field = class MP_WP_Admin_Input_Field extends React.Component {\n\n\tconstructor( props ) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprops_loaded: false,\n\t\t\tinput_value: '',\n\t\t\tsaved_status: 'saved',\n\t\t\tin_initial_state: true,\n\t\t\tvalidated: window[this.props.props.client_validation_callback_function]( this.props.props.default_value ),\n\t\t\tlightbox_open: false,\n\t\t\terror_code: null\n\t\t};\n\n\t\tthis.input_delay = null;\n\n\t\tthis.get_input_field_class = this.get_input_field_class.bind( this );\n\t\tthis.get_input_instruction_class = this.get_input_instruction_class.bind( this );\n\t\tthis.get_input_instruction_message = this.get_input_instruction_message.bind( this );\n\t\tthis.set_state = this.set_state.bind( this );\n\t};\n\n\tcomponentDidMount() {\n\n\t\tif ( this.props.props.saved_value ) {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: this.props.props.saved_value\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: this.props.props.default_value\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tset_state( state_key, state_value ) {\n\n\t\tthis.setState( {\n\t\t\t[state_key]: state_value\n\t\t} );\n\t}\n\n\tsave_value_to_server( value ) {\n\n\t\tthis.setState( {\n\t\t\tsaved_status: 'saving',\n\t\t} );\n\n\t\t// We'll auto save the entered tithe note into the database's transaction field via ajax every time the person stops typing for 1 second.\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_relation_id', this.props.relation_id );\n\t\tpostData.append('mpwpadmin_setting_id', this.props.id);\n\t\tpostData.append('mpwpadmin_setting_value', value);\n\t\tpostData.append('mpwpadmin_validation_callback', this.props.props.server_validation_callback_function);\n\t\tpostData.append('mpwpadmin_nonce', this.props.props.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.props.server_api_endpoint_url, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\t// The value was successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'saved',\n\t\t\t\t\t\t\t\tvalidated: true,\n\t\t\t\t\t\t\t\terror_code: null,\n\t\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t\t\t// Pass the response up the chain to the parent component, where it will handle the data as it needs it.\n\t\t\t\t\t\t\tif ( this_component.props.update_context ) {\n\t\t\t\t\t\t\t\tthis_component.props.update_context( data );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log( data );\n\n\t\t\t\t\t\t\t// The value was note successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\t\t\tvalidated: false,\n\t\t\t\t\t\t\t\terror_code: data.error_code,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\t}\n\n\tget_current_instruction_key() {\n\n\t\t// If the field is empty and we are in an untouched, initial state\n\t\tif ( ! this.state.input_value && this.state.in_initial_state ) {\n\t\t\treturn 'empty_initial';\n\t\t}\n\n\t\tif ( ! this.state.input_value && ! this.state.in_initial_state ) {\n\t\t\treturn 'empty_not_initial';\n\t\t}\n\n\t\t// If the field is not empty, and its been validated\n\t\tif ( this.state.input_value && this.state.validated ) {\n\t\t\treturn 'success';\n\t\t}\n\n\t\t// If the field is not empty, but it isn't valid\n\t\tif ( this.state.input_value && ! this.state.validated ) {\n\t\t\treturn this.state.error_code;\n\t\t}\n\n\t\treturn 'error';\n\t}\n\n\tget_input_instruction_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\n\t};\n\n\tget_input_field_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'success' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-success';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-error';\n\t\t\t}\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-initial';\n\t\t\t}\n\t\t}\n\n\t\treturn ' mpwpadmin-input-initial';\n\n\t};\n\n\tget_input_instruction_message() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\treturn this.props.props.instruction_codes[current_instruction].instruction_message;\n\t\t}\n\t};\n\n\thandle_input_change( event ) {\n\n\t\t// Set the validation of this field\n\t\tif ( ! window[this.props.props.client_validation_callback_function]( event.target.value ) ) {\n\t\t\tvar is_validated = false;\n\t\t} else {\n\t\t\tvar is_validated = true;\n\t\t}\n\n\t\tvar old_input_value = this.state.input_value;\n\t\tvar new_input_value = event.target.value;\n\n\t\tif ( new_input_value ) {\n\t\t\tnew_input_value = new_input_value;\n\t\t} else {\n\t\t\tnew_input_value = this.props.props.default_value;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tin_initial_state: false,\n\t\t\tinput_value: event.target.value,\n\t\t\tsaved_status: 'typing',\n\t\t\tvalidated: is_validated\n\t\t} );\n\n\t\t// If nothing has changed since the state was last set\n\t\tif ( old_input_value == new_input_value ) {\n\n\t\t\t// Do nothing\n\t\t\treturn false;\n\n\t\t} else {\n\n\t\t\t// Set up a delay which waits to save the tithe until .5 seconds after they stop typing.\n\t\t\tif( this.input_delay ) {\n\t\t\t\t// Clear the keypress delay if the user just typed\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis.input_delay = null;\n\t\t\t}\n\n\t\t\tvar this_component = this;\n\n\t\t\t// (Re)-Set up the save to fire in 500ms\n\t\t\tthis.input_delay = setTimeout( function() {\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis_component.save_value_to_server( new_input_value );\n\t\t\t}, 500);\n\n\t\t}\n\n\t};\n\n\trender_field() {\n\n\t\tif ( ! this.state.props_loaded ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( this.props.props.replace_input_field_with ) {\n\t\t\treturn this.props.props.replace_input_field_with;\n\t\t} else {\n\n\t\t\tvar inputProps = {};\n\n\t\t\tif ( this.props.props.type ) {\n\t\t\t\tinputProps['type'] = this.props.props.type;\n\t\t\t}\n\n\t\t\tif ( this.props.class_name ) {\n\t\t\t\tinputProps['className'] = this.props.class_name + this.get_input_field_class();\n\t\t\t} else {\n\t\t\t\tinputProps['className'] = this.get_input_field_class();\n\t\t\t}\n\n\t\t\tif ( this.props.props.name ) {\n\t\t\t\tinputProps['name'] = this.props.props.name;\n\t\t\t}\n\n\t\t\tinputProps['onChange'] = this.handle_input_change.bind( this );\n\n\t\t\tinputProps['value'] = this.state.input_value;\n\n\t\t\tif ( this.props.props.placeholder ) {\n\t\t\t\tinputProps['placeholder'] = this.props.props.placeholder;\n\t\t\t}\n\n\t\t\tif ( this.props.props.step ) {\n\t\t\t\tinputProps['step'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.min ) {\n\t\t\t\tinputProps['min'] = this.props.props.min;\n\t\t\t}\n\n\t\t\tif ( this.props.props.max ) {\n\t\t\t\tinputProps['max'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.disabled ) {\n\t\t\t\tinputProps['disabled'] = this.props.props.disabled;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<input { ...inputProps } />\n\t\t\t\t\t<div className={ 'mpwpadmin-input-instruction' + this.get_input_instruction_class() }>{ this.get_input_instruction_message() }</div>\n\t\t\t\t\t<span className={ 'mpwpadmin-input-top-right-area' }>\n\t\t\t\t\t\t{ this.render_help_button() }\n\t\t\t\t\t\t<span className={ 'mpwpadmin-input-saved-status ' + this.state.saved_status }>{ this.state.saved_status }</span>\n\t\t\t\t\t</span>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t}\n\n\trender_help_button() {\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t\t<span className={ 'mpwpadmin-input-help-link' } onClick={ this.toggle_help_lightbox.bind( this ) }>help!</span>\n\t\t\t\t<span className={ 'mpwpadmin-input-separator' }> | </span>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t}\n\n\ttoggle_help_lightbox() {\n\n\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t[this.props.slug]: {}\n\t\t} );\n\n\t}\n\n\trender(){\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\tvar help_lightbox_output = null;\n\t\t} else if ( this.props.props.help_text.react_component ) {\n\n\t\t\tvar DynamicReactComponent = eval( this.props.props.help_text.react_component );\n\t\t\tvar dynamic_react_component = <DynamicReactComponent\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tdata={ this.props.props.help_text.component_data }\n\t\t\t/>\n\n\t\t\tvar help_lightbox_output = <MP_WP_Admin_Lightbox\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tslug={ this.props.slug }\n\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\tmode={ dynamic_react_component ? 'custom_react_component' : 'default' }\n\t\t\t\tcustom_react_component={ dynamic_react_component }\n\t\t\t/>\n\n\t\t} else {\n\t\t\tvar help_lightbox_output = \t<MP_WP_Admin_Lightbox\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tslug={ this.props.slug }\n\t\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\t/>;\n\t\t}\n\n\t\treturn(\n\t\t\t<div className={ 'mpwpadmin-input-component-container' }>\n\t\t\t<label>\n\t\t\t{ this.render_field() }\n\t\t\t</label>\n\n\t\t\t{ help_lightbox_output }\n\n\t\t\t</div>\n\t\t)\n\t}\n\n};\n","/*\n* Church Tithe WP Admin\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: April 18, 2018\n*/\n\nwindow.MP_WP_Admin_List_View = class MP_WP_Admin_List_View extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcurrent_view: 'list_view',\n\t\t\tmap_of_visual_states: null,\n\t\t\trows: null,\n\t\t\tcolumns: null,\n\t\t\tcurrent_page: 1,\n\t\t\ttotal_items: 1,\n\t\t\titems_per_page: 1,\n\t\t\tsearch_term: '',\n\t\t\tcurrent_single_item: null\n\t\t}\n\n\t\tthis.get_single_item_from_server = this.get_single_item_from_server.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.setState( {\n\t\t\tmap_of_visual_states: {\n\t\t\t\t[this.props.view_slug]: {\n\t\t\t\t\tvariable: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttotal_items: this.props.view_info.total_items,\n\t\t\titems_per_page: this.props.view_info.items_per_page,\n\t\t\trows: this.props.view_info.rows,\n\t\t\tcolumns: this.props.view_info.columns\n\t\t}, () => {\n\t\t\tthis.get_rows_from_server();\n\t\t} );\n\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\tmpwpadmin_set_visual_state_of_component( {\n\t\t\tcomponent: this,\n\t\t\tdefault_visual_states: {\n\t\t\t\tparent_in_view: 'list_view',\n\t\t\t\tparent_not_in_view: 'none'\n\t\t\t},\n\t\t\tname_of_visual_state_variable: 'current_view'\n\t\t} );\n\n\t\t// If the 3rd level in the URL exists, (this could likely be more robust) set the current item to that\n\t\tif (\n\t\t\tObject.keys(this.props.main_component.state.all_current_visual_states)[0] &&\n\t\t\tthis.props.main_component.state.all_current_visual_states[this.props.view_slug] &&\n\t\t\tObject.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug])[0]\n\t\t) {\n\t\t\tvar second_slug = Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug])[0];\n\t\t\tif( Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug][second_slug])[0] ) {\n\t\t\t\tvar third_slug = Object.keys(this.props.main_component.state.all_current_visual_states[this.props.view_slug][second_slug])[0];\n\n\t\t\t\t// If the current single item ID does not match the item ID in the URL\n\t\t\t\tif ( ! this.state.current_single_item || ( this.state.current_single_item && this.state.current_single_item.id && third_slug !== this.state.current_single_item.id.value ) ) {\n\t\t\t\t\tthis.get_single_item_from_server( third_slug );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tget_rows_from_server() {\n\n\t\tif ( ! this.state.items_per_page ) {\n\t\t\tvar items_per_page = 20;\n\t\t} else {\n\t\t\tvar items_per_page = this.state.items_per_page;\n\t\t}\n\n\t\t// Format the data that we'll send to the server\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_list_view_id', this.props.view_slug);\n\t\tpostData.append('mpwpadmin_list_view_search_term', this.state.search_term);\n\t\tpostData.append('mpwpadmin_list_view_page_id', this.state.current_page);\n\t\tpostData.append('mpwpadmin_items_per_page', items_per_page);\n\t\tpostData.append('mpwpadmin_list_view_items_per_page', this.state.items_per_page);\n\t\tpostData.append('mpwpadmin_nonce', this.props.view_info.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.view_info.server_api_endpoint_url, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tcolumns: data.columns,\n\t\t\t\t\t\t\t\trows: data.rows,\n\t\t\t\t\t\t\t\ttotal_items: data.total_items\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log( data );\n\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\trows: 'Unable to fetch rows...'\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\n\t}\n\n\thandle_page_number_change( event ) {\n\n\t\tthis.setState( {\n\t\t\tcurrent_page: event.target.value,\n\t\t\trows: null,\n\t\t\tcolumns: null,\n\t\t}, function() {\n\t\t\tthis.get_rows_from_server();\n\t\t} );\n\n\t}\n\n\tget_single_item_from_server( item_to_fetch ) {\n\n\t\t// Format the data that we'll send to the server\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_list_view_id', this.props.view_slug);\n\t\tpostData.append('mpwpadmin_list_view_item_id', item_to_fetch);\n\t\tpostData.append('mpwpadmin_nonce', this.props.view_info.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.view_info.server_api_endpoint_url_single_item, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success && data.current_single_item ) {\n\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tcurrent_single_item: data.current_single_item,\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tcurrent_single_item: 'none_found'\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\n\t}\n\n\thandle_items_per_page_change( event ) {\n\n\t\tthis.setState( {\n\t\t\tcurrent_page: 1,\n\t\t\titems_per_page: event.target.value,\n\t\t}, function() {\n\t\t\tthis.get_rows_from_server();\n\t\t} );\n\n\t}\n\n\thandle_search_change( event ) {\n\n\t\tthis.setState( {\n\t\t\tsearch_term: event.target.value,\n\t\t\tcurrent_page: 1,\n\t\t\trows: null,\n\t\t\tcolumns: null,\n\t\t}, function() {\n\t\t\tthis.get_rows_from_server();\n\t\t} );\n\n\t}\n\n\thandle_single_row_click( single_item, event ) {\n\n\t\tthis.props.main_component.set_all_current_visual_states( {\n\t\t\t[this.props.view_slug]: {\n\t\t\t\tsingle_data_view: {\n\t\t\t\t\t[single_item['id']['value']]: {} // Use the value in the first column as the URL slug\n\t\t\t\t}\n\t\t\t}\n\t\t} ).then( () => {\n\t\t\tthis.setState( {\n\t\t\t\tcurrent_single_item: single_item\n\t\t\t} );\n\t\t} );\n\n\t}\n\n\thandle_list_view_button_click(){\n\n\t\tthis.props.main_component.set_all_current_visual_states( {\n\t\t\t[this.props.view_slug]: {\n\t\t\t\tlist_view: {}\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tget_total_pages() {\n\t\treturn Math.ceil( this.state.total_items / this.state.items_per_page );\n\t}\n\n\trender_breadcrumbs() {\n\n\t\tvar breadcrumbs = this.props.the_breadcrumbs;\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in breadcrumbs) {\n\n\t\t\tif ( key == this.props.view_slug ) {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] }</span>  )\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] } > </span>  )\n\t\t\t}\n\n\t\t}\n\n\t\t// This lets us output the breadcrumbs one by one\n\t\treturn mapper.map((breadcrumb, index) => {\n\t\t\treturn breadcrumb;\n\t\t})\n\n\t}\n\n\trender_columns( columns ) {\n\n\t\tif ( ! columns ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar mapper = [];\n\n\t\t// Loop through each column\n\t\tfor (var key in columns) {\n\t\t\tmapper.push(\n\t\t\t\t<div key={ key } scope=\"col\" className=\"mpwpadmin-list-view-column\">\n\t\t\t\t\t<span>{ columns[key] }</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn mapper;\n\t}\n\n\trender_rows( rows, columns ) {\n\n\t\tvar mapper = [];\n\t\tvar td_mapper = [];\n\n\t\tif ( ! rows || 0 == this.state.total_items ) {\n\n\t\t\tvar first = true;\n\n\t\t\tfor (var key in columns) {\n\t\t\t\ttd_mapper.push(\n\n\t\t\t\t\t// Render the contents of this table cell\n\t\t\t\t\t(() => {\n\n\t\t\t\t\t\t// If we should show this peice of data in the list view\n\t\t\t\t\t\tif ( first ) {\n\n\t\t\t\t\t\t\tfirst = false;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={ key } className=\"mpwpadmin-list-view-cell\">\n\t\t\t\t\t\t\t\t\t{ 'None Found' }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfirst = false;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={ key } className=\"mpwpadmin-list-view-cell\">\n\t\t\t\t\t\t\t\t\t{ '' }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})()\n\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Add all of that combined data to the main mapper array\n\t\t\tmapper.push(\n\t\t\t\t<div key={ 'none_found' } className=\"mpwpadmin-list-view-row\">\n\t\t\t\t{ td_mapper }\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\treturn mapper;\n\t\t}\n\n\t\t// Loop through each row\n\t\tfor (var row in rows) {\n\n\t\t\t// Combine all of the table data (cells in this row)\n\t\t\tfor (var key in columns) {\n\t\t\t\ttd_mapper.push(\n\n\t\t\t\t\t// Render the contents of this table cell\n\t\t\t\t\t(() => {\n\n\t\t\t\t\t\t// If we should show this peice of data in the list view\n\t\t\t\t\t\tif ( rows[row][key]['show_in_list_view'] ) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={ key } className=\"mpwpadmin-list-view-cell\">\n\t\t\t\t\t\t\t\t\t<button onClick={ this.handle_single_row_click.bind( this, rows[row] ) }>\n\t\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\t\tif ( rows[row][key]['value_format_function'] ) {\n\t\t\t\t\t\t\t\t\t\t\treturn eval( rows[row][key]['value_format_function'] )( rows[row][key] )\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\treturn rows[row][key]['value']\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})()\n\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Add all of that combined data to the main mapper array\n\t\t\tmapper.push(\n\t\t\t\t<div key={ row } className=\"mpwpadmin-list-view-table-row\">\n\t\t\t\t\t{ td_mapper }\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\t// Get the row data array ready for a new row\n\t\t\ttd_mapper = [];\n\t\t}\n\n\t\treturn mapper;\n\n\t}\n\n\trender_search() {\n\n\t\treturn (\n\t\t\t<div className=\"mpwpwadmin-list-view-search\">\n\t\t\t<span>{ this.props.view_info.strings.uppercase_search }</span>\n\t\t\t<input type=\"text\" value={ this.state.search_term } onChange={ this.handle_search_change.bind( this ) } />\n\t\t\t</div>\n\t\t)\n\n\t}\n\n\trender_pagination() {\n\n\t\treturn (\n\t\t\t<div className=\"mpwpwadmin-list-view-pagination-controls\">\n\t\t\t\t<div className=\"mpwpwadmin-list-view-items-per-page\">\n\t\t\t\t\t<span>{ this.props.view_info.strings.uppercase_items  + ' ' + this.props.view_info.strings.lowercase_per + ' ' + this.props.view_info.strings.lowercase_page }</span>\n\t\t\t\t\t<input type=\"number\" min={ 1 } onChange={ this.handle_items_per_page_change.bind( this ) } value={ this.state.items_per_page } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mpwpwadmin-list-view-pagination\">\n\t\t\t\t\t<span>{ this.props.view_info.strings.uppercase_page }</span>\n\t\t\t\t\t<input type=\"number\" min={ 1 } max={ this.get_total_pages() } onChange={ this.handle_page_number_change.bind( this ) } value={ this.state.current_page } />\n\t\t\t\t\t<span>{ ' ' + this.props.view_info.strings.lowercase_of + ' ' + this.get_total_pages() }</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\n\t}\n\n\trender_list_table() {\n\n\t\tif ( this.state.columns && this.state.rows ) {\n\t\t\treturn (\n\t\t\t\t<div className={ 'mpwpadmin-list-view-table' }>\n\t\t\t\t\t<div className={ 'mpwpadmin-list-view-table-header' }>\n\t\t\t\t\t\t<div className={ 'mpwpadmin-list-view-table-row' }>\n\t\t\t\t\t\t\t{ this.render_columns( this.state.columns ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={ 'mpwpadmin-list-view-table-body' }>\n\t\t\t\t\t\t{ this.render_rows( this.state.rows, this.state.columns ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn <MP_WP_Admin_Spinner />\n\t\t}\n\n\t}\n\n\trender_single_data_view() {\n\n\t\tif ( 'single_data_view' !== this.state.current_view ) {\n\t\t\treturn ( '' );\n\t\t}\n\n\t\tvar single_item = this.state.current_single_item;\n\n\t\tif ( 'none_found' === single_item || false === single_item ) {\n\t\t\treturn 'No item found';\n\t\t}\n\n\t\tif ( null === single_item ) {\n\t\t\treturn <MP_WP_Admin_Spinner />;\n\t\t}\n\n\t\t// If we've defined a custom React Component to use for the single view, use it.\n\t\tif ( this.props.view_info.react_component_single_item_view ) {\n\n\t\t\tvar DynamicReactComponent = eval( this.props.view_info.react_component_single_item_view );\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\thidden = { (() => { return ( 'single_data_view' != this.state.current_view ? true : false ); })() }\n\t\t\t\t\tclassName=\"mpwpadmin-single-data-view\"\n\t\t\t\t>\n\t\t\t\t\t<DynamicReactComponent\n\t\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\t\tcurrent_single_item={ this.state.current_single_item }\n\t\t\t\t\t\tview_info={ this.props.view_info }\n\t\t\t\t\t\tget_single_item_from_server= { this.get_single_item_from_server }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t// Otherwise, fall-back to a default single view\n\t\treturn (\n\t\t\t<div\n\t\t\t\thidden = { (() => { return ( 'single_data_view' != this.state.current_view ? true : false ); })() }\n\t\t\t\tclassName=\"mpwpadmin-single-data-view\"\n\t\t\t>\n\t\t\t\t<div className={ 'mpwpwadmin-list-view-single-data-item-controls' }>\n\t\t\t\t\t<button onClick={ this.handle_list_view_button_click.bind( this ) }>{ this.props.view_info.strings.back_to_list_view }</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mpwpadmin-single-data\">\n\t\t\t\t\t{ (() => {\n\n\t\t\t\t\t\tvar mapper = [];\n\t\t\t\t\t\tvar single_item = this.state.current_single_item;\n\n\t\t\t\t\t\t// Loop through all of the items to show about this item\n\t\t\t\t\t\tfor (var key in single_item) {\n\t\t\t\t\t\t\tmapper.push( <div className={ 'mpwpadmin-list-view-single-data-item' } key={ key }>{\n\n\t\t\t\t\t\t\t\t// Render the output for this data value about the current single item (which was selected from the list)\n\t\t\t\t\t\t\t\t(() => {\n\n\t\t\t\t\t\t\t\t\t// If we should show this peice of data in the list view\n\t\t\t\t\t\t\t\t\tif ( single_item[key]['show_in_single_data_view'] ) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={ 'mpwpadmin-list-view-single-data-item-title' }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ single_item[key]['title'] }\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={ 'mpwpadmin-list-view-single-data-item-value' }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ single_item[key]['value'] }\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn ( '' );\n\n\t\t\t\t\t\t\t\t})()\n\n\t\t\t\t\t\t\t}</div> );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn mapper;\n\t\t\t\t\t})()\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t\t)\n\n\t}\n\n\trender_list_view() {\n\n\t\treturn(\n\t\t\t<div\n\t\t\thidden = { (() => { return ( 'list_view' != this.state.current_view ? true : false ); })() }\n\t\t\tclassName=\"mpwpadmin-list-view\"\n\t\t\t>\n\t\t\t\t<div className=\"mpwpadmin-list-view-controls\">\n\n\t\t\t\t\t{ this.render_search() }\n\n\t\t\t\t\t{ this.render_pagination() }\n\n\t\t\t\t</div>\n\n\t\t\t\t{ this.render_list_table() }\n\n\t\t\t\t<div className=\"mpwpadmin-list-view-controls\">\n\n\t\t\t\t\t{ this.render_search() }\n\n\t\t\t\t\t{ this.render_pagination() }\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t)\n\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className={ 'mpwpadmin-list-view' + this.props.current_view_class }>\n\n\t\t\t<div className=\"mpwpadmin-breadcrumb\">\n\t\t\t<h2>{ this.render_breadcrumbs() }</h2>\n\t\t\t</div>\n\n\t\t\t<div className=\"mpwpadmin-list-view-content-area\">\n\n\t\t\t{ this.render_single_data_view() }\n\n\t\t\t{ this.render_list_view() }\n\n\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","window.MP_WP_Admin_Select_Field = class MP_WP_Admin_Select_Field extends React.Component {\n\n\tconstructor( props ) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprops_loaded: false,\n\t\t\tinput_value: '',\n\t\t\tsaved_status: 'saved',\n\t\t\tin_initial_state: true,\n\t\t\tvalidated: window[this.props.props.client_validation_callback_function]( this.props.props.default_value ),\n\t\t\tlightbox_open: false,\n\t\t\tmatching_values: this.props.props.initially_available_values,\n\t\t\terror_code: null,\n\t\t\toptions_hidden: true,\n\t\t};\n\n\t\tthis.input_delay = null;\n\n\t\tthis.get_input_field_class = this.get_input_field_class.bind( this );\n\t\tthis.get_input_instruction_class = this.get_input_instruction_class.bind( this );\n\t\tthis.get_input_instruction_message = this.get_input_instruction_message.bind( this );\n\t\tthis.set_state = this.set_state.bind( this );\n\t\tthis.find_matching_available_values = this.find_matching_available_values.bind( this );\n\t};\n\n\tcomponentDidMount() {\n\n\t\tif ( this.props.props.saved_value ) {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: this.props.props.saved_value,\n\t\t\t\tavailable_values: this.props.props.initially_available_values\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: this.props.props.default_value,\n\t\t\t\tavailable_values: this.props.props.initially_available_values\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tset_state( state_key, state_value ) {\n\n\t\tthis.setState( {\n\t\t\t[state_key]: state_value\n\t\t} );\n\t}\n\n\tsave_value_to_server( value ) {\n\n\t\tthis.setState( {\n\t\t\tsaved_status: 'saving',\n\t\t} );\n\n\t\t// We'll auto save the entered tithe note into the database's transaction field via ajax every time the person stops typing for 1 second.\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_relation_id', this.props.relation_id );\n\t\tpostData.append('mpwpadmin_setting_id', this.props.id);\n\t\tpostData.append('mpwpadmin_setting_value', value);\n\t\tpostData.append('mpwpadmin_validation_callback', this.props.props.server_validation_callback_function);\n\t\tpostData.append('mpwpadmin_nonce', this.props.props.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.props.server_api_endpoint_url, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\t// The value was successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'saved',\n\t\t\t\t\t\t\t\toptions_hidden: true,\n\t\t\t\t\t\t\t\tvalidated: true,\n\t\t\t\t\t\t\t\terror_code: null\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// The value was note successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\t\t\tvalidated: false,\n\t\t\t\t\t\t\t\terror_code: data.error_code\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\t}\n\n\tfind_matching_available_values( search_term ) {\n\n\t\tthis.setState( {\n\t\t\tfetching_status: 'fetching',\n\t\t} );\n\n\t\t// We'll auto save the entered tithe note into the database's transaction field via ajax every time the person stops typing for 1 second.\n\t\tvar postData = JSON.stringify({\n\t\t\taction: this.props.props.fetch_options_function,\n\t\t\tmpwpadmin_search_term: search_term,\n\t\t\tmpwpadmin_fetch_options_nonce: this.props.props.nonce\n\t\t});\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.ajaxurl + '?' + this.props.props.fetch_options_function, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\t// The value was successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tmatching_values: data.matching_values,\n\t\t\t\t\t\t\t\tfetching_status: 'success',\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// The value was note successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tmatching_values: null,\n\t\t\t\t\t\t\t\tfetching_status: 'unfetched',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\n\t}\n\n\tget_current_instruction_key() {\n\n\t\t// If the field is empty and we are in an untouched, initial state\n\t\tif ( ! this.state.input_value && this.state.in_initial_state ) {\n\t\t\treturn 'empty_initial';\n\t\t}\n\n\t\tif ( ! this.state.input_value && ! this.state.in_initial_state ) {\n\t\t\treturn 'empty_not_initial';\n\t\t}\n\n\t\t// If the field is not empty, and its been validated\n\t\tif ( this.state.input_value && this.state.validated ) {\n\t\t\treturn 'success';\n\t\t}\n\n\t\t// If the field is not empty, but it isn't valid\n\t\tif ( this.state.input_value && ! this.state.validated ) {\n\t\t\treturn this.state.error_code;\n\t\t}\n\n\t\treturn 'error';\n\t}\n\n\tget_input_instruction_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\n\t};\n\n\tget_input_field_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'success' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-success';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-error';\n\t\t\t}\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-initial';\n\t\t\t}\n\t\t}\n\n\t\treturn ' mpwpadmin-input-initial';\n\n\t};\n\n\tget_input_instruction_message() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\treturn this.props.props.instruction_codes[current_instruction].instruction_message;\n\t\t}\n\t};\n\n\ttoggle_options( event ) {\n\n\t\tif ( this.state.options_hidden ) {\n\n\t\t\tthis.setState( {\n\t\t\t\toptions_hidden: false\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\tthis.setState( {\n\t\t\t\toptions_hidden: true\n\t\t\t} );\n\n\t\t}\n\t}\n\n\thandle_input_change( value = null, event = null ) {\n\n\t\tvar old_input_value = this.state.input_value;\n\n\t\tif ( value ) {\n\t\t\tvar new_input_value = value;\n\t\t} else {\n\t\t\tvar new_input_value = event.target.value;\n\t\t}\n\n\t\t// Set the validation of this field\n\t\tif ( ! window[this.props.props.client_validation_callback_function]( new_input_value ) ) {\n\t\t\tvar is_validated = false;\n\t\t} else {\n\t\t\tvar is_validated = true;\n\t\t}\n\n\t\t// If the customer is typing, as opposed to clicking on a value\n\t\tif ( ! value ) {\n\t\t\tthis.find_matching_available_values( new_input_value );\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tin_initial_state: false,\n\t\t\tinput_value: new_input_value,\n\t\t\tsaved_status: 'typing',\n\t\t\tvalidated: is_validated\n\t\t} );\n\n\t\t// If nothing has changed since the state was last set\n\t\tif ( old_input_value == new_input_value ) {\n\n\t\t\t// Do nothing\n\t\t\treturn false;\n\n\t\t} else {\n\n\t\t\t// Set up a delay which waits to save the value until .5 seconds after they stop typing.\n\t\t\tif( this.input_delay ) {\n\t\t\t\t// Clear the keypress delay if the user just typed\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis.input_delay = null;\n\t\t\t}\n\n\t\t\tvar this_component = this;\n\n\t\t\t// (Re)-Set up the save to fire in 500ms\n\t\t\tthis.input_delay = setTimeout( function() {\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis_component.save_value_to_server( new_input_value );\n\t\t\t}, 500);\n\n\t\t}\n\n\t};\n\n\thandle_keypress( event ) {\n\n\t\tthis.setState( {\n\t\t\toptions_hidden: false\n\t\t} );\n\n\t}\n\n\thandle_option_click( option_key, event ) {\n\n\t\tthis.setState( {\n\t\t\toptions_hidden: true\n\t\t}, function() {\n\t\t\tthis.handle_input_change( option_key );\n\t\t} );\n\t}\n\n\trender_options() {\n\n\t\tvar options = this.state.matching_values;\n\n\t\tif ( ! options ) {\n\t\t\treturn (\n\t\t\t\t<p>{ this.props.props.no_matching_values_text }</p>\n\t\t\t)\n\t\t}\n\n\t\treturn(\n\t\t\t<div className={ 'mpwpadmin-select-field-options'}>\n\t\t\t<button className=\"button\" onClick={ this.toggle_options.bind( this ) }>Show options</button>\n\t\t\t<ul hidden={ this.state.options_hidden }>\n\t\t\t{ this.render_each_option( options ) }\n\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender_each_option( options ) {\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in options ) {\n\t\t\tmapper.push( <li key={ key } value={ key }>\n\t\t\t\t<button onClick={ this.handle_option_click.bind( this, key ) }>\n\t\t\t\t{ key }\n\t\t\t\t</button>\n\t\t\t\t</li>  )\n\t\t\t}\n\n\t\t\t// This lets us output the options one by one\n\t\t\treturn mapper.map(( option, index) => {\n\t\t\t\treturn option;\n\t\t\t})\n\t\t}\n\n\t\trender_field() {\n\n\t\t\tif ( ! this.state.props_loaded ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif ( this.props.props.replace_input_field_with ) {\n\t\t\t\treturn this.props.props.replace_input_field_with;\n\t\t\t} else {\n\n\t\t\t\tvar inputProps = {};\n\n\t\t\t\tif ( this.props.props.type ) {\n\t\t\t\t\tinputProps['type'] = this.props.props.type;\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.class_name ) {\n\t\t\t\t\tinputProps['className'] = this.props.class_name + this.get_input_field_class();\n\t\t\t\t} else {\n\t\t\t\t\tinputProps['className'] = this.get_input_field_class();\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.props.name ) {\n\t\t\t\t\tinputProps['name'] = this.props.props.name;\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.props.placeholder ) {\n\t\t\t\t\tinputProps['placeholder'] = this.props.props.placeholder;\n\t\t\t\t}\n\n\t\t\t\tinputProps['onChange'] = this.handle_input_change.bind( this, null );\n\n\t\t\t\tinputProps['onKeyPress'] = this.handle_keypress.bind( this );\n\n\t\t\t\tinputProps['value'] = this.state.input_value;\n\n\t\t\t\tif ( this.props.props.step ) {\n\t\t\t\t\tinputProps['step'] = this.props.props.step;\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.props.min ) {\n\t\t\t\t\tinputProps['min'] = this.props.props.min;\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.props.max ) {\n\t\t\t\t\tinputProps['max'] = this.props.props.step;\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.props.disabled ) {\n\t\t\t\t\tinputProps['disabled'] = this.props.props.disabled;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t<input type=\"text\" { ...inputProps } />\n\t\t\t\t\t{ this.render_options() }\n\t\t\t\t\t<div className={ 'mpwpadmin-input-instruction' + this.get_input_instruction_class() }>{ this.get_input_instruction_message() }</div>\n\t\t\t\t\t<span className={ 'mpwpadmin-input-top-right-area' }>\n\t\t\t\t\t\t{ this.render_help_button() }\n\t\t\t\t\t\t<span className={ 'mpwpadmin-input-saved-status ' + this.state.saved_status }>{ this.state.saved_status }</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\trender_help_button() {\n\n\t\t\tif ( ! this.props.props.help_text ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn(\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<span className={ 'mpwpadmin-input-help-link' } onClick={ this.toggle_help_lightbox.bind( this ) }>help!</span>\n\t\t\t\t\t<span className={ 'mpwpadmin-input-separator' }> | </span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t}\n\n\t\ttoggle_help_lightbox() {\n\n\t\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t\t[this.props.slug]: {}\n\t\t\t} );\n\n\t\t}\n\n\t\trender(){\n\n\t\t\tif ( ! this.props.props.help_text ) {\n\t\t\t\tvar help_lightbox_output = null;\n\t\t\t} else if ( this.props.props.help_text.react_component ) {\n\n\t\t\t\tvar DynamicReactComponent = eval( this.props.props.help_text.react_component );\n\t\t\t\tvar dynamic_react_component = <DynamicReactComponent\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tdata={ this.props.props.help_text.component_data }\n\t\t\t\t/>\n\n\t\t\t\tvar help_lightbox_output = <MP_WP_Admin_Lightbox\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tslug={ this.props.slug }\n\t\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\t\tmode={ dynamic_react_component ? 'custom_react_component' : 'default' }\n\t\t\t\t\tcustom_react_component={ dynamic_react_component }\n\t\t\t\t/>\n\n\t\t\t} else {\n\t\t\t\tvar help_lightbox_output = \t<MP_WP_Admin_Lightbox\n\t\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\t\tslug={ this.props.slug }\n\t\t\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\t\t/>;\n\t\t\t}\n\n\t\t\treturn(\n\t\t\t\t<div className={ 'mpwpadmin-input-component-container mpwpadmin-select-container' }>\n\n\t\t\t\t<label>\n\t\t\t\t{ this.render_field() }\n\t\t\t\t</label>\n\n\t\t\t\t{ help_lightbox_output }\n\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t};\n","/*\n* Church Tithe WP Admin\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: April 18, 2018\n*/\n\n// This component outputs the settings view and its contents\nwindow.MP_WP_Admin_Settings_View = class MP_WP_Admin_Settings_View extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\t}\n\n\trender_settings( settings, doing_sub_setting = false ) {\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in settings) {\n\n\t\t\t// If this area has its own sub settings\n\t\t\tif ( settings[key]['settings'] ) {\n\n\t\t\t\t// Call this function again to output all sub settings, inception style\n\t\t\t\tmapper.push(\n\t\t\t\t\t<div key={ key } className={ 'mpwpadmin-setting-container ' + 'mpwpadmin-setting-' + key + '-container' }>\n\t\t\t\t\t\t<h2>{ settings[key]['visual_name'] }</h2>\n\t\t\t\t\t\t{ this.render_settings( settings[key]['settings'], true ) }\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\tvar DynamicReactComponent = eval( settings[key]['react_component'] );\n\n\t\t\t\tmapper.push(\n\t\t\t\t\t<div key={ key } className={ 'mpwpadmin-setting-container ' + 'mpwpadmin-setting-' + key + '-container' }>\n\t\t\t\t\t\t<DynamicReactComponent\n\t\t\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\t\t\tid={ key }\n\t\t\t\t\t\t\tslug={ key }\n\t\t\t\t\t\t\tprops={ settings[key] }\n\t\t\t\t\t\t\tclass_name={ 'mpwpadmin-setting mpwpadmin-setting-' + key }\n\t\t\t\t\t\t\tcontext_id={ null }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\n\t\t}\n\n\t\t// If we are doing a sub-setting, return the mapper here so it gets rejoined with the parent mapper. We're doing some method inception here.\n\t\tif ( doing_sub_setting ) {\n\n\t\t\treturn mapper;\n\n\t\t} else {\n\n\t\t\t// This lets us output the settings one by one\n\t\t\treturn mapper.map((view, index) => {\n\t\t\t\treturn view;\n\t\t\t})\n\t\t}\n\n\t}\n\n\trender_breadcrumbs() {\n\n\t\tvar breadcrumbs = this.props.the_breadcrumbs;\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in breadcrumbs) {\n\n\t\t\tif ( key == this.props.view_slug ) {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] }</span>  )\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tmapper.push( <span key={ key }>{ breadcrumbs[key] } > </span>  )\n\t\t\t}\n\n\t\t}\n\n\t\t// This lets us output the breadcrumbs one by one\n\t\treturn mapper.map((breadcrumb, index) => {\n\t\t\treturn breadcrumb;\n\t\t})\n\n\t}\n\n\trender() {\n\n\t\t// If we should be refreshing the sections, unmount and remount everything.\n\t\tif ( this.props.main_component.state.refresh_sections ) {\n\t\t\treturn ( '' );\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className={ 'mpwpadmin-settings-view' + this.props.current_view_class }>\n\t\t\t\t\t<div className=\"mpwpadmin-breadcrumb\">\n\t\t\t\t\t\t<h2>{ this.render_breadcrumbs() }</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ this.render_settings( this.props.view_info.settings ) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n}\n","window.MP_WP_Admin_TextArea_Field = class MP_WP_Admin_TextArea_Field extends React.Component {\n\n\tconstructor( props ) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprops_loaded: false,\n\t\t\tinput_value: '',\n\t\t\tsaved_status: 'saved',\n\t\t\tin_initial_state: true,\n\t\t\tvalidated: window[this.props.props.client_validation_callback_function]( this.props.props.default_value ),\n\t\t\tlightbox_open: false,\n\t\t\terror_code: null\n\t\t};\n\n\t\tthis.input_delay = null;\n\n\t\tthis.get_input_field_class = this.get_input_field_class.bind( this );\n\t\tthis.get_input_instruction_class = this.get_input_instruction_class.bind( this );\n\t\tthis.get_input_instruction_message = this.get_input_instruction_message.bind( this );\n\t\tthis.set_state = this.set_state.bind( this );\n\t};\n\n\tcomponentDidMount() {\n\n\t\tif ( this.props.props.saved_value ) {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: this.props.props.saved_value\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tprops_loaded: true,\n\t\t\t\tinput_value: this.props.props.default_value\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tset_state( state_key, state_value ) {\n\n\t\tthis.setState( {\n\t\t\t[state_key]: state_value\n\t\t} );\n\t}\n\n\tsave_value_to_server( value ) {\n\n\t\tthis.setState( {\n\t\t\tsaved_status: 'saving',\n\t\t} );\n\n\t\t// We'll auto save the entered tithe note into the database's transaction field via ajax every time the person stops typing for 1 second.\n\t\tvar postData = new FormData();\n\t\tpostData.append('mpwpadmin_relation_id', this.props.relation_id );\n\t\tpostData.append('mpwpadmin_setting_id', this.props.id);\n\t\tpostData.append('mpwpadmin_setting_value', value);\n\t\tpostData.append('mpwpadmin_validation_callback', this.props.props.server_validation_callback_function);\n\t\tpostData.append('mpwpadmin_nonce', this.props.props.nonce);\n\n\t\tvar this_component = this;\n\n\t\tfetch( this.props.props.server_api_endpoint_url, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {},\n\t\t\tbody: postData\n\t\t} ).then(\n\t\t\tfunction( response ) {\n\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\tresponse.status);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Examine the text in the response\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\n\t\t\t\t\t\t\t// The value was successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'saved',\n\t\t\t\t\t\t\t\tvalidated: true,\n\t\t\t\t\t\t\t\terror_code: null,\n\t\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t\t\t// Pass the response up the chain to the parent component, where it will handle the data as it needs it.\n\t\t\t\t\t\t\tif ( this_component.props.update_context ) {\n\t\t\t\t\t\t\t\tthis_component.props.update_context( data ).then( function( result ) {\n\t\t\t\t\t\t\t\t\tconsole.log( result );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log( data );\n\n\t\t\t\t\t\t\t// The value was note successfully saved.\n\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\tsaved_status: 'unsaved',\n\t\t\t\t\t\t\t\tvalidated: false,\n\t\t\t\t\t\t\t\terror_code: data.error_code,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t).catch(\n\t\t\tfunction( err ) {\n\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t}\n\t\t);\n\t}\n\n\tget_current_instruction_key() {\n\n\t\t// If the field is empty and we are in an untouched, initial state\n\t\tif ( ! this.state.input_value && this.state.in_initial_state ) {\n\t\t\treturn 'empty_initial';\n\t\t}\n\n\t\tif ( ! this.state.input_value && ! this.state.in_initial_state ) {\n\t\t\treturn 'empty_not_initial';\n\t\t}\n\n\t\t// If the field is not empty, and its been validated\n\t\tif ( this.state.input_value && this.state.validated ) {\n\t\t\treturn 'success';\n\t\t}\n\n\t\t// If the field is not empty, but it isn't valid\n\t\tif ( this.state.input_value && ! this.state.validated ) {\n\t\t\treturn this.state.error_code;\n\t\t}\n\n\t\treturn 'error';\n\t}\n\n\tget_input_instruction_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-instruction-error';\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\n\t};\n\n\tget_input_field_class() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\tif ( 'success' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-success';\n\t\t\t}\n\t\t\tif ( 'error' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-error';\n\t\t\t}\n\t\t\tif ( 'initial' == this.props.props.instruction_codes[current_instruction].instruction_type ) {\n\t\t\t\treturn ' mpwpadmin-input-initial';\n\t\t\t}\n\t\t}\n\n\t\treturn ' mpwpadmin-input-initial';\n\n\t};\n\n\tget_input_instruction_message() {\n\n\t\t// Get the current instruction for this field\n\t\tvar current_instruction = this.get_current_instruction_key();\n\n\t\tif ( this.props.props.instruction_codes[current_instruction] ) {\n\t\t\treturn this.props.props.instruction_codes[current_instruction].instruction_message;\n\t\t}\n\t};\n\n\thandle_input_change( event ) {\n\n\t\t// Set the validation of this field\n\t\tif ( ! window[this.props.props.client_validation_callback_function]( event.target.value ) ) {\n\t\t\tvar is_validated = false;\n\t\t} else {\n\t\t\tvar is_validated = true;\n\t\t}\n\n\t\tvar old_input_value = this.state.input_value;\n\t\tvar new_input_value = event.target.value;\n\n\t\tif ( new_input_value ) {\n\t\t\tnew_input_value = new_input_value;\n\t\t} else {\n\t\t\tnew_input_value = this.props.props.default_value;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tin_initial_state: false,\n\t\t\tinput_value: event.target.value,\n\t\t\tsaved_status: 'typing',\n\t\t\tvalidated: is_validated\n\t\t} );\n\n\t\t// If nothing has changed since the state was last set\n\t\tif ( old_input_value == new_input_value ) {\n\n\t\t\t// Do nothing\n\t\t\treturn false;\n\n\t\t} else {\n\n\t\t\t// Set up a delay which waits to save the tithe until .5 seconds after they stop typing.\n\t\t\tif( this.input_delay ) {\n\t\t\t\t// Clear the keypress delay if the user just typed\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis.input_delay = null;\n\t\t\t}\n\n\t\t\tvar this_component = this;\n\n\t\t\t// (Re)-Set up the save to fire in 500ms\n\t\t\tthis.input_delay = setTimeout( function() {\n\t\t\t\tclearTimeout( this.input_delay );\n\t\t\t\tthis_component.save_value_to_server( new_input_value );\n\t\t\t}, 500);\n\n\t\t}\n\n\t};\n\n\trender_field() {\n\n\t\tif ( ! this.state.props_loaded ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( this.props.props.replace_input_field_with ) {\n\t\t\treturn this.props.props.replace_input_field_with;\n\t\t} else {\n\n\t\t\tvar inputProps = {};\n\n\t\t\tif ( this.props.props.type ) {\n\t\t\t\tinputProps['type'] = this.props.props.type;\n\t\t\t}\n\n\t\t\tif ( this.props.class_name ) {\n\t\t\t\tinputProps['className'] = this.props.class_name + this.get_input_field_class();\n\t\t\t} else {\n\t\t\t\tinputProps['className'] = this.get_input_field_class();\n\t\t\t}\n\n\t\t\tif ( this.props.props.name ) {\n\t\t\t\tinputProps['name'] = this.props.props.name;\n\t\t\t}\n\n\t\t\tinputProps['onChange'] = this.handle_input_change.bind( this );\n\n\t\t\tinputProps['value'] = this.state.input_value;\n\n\t\t\tif ( this.props.props.placeholder ) {\n\t\t\t\tinputProps['placeholder'] = this.props.props.placeholder;\n\t\t\t}\n\n\t\t\tif ( this.props.props.step ) {\n\t\t\t\tinputProps['step'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.min ) {\n\t\t\t\tinputProps['min'] = this.props.props.min;\n\t\t\t}\n\n\t\t\tif ( this.props.props.max ) {\n\t\t\t\tinputProps['max'] = this.props.props.step;\n\t\t\t}\n\n\t\t\tif ( this.props.props.disabled ) {\n\t\t\t\tinputProps['disabled'] = this.props.props.disabled;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t<textarea { ...inputProps }></textarea>\n\t\t\t\t<div className={ 'mpwpadmin-input-instruction' + this.get_input_instruction_class() }>{ this.get_input_instruction_message() }</div>\n\t\t\t\t<span className={ 'mpwpadmin-input-top-right-area' }>\n\t\t\t\t\t{ this.render_help_button() }\n\t\t\t\t\t<span className={ 'mpwpadmin-input-saved-status ' + this.state.saved_status }>{ this.state.saved_status }</span>\n\t\t\t\t</span>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t}\n\n\trender_help_button() {\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t\t<span className={ 'mpwpadmin-input-help-link' } onClick={ this.toggle_help_lightbox.bind( this ) }>help!</span>\n\t\t\t\t<span className={ 'mpwpadmin-input-separator' }> | </span>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t}\n\n\ttoggle_help_lightbox() {\n\n\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t[this.props.slug]: {}\n\t\t} );\n\n\t}\n\n\trender(){\n\n\t\tif ( ! this.props.props.help_text ) {\n\t\t\tvar help_lightbox_output = null;\n\t\t} else if ( this.props.props.help_text.react_component ) {\n\n\t\t\tvar DynamicReactComponent = eval( this.props.props.help_text.react_component );\n\t\t\tvar dynamic_react_component = <DynamicReactComponent\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tdata={ this.props.props.help_text.component_data }\n\t\t\t/>\n\n\t\t\tvar help_lightbox_output = <MP_WP_Admin_Lightbox\n\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\tslug={ this.props.slug }\n\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\tmode={ dynamic_react_component ? 'custom_react_component' : 'default' }\n\t\t\t\tcustom_react_component={ dynamic_react_component }\n\t\t\t/>\n\n\t\t} else {\n\t\t\tvar help_lightbox_output = \t<MP_WP_Admin_Lightbox\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tslug={ this.props.slug }\n\t\t\t\t\ttitle={ this.props.props.help_text.title }\n\t\t\t\t\tbody={ this.props.props.help_text.body }\n\t\t\t\t/>;\n\t\t}\n\n\t\treturn(\n\t\t\t<div className={ 'mpwpadmin-input-component-container' }>\n\t\t\t<label>\n\t\t\t{ this.render_field() }\n\t\t\t</label>\n\n\t\t\t{ help_lightbox_output }\n\n\t\t\t</div>\n\t\t)\n\t}\n\n};\n","/*\n* Church Tithe WP Admin\n* https://www.churchtithewp.com\n*\n* Licensed under the GPL license.\n*\n* Author: Church Tithe WP\n* Version: 1.0\n* Date: April 18, 2018\n*/\n\nwindow.mp_wp_admin_admin_lightbox_vars = {\n\ttitle: null,\n\tdescription: null,\n};\n\nwindow.MP_WP_Admin = class MP_WP_Admin extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tall_initial_visual_states: this.props.data.general_config.all_current_visual_states,\n\t\t\tall_current_visual_states: this.props.data.general_config.all_current_visual_states, // This is an object containing the entire visual state for the Single Page App\n\t\t\tlightbox_initial_visual_state: this.props.data.general_config.lightbox_visual_state,\n\t\t\tlightbox_visual_state: this.props.data.general_config.lightbox_visual_state,\n\t\t\tsingle_page_app_base_url: this.props.data.general_config.base_url,\n\t\t\tdom_node: null,\n\t\t\trefresh_sections: false\n\t\t};\n\n\t\tthis.get_current_view_class = this.get_current_view_class.bind( this );\n\t\tthis.set_all_current_visual_states = this.set_all_current_visual_states.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Grab the props passed in and pass them to the state\n\t\tthis.setState( {\n\t\t\tdata: this.props.data\n\t\t}, () => {\n\n\t\t\t// Set the initial view state based on the initialization props\n\t\t\tthis.setState( {\n\t\t\t\tall_initial_visual_states: this.state.data.general_config.all_current_visual_states,\n\t\t\t\tall_current_visual_states: this.state.data.general_config.all_current_visual_states, // This is an object containing the entire visual state for the Single Page App\n\t\t\t\tlightbox_initial_visual_state: this.state.data.general_config.lightbox_visual_state,\n\t\t\t\tlightbox_visual_state: this.state.data.general_config.lightbox_visual_state\n\t\t\t}, () => {\n\t\t\t\tthis.set_all_current_visual_states( this.state.all_initial_visual_states, this.state.lightbox_visual_state );\n\t\t\t} );\n\n\t\t} );\n\n\t\t// Create an event listener to respond to back button clicks\n\t\twindow.addEventListener('popstate', (e) => {\n\t\t\tthis.on_web_history_change( e, this );\n\t\t});\n\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.maybe_refresh_parent_dom_node();\n\t}\n\n\trefresh_mpwpadmin() {\n\n\t\treturn new Promise( (resolve, reject) => {\n\n\t\t\tvar this_component = this;\n\n\t\t\t// Format the data that we'll send to the server\n\t\t\tvar postData = new FormData();\n\t\t\tpostData.append('mpwpadmin_refresh_nonce', this.state.data.general_config.mpwpadmin_refresh_nonce);\n\n\t\t\tfetch( this.state.data.general_config.server_endpoint_url_refresh_mpwpadmin, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tmode: \"same-origin\",\n\t\t\t\tcredentials: \"same-origin\",\n\t\t\t\theaders: {},\n\t\t\t\tbody: postData\n\t\t\t} ).then(\n\t\t\t\tfunction( response ) {\n\t\t\t\t\tif ( response.status !== 200 ) {\n\t\t\t\t\t\tconsole.log('Looks like there was a problem. Status Code: ' +\n\t\t\t\t\t\tresponse.status);\n\t\t\t\t\t\treject();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Examine the text in the response\n\t\t\t\t\tresponse.json().then(\n\t\t\t\t\t\tfunction( data ) {\n\t\t\t\t\t\t\t// If we fetched brand new mpwpadmin data, refresh it\n\t\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\t\t// If the data is exact the same, do nothing\n\t\t\t\t\t\t\t\tif ( JSON.stringify( data.data ) == JSON.stringify( this_component.state.data ) ) {\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Save the refreshed data to the state of the main component\n\t\t\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\t\t\tdata: data.data\n\t\t\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\t\t\t// Once saved, tell the section components they can/should refresh. Whether/How they do is handled by the components themselves.\n\t\t\t\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\t\t\t\trefresh_sections: true\n\t\t\t\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\t\t\t\t// Now that the \"refresh\" trigger has been applied with refreshed data, set the refresh back to false for the sections so they don't loop infiniitely.\n\t\t\t\t\t\t\t\t\t\t\tthis_component.setState( {\n\t\t\t\t\t\t\t\t\t\t\t\trefresh_sections: false\n\t\t\t\t\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\t\t\t\t\t// Now that everything we want to do here is done, resolve the promise.\n\t\t\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t).catch(\n\t\t\t\tfunction( err ) {\n\t\t\t\t\tconsole.log('Fetch Error :-S', err);\n\t\t\t\t\treject();\n\t\t\t\t}\n\t\t\t);\n\n\t\t} );\n\n\t}\n\n\tmaybe_refresh_parent_dom_node() {\n\n\t\tif ( this.state.dom_node !== ReactDOM.findDOMNode(this).parentNode ) {\n\t\t\tthis.setState( {\n\t\t\t\tdom_node: ReactDOM.findDOMNode(this).parentNode\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tbuild_new_url_path( obj, new_url_path, depth ) {\n\t\tdepth = depth + 1;\n\t\tfor (var component_visual_state in obj) {\n\t\t\t\tnew_url_path = this.build_new_url_path(obj[component_visual_state], new_url_path + '&mpwpadmin' + depth + '=' + component_visual_state, depth );\n\t\t}\n\t\treturn new_url_path;\n\t}\n\n\tset_all_current_visual_states( new_state = false, new_lightbox_state = false ) {\n\n\t\treturn new Promise( (resolve, reject) => {\n\n\t\t\t// If no new state was passed, we're probably just updating the lightbox state.\n\t\t\tif ( ! new_state ) {\n\t\t\t\tnew_state = this.state.all_current_visual_states;\n\t\t\t}\n\t\t\tif ( ! new_lightbox_state ) {\n\t\t\t\tnew_lightbox_state = this.state.lightbox_visual_state\n\t\t\t}\n\n\t\t\t// Start refreshing the state of the entire mpwpadmin single page app. This happens in the background, almost like magic.\n\n\t\t\tthis.setState( {\n\t\t\t\tall_current_visual_states: new_state,\n\t\t\t\tlightbox_visual_state: new_lightbox_state\n\t\t\t}, () => {\n\n\t\t\t\t// If we are on mobile, make sure this app is in view as it's easy to get out of view on small screens when the height changes\n\t\t\t\tif ( 700 > screen.width ) {\n\t\t\t\t\tthis.state.dom_node.scrollIntoView( true, {\n\t\t\t\t\t\tbehavior: 'smooth'\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// New URL\n\t\t\t\tvar new_url = this.state.data.general_config.base_url + this.build_new_url_path( this.state.all_current_visual_states, '', 0 );\n\n\t\t\t\t// If there is a lightbox open, add it to the end of the URL\n\t\t\t\tif ( Object.keys(this.state.lightbox_visual_state)[0] ) {\n\t\t\t\t\tnew_url = new_url + '&mpwpadmin_lightbox=' + Object.keys(this.state.lightbox_visual_state)[0];\n\t\t\t\t}\n\n\t\t\t\t// Take a snapshot of the current visual state and add it to the web history\n\t\t\t\thistory.pushState({\n\t\t\t\t\t[this.state.data.general_config.app_slug + '_visual_state']: this.state.all_current_visual_states,\n\t\t\t\t\t[this.state.data.general_config.app_slug + '_lightbox_visual_state']: this.state.lightbox_visual_state\n\t\t\t\t}, new_state, new_url);\n\n\t\t\t\t/*\n\t\t\t\tthis.refresh_mpwpadmin().then( () => {\n\t\t\t\t\tresolve( new_state );\n\t\t\t\t} );\n\t\t\t\t*/\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\ton_web_history_change( e, this_component ) {\n\n\t\tvar history_state = e.state;\n\n\t\t// If there's no state in the back button, we're in the initial state.\n\t\tif (history_state == null) {\n\t\t\tthis_component.setState( {\n\t\t\t\t'all_current_visual_states': this_component.state.all_initial_visual_states,\n\t\t\t\t'lightbox_visual_state': this_component.state.initial_lightbox_visual_state\n\t\t\t} );\n\t\t}\n\t\t// If there is a state in the history, set the current state to that\n\t\telse {\n\t\t\tthis_component.setState( {\n\t\t\t\t'all_current_visual_states': history_state[this.state.data.general_config.app_slug + '_visual_state'],\n\t\t\t\t'lightbox_visual_state': history_state[this.state.data.general_config.app_slug + '_lightbox_visual_state']\n\t\t\t} );\n\t\t}\n\n\t}\n\n\tget_current_view_class( view_in_question ) {\n\n\t\tvar currently_in_view_class_name = 'mpwpadmin-current-view';\n\t\tvar hidden_class_name = 'mpwpadmin-hidden-view';\n\t\tvar current_visual_state = Object.keys(this.state.all_current_visual_states)[0]; // This grabs the name of the the first key, which is the visual state of this component\n\n\t\t// If the current visual state matches the view we are getting the class for\n\t\tif( current_visual_state == view_in_question ) {\n\n\t\t\treturn ' ' + currently_in_view_class_name;\n\n\t\t} else {\n\n\t\t\treturn ' ' + hidden_class_name;\n\n\t\t}\n\n\t}\n\n\tget_current_button_class( view_in_question ) {\n\n\t\tvar current_button_class_name = 'mpwpadmin-current-tab';\n\t\tvar current_visual_state = Object.keys(this.state.all_current_visual_states)[0]; // This grabs the name of the the first key, which is the visual state of this component\n\n\t\t// If the current visual state matches the view we are getting the class for\n\t\tif( current_visual_state == view_in_question ) {\n\n\t\t\treturn ' ' + current_button_class_name;\n\n\t\t} else {\n\n\t\t\treturn '';\n\n\t\t}\n\n\t}\n\n\trender_left_side_navigation_buttons() {\n\n\t\tvar current_visual_state = Object.keys(this.state.all_current_visual_states)[0]; // This grabs the name of the the first key, which is the visual state of this component\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in this.state.data.views) {\n\n\t\t\tmapper.push( <MP_WP_Admin_View_Button\n\t\t\t\tkey={key}\n\t\t\t\tmain_component={ this }\n\t\t\t\tview_slug={key}\n\t\t\t\tview_info={ this.state.data.views[key] }\n\t\t\t\tis_top_level={ true } />\n\t\t\t)\n\n\t\t}\n\n\t\t// This lets us output the buttons one by one\n\t\treturn mapper.map((view, index) => {\n\t\t\treturn view;\n\t\t})\n\t}\n\n\trender_actual_views( views, doing_sub_tabs = false, breadcrumbs = [] ) {\n\n\t\tvar current_visual_state = Object.keys(this.state.all_current_visual_states)[0]; // This grabs the name of the the first key, which is the visual state of this component\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in views ) {\n\n\t\t\tvar DynamicReactComponent = eval( views[key]['react_component'] );\n\n\t\t\t// Append this section's title to the breadcrumbs\n\t\t\tbreadcrumbs[key] = views[key]['visual_name'];\n\n\t\t\tmapper.push( <DynamicReactComponent\n\t\t\t\tkey={ key }\n\t\t\t\tmain_component={ this }\n\t\t\t\tview_slug={ key }\n\t\t\t\tview_info={ views[key] }\n\t\t\t\tcurrent_view_class={ this.get_current_view_class( key ) }\n\t\t\t\tthe_breadcrumbs={ breadcrumbs }\n\t\t\t/> )\n\n\t\t\tvar sub_tabs = views[key]['sub_tabs'];\n\n\t\t\t// If this section (even if this is a subsection) has subsections within/below it\n\t\t\tif ( sub_tabs ) {\n\n\t\t\t\tmapper.push( this.render_actual_views( sub_tabs, true, breadcrumbs ) );\n\n\t\t\t\t// We're done with all the subsections in this section\n\t\t\t\tbreadcrumbs = [];\n\t\t\t} else {\n\t\t\t\tbreadcrumbs = [];\n\t\t\t}\n\t\t}\n\n\t\t// If we are doing a sub-section, return the mapper here so it gets rejoined with the parent mapper. We're doing some method inception here.\n\t\tif ( doing_sub_tabs ) {\n\n\t\t\treturn mapper;\n\n\t\t} else {\n\n\t\t\t// This lets us output the buttons one by one\n\t\t\treturn mapper.map((view, index) => {\n\t\t\t\treturn view;\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\n\t\tif ( ! this.state.data || ! this.state.all_current_visual_states ) {\n\t\t\treturn( '' );\n\t\t}\n\n\t\tvar current_visual_state = Object.keys(this.state.all_current_visual_states)[0]; // This grabs the name of the the first key, which is the visual state of this component\n\n\t\treturn (\n\t\t\t<div className={ 'mpwpadmin-container mpwpadmin-current-view-is-' + current_visual_state }>\n\t\t\t\t<div className=\"mpwpadmin-left-side-navigation\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{ this.render_left_side_navigation_buttons() }\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='mpwpadmin-current-view-container'>\n\t\t\t\t\t{ this.render_actual_views( this.state.data.views ) }\n\t\t\t\t</div>\n\n\t\t\t\t<MP_WP_Admin_Lightbox />\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// This component outputs all of the left-size navigation\nwindow.MP_WP_Admin_View_Button = class MP_WP_Admin_View_Button extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\t}\n\n\trender_submenu() {\n\n\t\tvar sub_menus = this.props.view_info.sub_tabs;\n\n\t\tif ( ! sub_menus ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar mapper = [];\n\n\t\t// This lets us loop through the object\n\t\tfor (var key in sub_menus) {\n\n\t\t\tvar view_info = sub_menus[key] ? sub_menus[key] : false;\n\n\t\t\tmapper.push(\n\t\t\t\t<MP_WP_Admin_View_Button\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tmain_component={ this.props.main_component }\n\t\t\t\t\tview_slug={ key }\n\t\t\t\t\tview_info={ view_info }\n\t\t\t\t\tis_top_level={ false }\n\t\t\t\t/>\n\t\t\t)\n\n\t\t}\n\n\t\t// This lets us output the buttons one by one\n\t\treturn mapper.map((view, index) => {\n\t\t\treturn view;\n\t\t})\n\n\t}\n\n\thandle_button_click( new_state, event ) {\n\t\tthis.props.main_component.set_all_current_visual_states( {\n\t\t\t[this.props.view_slug]: {}\n\t\t} );\n\t}\n\n\trender() {\n\n\t\tif ( this.props.is_top_level ) {\n\t\t\treturn (\n\t\t\t\t<li className={ \"mpwpadmin-left-tab-button\" + this.props.main_component.get_current_button_class( this.props.view_slug )  }>\n\t\t\t\t\t<button onClick={ this.handle_button_click.bind( this, {\n\t\t\t\t\t\t[this.props.view_slug]: {}\n\t\t\t\t\t} ) }>\n\t\t\t\t\t\t<span className=\"mpwpadmin-left-tab-text\">{ this.props.view_info.visual_name }</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{ this.render_submenu() }\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<li className={ \"mpwpadmin-left-tab-button-subtab\" + this.props.main_component.get_current_button_class( this.props.view_slug )  }>\n\t\t\t\t\t<button onClick={ this.handle_button_click.bind( this, {\n\t\t\t\t\t\t[this.props.view_slug]: {}\n\t\t\t\t\t} ) }>\n\t\t\t\t\t\t<i className=\"mpwpadmin-left-tab-arrow\"></i>\n\t\t\t\t\t\t<span className=\"mpwpadmin-left-tab-text\">{ this.props.view_info.visual_name }</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{ this.render_submenu() }\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t}\n}\n\nwindow.MP_WP_Admin_Lightbox = class MP_WP_Admin_Lightbox extends React.Component {\n\n\tconstructor( props ){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thas_mounted: false,\n\t\t\tlightbox_open: false\n\t\t}\n\n\t\tthis.handle_key_press = this.handle_key_press.bind( this );\n\t\tthis.toggle_lightbox = this.toggle_lightbox.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.handle_open_status_based_on_url();\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\tif ( ! this.state.lightbox_open ) {\n\t\t\t// Remove a listener for the ESC key when the lightbox is closed\n\t\t\tdocument.removeEventListener(\"keydown\", this.handle_key_press, false);\n\t\t} else {\n\n\t\t\tif ( ! this.state.has_mounted ) {\n\t\t\t\tthis.setState( {\n\t\t\t\t\thas_mounted: true\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Add a listener for the ESC key when the lightbox is open\n\t\t\tdocument.addEventListener(\"keydown\", this.handle_key_press, false);\n\t\t}\n\n\t\tthis.handle_open_status_based_on_url();\n\t}\n\n\thandle_open_status_based_on_url() {\n\n\t\t// If a lightbox is open based on the setting in the main component\n\t\tif ( this.props.main_component && this.props.main_component.state.lightbox_visual_state ) {\n\t\t\t// Check if that lightbox is us!\n\t\t\tif ( this.props.slug == Object.keys(this.props.main_component.state.lightbox_visual_state)[0] ) {\n\t\t\t\t// Open this lightbox if it isn't already open\n\t\t\t\tif ( ! this.state.lightbox_open ) {\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tlightbox_open:  true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If the current lightbox in the URL is not us, close this one.\n\t\t\telse {\n\t\t\t\tif ( this.state.lightbox_open ) {\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tlightbox_open:  false\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tget_lightbox_visible_class() {\n\t\tif ( this.state.lightbox_open ) {\n\t\t\treturn ' mpwpadmin-lightbox-open';\n\t\t} else {\n\t\t\treturn ' mpwpadmin-lightbox-closed';\n\t\t}\n\t}\n\n\ttoggle_lightbox( state ) {\n\n\t\t// If the lightbox is open, close it\n\t\tif ( state.lightbox_open ) {\n\t\t\tthis.props.main_component.set_all_current_visual_states( false, {} );\n\t\t} else {\n\t\t\tthis.props.main_component.set_all_current_visual_states( false, {\n\t\t\t\t[this.props.slug]: {}\n\t\t\t} );\n\t\t}\n\n\t}\n\n\thandle_key_press( event ) {\n\n\t\tif( event.keyCode === 27 ) {\n\t\t\tthis.toggle_lightbox( this.state );\n\t\t}\n\n\t}\n\n\thandle_close_button_click() {\n\t\tthis.props.main_component.set_all_current_visual_states( false, {} );\n\t}\n\n\trender_close_button() {\n\n\t\treturn (\n\t\t\t<div className=\"mpwpadmin-close-btn\" aria-label=\"Close\" onClick={ this.handle_close_button_click.bind( this ) }><span className=\"dashicons dashicons-no\"></span></div>\n\t\t);\n\t}\n\n\trender_icon() {\n\n\t\tif ( this.props.main_component && this.props.main_component.state.data.general_config.default_icon ) {\n\t\t\treturn (\n\t\t\t\t<div className={ 'mpwpadmin-lightbox-icon-container' }>\n\t\t\t\t\t<div className=\"mpwpadmin-lightbox-icon\">\n\t\t\t\t\t\t<img src={ this.props.main_component.state.data.general_config.default_icon } />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\trender_title() {\n\n\t\tif ( this.props.title ) {\n\t\t\treturn this.props.title;\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t};\n\n\trender_body() {\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{ this.render_icon() }\n\t\t\t\t<h2 className={ 'mpwpadmin-lightbox-input-title' }>{ this.render_title() }</h2>\n\t\t\t\t<div className={ 'mpwpadmin-lightbox-input-description' }>\n\t\t\t\t\t{ this.props.body }\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t};\n\n\trender_component() {\n\t\treturn ( this.props.custom_react_component );\n\t};\n\n\trender_based_on_mode() {\n\n\t\tif ( 'custom_react_component' == this.props.mode ) {\n\t\t\treturn this.render_component();\n\t\t}\n\n\t\treturn this.render_body();\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className={ 'mpwpadmin-lightbox-background mpwpadmin-lightbox' + this.get_lightbox_visible_class() }>\n\t\t\t\t<div className={ 'mpwpadmin-lightbox-outside-click-to-close' } onClick={ this.toggle_lightbox.bind( null, this.state ) } />\n\t\t\t\t<div className={ 'mpwpadmin-lightbox-relative' }>\n\t\t\t\t\t<div className={ 'mpwpadmin-lightbox-absolute' }>\n\t\t\t\t\t\t<div className={ 'mpwpadmin-lightbox-inner' }>\n\t\t\t\t\t\t\t{ this.render_close_button() }\n\t\t\t\t\t\t\t{ this.render_based_on_mode() }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nwindow.MP_WP_Admin_Spinner = class MP_WP_Admin_Spinner extends React.Component{\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"mpwpadmin-spinner\">\n\t\t\t\t<div className=\"mpwpadmin-double-bounce1\"></div>\n\t\t\t\t<div className=\"mpwpadmin-double-bounce2\"></div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n// Accepts an all visual states object, a visual tree object acting as a map for the location of the component in question, and a boolean\n// It then recursively goes throguh the component tree object, checking if\nfunction mpwpadmin_visual_state_should_become( all_current_visual_states, map_of_visual_states, visual_state_should_become, default_visual_state ) {\n\n\t// The component tree is a \"map\" that tells use where this component lives within the parent\n\tfor ( var level in map_of_visual_states ) {\n\t\t// If the current component's top-level parent is set in the current visual states object, great! Keep going.\n\t\tif ( all_current_visual_states[level] ) {\n\n\t\t\t// If there are other components ahead of this component in the tree\n\t\t\tif ( typeof map_of_visual_states[level] !== 'undefined' && typeof map_of_visual_states[level] === 'object' && Object.keys(map_of_visual_states[level]).length !== 0){\n\t\t\t\t// Recursively nest down into the next parent component to see if it is set in the current visual states object.\n\t\t\t\tvisual_state_should_become = mpwpadmin_visual_state_should_become( all_current_visual_states[level], map_of_visual_states[level], visual_state_should_become, default_visual_state );\n\t\t\t} else {\n\n\t\t\t\t// If we are at the end of the component tree, and the component level is in the current visual states object, it's in view!\n\t\t\t\tvisual_state_should_become = level;\n\n\t\t\t}\n\t\t} else if ( 'variable' === level ) {\n\n\t\t\t// If we are at the end of the component tree, and the component level is variable, grab the value from the master view object at this level\n\t\t\tif ( Object.keys(all_current_visual_states)[0] ) {\n\t\t\t\tvisual_state_should_become = Object.keys(all_current_visual_states)[0];\n\t\t\t} else {\n\t\t\t\tvisual_state_should_become = default_visual_state;\n\t\t\t}\n\n\t\t} else {\n\t\t\tvisual_state_should_become = default_visual_state;\n\t\t}\n\n\t}\n\n\treturn visual_state_should_become;\n}\n\nwindow.mpwpadmin_set_visual_state_of_component = function mpwpadmin_set_visual_state_of_component( settings ) {\n\n\treturn new Promise( (resolve, reject) => {\n\n\t\t// If we don't have the variables we require, fail.\n\t\tif ( ! settings.component ) {\n\t\t\tthrow new Error( 'The function \"mpwpadmin_set_visual_state_of_component\" is missing required variables' );\n\t\t}\n\n\t\tif ( ! settings.component.props.main_component.state.all_current_visual_states ) {\n\t\t\tthrow new Error( 'A visual states object is required.' );\n\t\t}\n\n\t\tif ( ! settings.component.state.map_of_visual_states ) {\n\t\t\tthrow new Error( 'The component must have a map of the view states stored in the state with the key \"map_of_visual_states\"' );\n\t\t}\n\n\t\tvar new_map_of_visual_states = mpwpadmin_get_default_map_of_visual_states( settings.component.state.map_of_visual_states, settings.default_visual_state );\n\n\t\t// Figure out if the parent component is in view\n\t\tfor ( var level in settings.component.props.main_component.state.all_current_visual_states ) {\n\t\t\tif ( ! new_map_of_visual_states[level] ) {\n\t\t\t\tparent_component_is_in_view = false;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tparent_component_is_in_view = true;\n\t\t\t}\n\t\t}\n\n\t\t// If the parent component is in view, just set it to a default and do nothing else\n\t\tif ( ! parent_component_is_in_view ) {\n\t\t\tvar visual_state_should_become = settings.default_visual_states.parent_not_in_view;\n\t\t} else {\n\t\t\tvar visual_state_should_become = mpwpadmin_visual_state_should_become( settings.component.props.main_component.state.all_current_visual_states, settings.component.state.map_of_visual_states, false, settings.default_visual_states.parent_in_view );\n\t\t}\n\n\t\t// If the state of the component is already the current state in the master visual states object, do nothing.\n\t\tif ( settings.component.state[settings.name_of_visual_state_variable] == visual_state_should_become ) {\n\n\t\t\tresolve( visual_state_should_become );\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\tif ( ! visual_state_should_become ) {\n\n\t\t\t\tsettings.component.setState( {\n\t\t\t\t\t[settings.name_of_visual_state_variable]: settings.default_visual_states.parent_not_in_view\n\t\t\t\t}, function() {\n\t\t\t\t\t//console.log( 'setting default state to: ' + settings.default_visual_states.parent_not_in_view + ' where default was ' + settings.default_visual_states.parent_in_view );\n\t\t\t\t\tresolve( settings.default_visual_states.parent_not_in_view );\n\t\t\t\t} );\n\n\t\t\t} else {\n\n\t\t\t\tsettings.component.setState( {\n\t\t\t\t\t[settings.name_of_visual_state_variable]: visual_state_should_become\n\t\t\t\t}, function() {\n\t\t\t\t\t//console.log( 'setting visual state to: ' + visual_state_should_become + ' where default was ' + settings.default_visual_states.parent_in_view );\n\t\t\t\t\tresolve( visual_state_should_become );\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t});\n\n}\n\nfunction mpwpadmin_get_default_map_of_visual_states( map_of_visual_states, default_visual_state, new_map_of_visual_states = {}, previous_level = false ) {\n\n\tfor ( var level in map_of_visual_states ) {\n\n\t\t// If there's another level, keep going\n\t\tif ( typeof map_of_visual_states[level] !== 'undefined' && typeof map_of_visual_states[level] === 'object' && Object.keys(map_of_visual_states[level]).length !== 0) {\n\n\t\t\t// If we at a level great than 1\n\t\t\tif ( previous_level ) {\n\t\t\t\tvar temp = {};\n\t\t\t\ttemp[level] = {};\n\t\t\t\tnew_map_of_visual_states[previous_level] = mpwpadmin_get_default_map_of_visual_states( map_of_visual_states[level], default_visual_state, temp, level );\n\t\t\t}\n\t\t\t// If we are at the top level\n\t\t\telse {\n\t\t\t\tnew_map_of_visual_states[level] = {};\n\t\t\t\tnew_map_of_visual_states = mpwpadmin_get_default_map_of_visual_states( map_of_visual_states[level], default_visual_state, new_map_of_visual_states, level );\n\t\t\t}\n\n\t\t\treturn new_map_of_visual_states;\n\t\t}\n\t\t// If the last level is reached and it's variable, or empty, set it to the default state and be done. No more nesting and looping.\n\t\telse if ( 'variable' === level || 0 === Object.keys(map_of_visual_states[level]).length) {\n\t\t\tnew_map_of_visual_states[previous_level][default_visual_state] = {};\n\t\t\treturn new_map_of_visual_states;\n\t\t}\n\t\t// If there's no more levels, and the last level isn't \"variable\", set it to the current level and be done. No more nesting and looping.\n\t\telse {\n\t\t\tnew_map_of_visual_states[previous_level][level] = {};\n\t\t\treturn new_map_of_visual_states;\n\t\t}\n\t}\n\n}\n"],"sourceRoot":""}